var pSEngine=function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/",e(e.s=7)}([function(t,i,e){"use strict";e(1);class s{constructor(t,i,e="rgb(255, 255, 255)",s){this.x=t||0,this.y=i||0,this.z=0,this.color=e,this.setName(s)}set(t,i,e){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=t||0,this.z=t||0,this)}setName(t){return null==t||(t instanceof Text?this.name=t:this.name=new Text(t,new s(this.x,this.y))),this}equals(t,i,e){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==i&&this.z==e}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,i,e){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=i||0,this.y+=e||0,this)}sub(t,i,e){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-i,-e)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,i){return t.copy().add(i)}static sub(t,i){return t.copy().sub(i)}static mult(t,i){return t.copy().mult(i)}static div(t,i){return t.copy().div(i)}dot(t,i,e){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(i||0)+this.z*(e||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,i){let e=this.mag();return e<t&&this.div(e).mult(t),e>i&&this.div(e).mult(i),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const i=this.getAngle()+t,e=this.mag();return this.x=Math.cos(i)*e,this.y=Math.sin(i)*e,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,i){return s.sub(t,i).mag()}static dot(t,i,e,s){return t.copy().dot(i,e,s)}static cross(t,i){return t.copy().cross(i)}static normalize(t){return t.copy().normalize()}static rotate(t,i){return t.copy().rotate(i)}draw(t,i,e){null!=t?s.draw(t,this,this.color,i,e):s.draw(void 0,this,this.color)}static draw(t,i,e="rgb(255, 255, 255)",s=5,n=1){(null!=t&&0!=t.z||0!=i.z)&&console.warn("Vector drawing is only implemented in 2D yet.");let o=_pSimulationInstance.plotter;if(push(),null!=t){let i=o.computeForXY(t.x,t.y);translate(i.x-width/2,i.y-height/2)}let r=o.computeForXY(0,0),a=o.computeForXY(i.x,i.y);if(push(),o.drawer.stroke(e).strokeWeight(n).fill(e),line(r.x,r.y,a.x,a.y),translate(a.x,a.y),rotate(a.sub(r).getAngle()),translate(-s-2,0),triangle(0,s/2,0,-s/2,s,0),pop(),null!=i.name){let t=i.getAngle();t<0&&(t+=2*PI);let r=.8*i.name.cWidth;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(r*=-1);let a=-1.1*i.name.desc+1.1*i.name.asc;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(a*=-1),i.name.setColor(e).setPosition(i.x/2,i.y/2).setOffset(r,a).draw(o.drawer);let h=o.computeForXY(i.x/2,i.y/2);o.drawer.stroke(e).strokeWeight(n).fill(e),translate(h.x+r-i.name.cWidth/2,h.y+a-i.name.asc),line(0,0,i.name.cWidth,0),push(),translate(s+i.name.cWidth/1.5,0),triangle(0,s/4,0,-s/4,s/2,0),pop()}return pop(),this}}i.a=s},function(t,i,e){"use strict";i.a=class{constructor(t,i,e=18,s="#FFFFFF",n=!1){this.text=t,this.textSize=e,this.color=s,this.pos=i,this.xOffset=0,this.yOffset=0,this.showHitbox=n,this.calculateValues()}draw(){let t=_pSimulationInstance.plotter.drawer,i=t.plotter.computeForXY(this.pos.x,this.pos.y);push(),textSize(this.textSize),t.noStroke().fill(this.color),translate(-this.cWidth/2+this.xOffset,(-this.desc+this.asc)/2+this.yOffset),text(this.text,i.x,i.y),this.showHitbox&&(t.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y-this.asc,i.x+this.cWidth,i.y-this.asc),line(i.x,i.y+this.desc,i.x+this.cWidth,i.y+this.desc),line(i.x,i.y+this.desc,i.x,i.y-this.asc),line(i.x+this.cWidth,i.y+this.desc,i.x+this.cWidth,i.y-this.asc)),pop()}calculateValues(){textSize(this.textSize),this.asc=.8*textAscent(),this.desc=.8*textDescent(),this.cWidth=textWidth(this.text)}setText(t){return this.text=t,this.calculateValues(),this}setPosition(t,i){return this.pos.x=t,this.pos.y=i,this}setOffset(t,i){return this.xOffset=t,this.yOffset=i,this}setColor(t){return this.color=t,this}}},function(t,i,e){"use strict";var s=e(3),n=e(4);i.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){this.createP5Instance(),this.plotter=new s.a(this,new n.a),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let i=this.config.engine.runner;i.UPDATE_FPS>=i.DRAW_FPS?frameRate(i.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,i=Date.now(),e=(i-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;e>s&&(e=t.dtMoy),t.lastUpdateTime=i,t.plotter.update(e*t.config.engine.runner.simulationSpeed),i-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(e<=s&&(t.dtTotal+=e,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=i)},window.windowResized=function(){let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)}}getCanvasProportions(t){let i,e;return t.isRelative?(i=windowWidth*t.width,e=windowHeight*t.height):(i=t.width+"px",e=t.height+"px"),{w:i,h:e}}addObjects(t,i=1,...e){if(t instanceof Function)for(let s=0;s<i;s++){let i=[];for(let t=0;t<e.length;t++)e[t]instanceof Array&&null!=e[t][0]&&null!=e[t][1]&&e[t][1]instanceof Function?e[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?i.push(e[t][1](...e[t].slice(2))):e[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&i.push(new e[t][1](...e[t].slice(2))):i.push(e[t]);this.plotter.objectsL.push(new t(...i))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15}},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,squareByX:!0},offset:{x:0,y:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},gridColor:{r:255,g:255,b:255,a:.6},displayGrid:!0}}}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}}},function(t,i,e){"use strict";e(0);i.a=class{constructor(t,i){this.simulator=t,this.drawer=i,this.objectsL=[],this.drawer.plotter=this}update(t){for(let i=0;i<this.objectsL.length;i++)this.objectsL[i].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,i=t.backgroundColor.color;t.backgroundColor.draw&&background(i.r,i.g,i.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid){let i=this.computeForXY(0,0);this.drawer.noStroke().fill(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).ellipse(i.x,i.y,10,10)}}computeForXY(t,i){let e=this.simulator.config.engine.plotter,s=new Vector(((t+e.offset.x)/e.scale.x+1)*width/2);return e.scale.squareByX?s.y=(-i+e.offset.y)/e.scale.x*width/2+height/2:s.y=((-i+e.offset.y)/e.scale.y+1)*height/2,s}}},function(t,i,e){"use strict";i.a=class{constructor(t){this.plotter=null}point(t,i){let e=this.plotter.computeForXY(t,i);return point(e.x,e.y),this}line(t,i,e,s){let n=this.plotter.computeForXY(t,i),o=this.plotter.computeForXY(e,s);return line(n.x,n.y,o.x,o.y),this}ellipse(t,i,e,s){let n=this.plotter.computeForXY(t,i);return ellipse(n.x,n.y,e,s),this}circle(t,i,e){return this.ellipse(t,i,e,e)}stroke(t,i,e,s){return null==s?null==e?null==i?stroke(t):stroke(t,i):stroke(t,i,e):stroke(`rgba(${t}, ${i}, ${e}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,i,e,s){return null==s?null==e?null==i?fill(t):fill(t,i):fill(t,i,e):fill(`rgba(${t}, ${i}, ${e}, ${s})`),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,i,e){"use strict";i.a=class{constructor(t,i=.1){switch(t||(t="linear"),t){case"linear":this.f=t=>t;break;case"easeInOutCubic":this.f=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}}this.scaleTime=i,this.isAnimating=!1,this.initialT=0,this.timeDirection=1}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}reverse(){this.timeDirection*=-1}nextKey(){let t=(new Date).getTime(),i=t/1e3-this.initialT;return this.timeDirection<0&&(i=t),i>1*this.scaleTime&&this.timeDirection>0||i<1*this.scaleTime&&this.timeDirection<0||(this.lastKey=this.f(i)/this.scaleTime),this.lastKey}}},function(t,i,e){"use strict";e(0),e(5),e(1);i.a=class{constructor(t,i,e,s,n=6,o,r=!0){this.pos=new Vector(t,i,e,o),null!=s&&(this.pointName=new Text(s,this.pos,18,e)),this.drawOriginVector=r,this.pointSize=n,this.pointSizeDrawing=n,this.animation=new Animation("easeInOutCubic"),this.textPadding=.4}update(){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}handleMouseOver(t,i,e,s){this.pos.x>t&&i>this.pos.x&&this.pos.y>e&&s>this.pos.y?(this.animation.isAnimating||this.animation.start(),this.pointSizeDrawing=this.pointSize+100*this.animation.nextKey()):(this.animation.stop(),this.pointSizeDrawing=this.pointSize)}}},function(t,i,e){t.exports=e(8)},function(t,i,e){"use strict";e.r(i),function(t){e(2);var i=e(6),s=e(1),n=e(5),o=(e(4),e(3),e(0));e(10);t.Point=i.a,t.Text=s.a,t.Animation=n.a,t.Vector=o.a}.call(this,e(9))},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,i,e){"use strict";var s=e(2);var n=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate()}}};new Promise((t,i)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new n})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9TaW11bGF0b3IuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL1Bsb3R0ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvQW5pbWF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1BvaW50LmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9tYWluLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2NvcmUvaW5pdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZlY3RvciIsIngiLCJ5IiwiY29sb3IiLCJ0aGlzIiwieiIsInNldE5hbWUiLCJ1bmRlZmluZWQiLCJUZXh0IiwiZXF1YWxzIiwic2V0IiwiYWRkIiwic3ViIiwiaXNGaW5pdGUiLCJjb25zb2xlIiwid2FybiIsImVycm9yIiwibXVsdCIsInYxIiwidjIiLCJjb3B5IiwiZGl2IiwiZG90IiwidiIsInZMZW4iLCJtYWciLCJtaW4iLCJtYXgiLCJNYXRoIiwic3FydCIsIm5vcm1hbGl6ZSIsImFuZ2xlIiwibmV3QW5nbGUiLCJnZXRBbmdsZSIsIm1hZ25pdHVkZSIsImNvcyIsInNpbiIsImF0YW4yIiwiY3Jvc3MiLCJyb3RhdGUiLCJpbml0aWFsUG9zIiwiaGVhZFNpemUiLCJzdHJva2VXZWlnaHQiLCJkcmF3IiwicG9pbnRpbmdQb3MiLCJzdHJva2VXIiwicGxvdHRlciIsIl9wU2ltdWxhdGlvbkluc3RhbmNlIiwicHVzaCIsImNvbXB1dGVGb3JYWSIsInRyYW5zbGF0ZSIsIndpZHRoIiwiaGVpZ2h0IiwienpQb3NpdGlvbiIsImVuZFBvcyIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJsaW5lIiwidHJpYW5nbGUiLCJwb3AiLCJQSSIsInhPZmZzZXQiLCJjV2lkdGgiLCJ5T2Zmc2V0IiwiZGVzYyIsImFzYyIsInNldENvbG9yIiwic2V0UG9zaXRpb24iLCJzZXRPZmZzZXQiLCJhcnJvd09yUG9zIiwidGV4dCIsInBvcyIsInRleHRTaXplIiwic2hvd0hpdGJveCIsImNhbGN1bGF0ZVZhbHVlcyIsIm5vU3Ryb2tlIiwibm9GaWxsIiwidGV4dEFzY2VudCIsInRleHREZXNjZW50IiwidGV4dFdpZHRoIiwiY29uZmlnIiwiYmVnaW5UaW1lIiwiRGF0ZSIsIm5vdyIsImxhc3RVcGRhdGVUaW1lIiwibGFzdERyYXdUaW1lIiwiZW5naW5lIiwiZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZyIsImN1c3RvbSIsIndpbmRvdyIsImdldEN1c3RvbUNvbmZpZyIsImdldEVuZ2luZUNvbmZpZyIsImR0TW95IiwicnVubmVyIiwicm9sbGJhY2tDb250cm9sIiwibWluaW1hbFVwZGF0ZUZQUyIsImR0VG90YWwiLCJkdENvdW50IiwiY3JlYXRlUDVJbnN0YW5jZSIsInJ1blNpbXVsYXRvciIsImdldENhbnZhc1Byb3BvcnRpb25zIiwicHJvcG9ydGlvbnMiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJ3IiwiaCIsInBhcmVudCIsImRpdklkIiwicnUiLCJVUERBVEVfRlBTIiwiRFJBV19GUFMiLCJmcmFtZVJhdGUiLCJjdXJyZW50VGltZSIsImR0IiwiY3JpdGlxRHQiLCJtYXhTdGFuZGFyZERldmlhdGlvbiIsInVwZGF0ZSIsInNpbXVsYXRpb25TcGVlZCIsImF2ZXJhZ2VUaW1lU2FtcGxlIiwid2luZG93UmVzaXplZCIsInJlc2l6ZUNhbnZhcyIsImNQIiwiaXNSZWxhdGl2ZSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiY3VzdG9tT2JqZWN0IiwibnVtYmVyIiwicGFyYW1zIiwiRnVuY3Rpb24iLCJjb3B5UGFyYW1zVGVtcCIsImoiLCJsZW5ndGgiLCJBcnJheSIsImFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyIsInJ1bkZ1bmN0aW9ucyIsInNsaWNlIiwicnVuQ2xhc3MiLCJvYmplY3RzTCIsInNjYWxlIiwic3F1YXJlQnlYIiwib2Zmc2V0IiwiYmFja2dyb3VuZENvbG9yIiwiZyIsImIiLCJncmlkQ29sb3IiLCJhIiwiZGlzcGxheUdyaWQiLCJjb25maWdGdW5jIiwic2ltdWxhdG9yIiwicGxDb25mIiwiYmciLCJiYWNrZ3JvdW5kIiwiY2VudGVyUG9zIiwiZWxsaXBzZSIsInhSZWwiLCJ5UmVsIiwicG9pbnQiLCJ4MCIsInkwIiwieDEiLCJ5MSIsInYwIiwicngiLCJyeSIsImFuaW1hdGlvbk5hbWUiLCJzY2FsZVRpbWUiLCJmIiwiaXNBbmltYXRpbmciLCJpbml0aWFsVCIsInRpbWVEaXJlY3Rpb24iLCJnZXRUaW1lIiwibGFzdEtleSIsInBvaW50TmFtZSIsInBvaW50U2l6ZSIsInZlY3Rvck5hbWUiLCJkcmF3T3JpZ2luVmVjdG9yIiwicG9pbnRTaXplRHJhd2luZyIsImFuaW1hdGlvbiIsIkFuaW1hdGlvbiIsInRleHRQYWRkaW5nIiwicGFyc2VJbnQiLCJtWDEiLCJtWDIiLCJtWTEiLCJtWTIiLCJzdGFydCIsIm5leHRLZXkiLCJzdG9wIiwiZ2xvYmFsIiwiUG9pbnQiLCJlIiwicDUiLCJzZXR1cCIsImluc3RhbmNpYXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGhlbiJdLCJtYXBwaW5ncyI6InlCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVB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S0FBWSxJQUduQnFMLEVBQU9WLFVBQVksSUFHbkJVLEVBQU83TCxPQUFZLEssK0JDNUJuQixJQUFJK0ksRUFHSkEsRUFBSSxXQUNILE9BQU8zSSxLQURKLEdBSUosSUFFQzJJLEVBQUlBLEdBQUssSUFBSWQsU0FBUyxjQUFiLEdBQ1IsTUFBTzhELEdBRWMsaUJBQVhyRyxTQUFxQnFELEVBQUlyRCxRQU9yQzNILEVBQU9ELFFBQVVpTCxHLHdDQ0RGLE1BaEJmLE1BQ0MsY0FDaUJ4SSxNQUFibUYsT0FBT3NHLElBQ1RsTCxRQUFRRSxNQUNQLHVFQUNBLDBEQUlGMEUsT0FBT3VHLE1BQVEsV0FDZHZHLE9BQU8zQyxxQkFBdUIsSUFBSSxJQUNsQzJDLE9BQU8zQyxxQkFBcUJtSixpQkNQRixJQUFJQyxRQUFRLENBQUNDLEVBQVNDLEtBQ3BCLFlBQXhCQyxTQUFTQyxXQUNSSCxJQUVBMUcsT0FBTzhHLGlCQUFpQixPQUFRSixHQUFTLEtBRzVCSyxLQVhPLEtBQzNCLElBQUkiLCJmaWxlIjoicFNFbmdpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsImltcG9ydCAnLi8uLi9kcmF3ZXIvb2JqZWN0cy9UZXh0JztcclxuXHJcbi8qKlxyXG4qIEEgY2xhc3MgZm9yIGV2ZXJ5IDNEIFZlY3RvcnMuXHJcbiogPGJyLz5QbGVhc2Ugbm90ZSB0aGF0IGN1cnJlbnQgdmVjdG9yIG1heSBvbmx5IGJlIHVzZWQgaW4gPGI+MkQ8L2I+LlxyXG4qL1xyXG5jbGFzcyBWZWN0b3Ige1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgVmVjdG9yIChlYWNoIGNvb3JkaW5hdGUgZ2V0cyBhIDAgaWYgdmFsdWUgbm90IHByb3ZpZGVkKVxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSBjb2xvciBDb2xvciBvZiB0aGUgVmVjdG9yICdyZ2JhKFIsIEcsIEIsIEEpJ1xyXG4gICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBWZWN0b3IgdG8gYmUgcG90ZW50aWFsbHkgZGlzcGxheWVkIChAc2VlIGRyYXcgbWV0aG9kKVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBjb2xvciA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy54ICAgID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSAgICA9IHkgfHwgMDtcclxuICAgICAgICB0aGlzLnogICAgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TmFtZShuYW1lKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgTUVUSE9EUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgeCwgeSwgeiBjb29yZGluYXRlcyAoZWFjaCBjb29yZGluYXRlIGdldHMgYSAwIGlmIHZhbHVlIG5vdCBwcm92aWRlZClcclxuICAgICogQHBhcmFtIHggTmV3IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IHRvIGJlIGVxdWFsIHRvXHJcbiAgICAqIEBwYXJhbSB5IE5ldyBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogTmV3IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geC54IHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHgueSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnogPSB4LnogfHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueiA9IHggfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHZlY3RvciBuYW1lXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5ldyBuYW1lIG9mIHRoZSBWZWN0b3JcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TmFtZShuYW1lKSB7XHJcbiAgICAgICAgaWYobmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgICAgICBpZihuYW1lIGluc3RhbmNlb2YgVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBUZXh0KG5hbWUsIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnkpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoZWNrIGlmIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgYXJlIGVxdWFsXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4IGZvciBlZ2FsaXR5IGNoZWNraW5nXHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0cnVlIGlmIGVxdWFsXHJcbiAgICAqL1xyXG4gICAgZXF1YWxzKHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoeC54LCB4LnksIHgueik7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy54ID09IHgpICYmICh0aGlzLnkgPT0geSkgJiYgKHRoaXMueiA9PSB6KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQHJldHVybiBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgVmVjdG9yICovXHJcbiAgICBjb3B5KCkgeyByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoaXMgVmVjdG9yIHdpdGggY29vcmRpbmF0ZXMgc2V0IHRvICgwLCAwLCAwKSAqL1xyXG4gICAgY2xlYXIoKSB7IHJldHVybiB0aGlzLnNldCgwLCAwLCAwKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIEEgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgKi9cclxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYFZlY3RvciBPYmplY3QgOiBbJHt0aGlzLnh9LCAke3RoaXMueX0sICR7dGhpcy56fV1gOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qID09PT09PT09PSBCQVNJQyBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBBZGQgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGFkZCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICB0aGlzLnggKz0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSArPSB5IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICs9IHogfHwgMDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU3VzdHJhY3QgdHdvIHZlY3RvcnMgb3IgcGFpciBvZiBjb29yZGluYXRlcyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN1Yih4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3ViKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQoLXgsIC15LCAteik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBtdWx0aXBsaWNhdGlvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbXVsdChjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjptdWx0KCknLFxyXG4gICAgICAgICAgICAgICAgJ2MgaXMgdW5kZWZpbmVkIG9yIGlzblxcJ3QgYSBmaW5pdGUgbnVtYmVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueCAqPSBjO1xyXG4gICAgICAgIHRoaXMueSAqPSBjO1xyXG4gICAgICAgIHRoaXMueiAqPSBjO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHRoaXMgVmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSBjIFRoZSBkaXZpc2lvbiBzY2FsYXJcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZGl2KGMpIHtcclxuICAgICAgICBpZighKHR5cGVvZiBjID09PSAnbnVtYmVyJykgfHwgIWlzRmluaXRlKGMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICdWZWN0b3I6OmRpdigpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGMgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgZGl2aWRlIGJ5IDAnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5tdWx0KDEgLyBjKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBhZGQodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5hZGQodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1YnRyYWN0IHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIEEgbmV3IFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzdWIodjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5zdWIodjIpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE11bHRpcGx5IGEgdmVjdG9yIGJ5IGEgc2NhbGFyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBtdWx0aXBsaWVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBtdWx0KHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5tdWx0KGMpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERpdmlkZXMgdHdvIHZlY3RvcnMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHYxIFRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGMgQSBzY2FsYXIgY1xyXG4gICAgKiBAcmV0dXJuIEEgbmV3IGRpdmlkZWQgVmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpdiAodjEsIGMpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRpdihjKTsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQURWQU5DRUQgTUFUSCBWRUNUT1IgT1BFUkFUSU9OUyA9PT09PT09PT0gKi9cclxuICAgIC8vIERvdCBhbmQgY3Jvc3MgcHJvZHVjdHNcclxuICAgIC8qKlxyXG4gICAgKiBEb3QgcHJvZHVjdCBiZXR3ZWVuIGEgVmVjdG9yIE9SIGEgcGFpciBvZiBjb29yZGluYXRlc1xyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeFxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRvdCh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG90KHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy54ICogKHggfHwgMCkgKyB0aGlzLnkgKiAoeSB8fCAwKSArIHRoaXMueiAqICh6IHx8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYgVGhlIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBjcm9zcyh2KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgIHRoaXMueSAqIHYueiAtIHRoaXMueiAqIHYueSxcclxuICAgICAgICAgICAgdGhpcy56ICogdi54IC0gdGhpcy54ICogdi56LFxyXG4gICAgICAgICAgICB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2LnhcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gTWFnbml0dWRlXHJcbiAgICAvKiogQHJldHVybiB0aGUgbm9ybWFsaXplZCBWZWN0b3IgKi9cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBjb25zdCB2TGVuID0gdGhpcy5tYWcoKTtcclxuICAgICAgICBpZiAodkxlbiAhPT0gMClcclxuICAgICAgICAgICAgdGhpcy5kaXYodkxlbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBMaW1pdCB0aGUgbWFnbml0dWRlIG9mIHRoZSB2ZWN0b3IgYmV0d2VlbiBhIG1pbiBhbmQgYSBtYXggdmFsdWVcclxuICAgICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlIG9mIHRoZSBWZWN0b3IgbWFnbml0dWRlXHJcbiAgICAqIEBwYXJhbSBtYXggTWF4aW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBsaW1pdChtaW4sIG1heCkge1xyXG4gICAgXHRsZXQgbSA9IHRoaXMubWFnKCk7XHJcbiAgICBcdGlmKG0gPCBtaW4pXHJcbiAgICBcdFx0dGhpcy5kaXYobSkubXVsdChtaW4pO1xyXG4gICAgXHRpZihtID4gbWF4KVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWF4KTtcclxuICAgIFx0cmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHZlY3RvciAqL1xyXG4gICAgbWFnKCkgeyByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3JcclxuICAgICogQHBhcmFtIG1hZyBUaGUgbmV3IG1hZ25pdHVkZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRNYWcobWFnKSB7IHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHQobWFnKTsgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gQW5nbGVzXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIHRoaXMgdmVjdG9yIGJ5IGFuIGFuZ2xlXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbiBhbmdsZSBJTiBSQURJQU5TXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJvdGF0ZShhbmdsZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0FuZ2xlICA9IHRoaXMuZ2V0QW5nbGUoKSArIGFuZ2xlO1xyXG4gICAgICAgIGNvbnN0IG1hZ25pdHVkZSA9IHRoaXMubWFnKCk7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKG5ld0FuZ2xlKSAqIG1hZ25pdHVkZTtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbihuZXdBbmdsZSkgKiBtYWduaXR1ZGU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCB0aGUgb3JpZ2luICovXHJcbiAgICBnZXRBbmdsZSgpIHsgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpOyB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgbWV0aG9kc1xyXG4gICAgLyoqXHJcbiAgICAqIERpc3RhbmNlIGJld3RlZW4gdHdvIHZlY3RvcnNcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb3NpdGlvbnMgd2hlcmUgdGhlIGFycm93IGFyZSBwb2ludGluZyB0b1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkaXN0KHYxLCB2MikgeyByZXR1cm4gVmVjdG9yLnN1Yih2MSwgdjIpLm1hZygpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERvdCBwcm9kdWN0IGJldHdlZW4gYSBWZWN0b3IgT1IgYSBwYWlyIG9mIGNvb3JkaW5hdGVzXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZSBPUiBhIFZlY3RvciB4XHJcbiAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geiBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGUgZG90dGVkIG5ldyB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgZG90KHYxLCB4LCB5LCB6KSB7IHJldHVybiAodjEuY29weSgpKS5kb3QoeCwgeSwgeik7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3Jvc3MgcHJvZHVjdCB3aXRoIGEgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgZmlyc3QgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2MiBUaGUgc2Vjb25kIHZlY3RvclxyXG4gICAgKiBAcmV0dXJuIHRoZSBjcm9zc2VkIG5ldyB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgY3Jvc3ModjEsIHYyKSB7IHJldHVybiAodjEuY29weSgpKS5jcm9zcyh2Mik7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGUgbm9ybWFsaXplZCBWZWN0b3IgKi9cclxuICAgIHN0YXRpYyBub3JtYWxpemUodjEpIHsgcmV0dXJuICh2MS5jb3B5KCkpLm5vcm1hbGl6ZSgpOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSBhIHZlY3RvciBieSBhbiBhbmdsZVxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvciB0byBiZSByb3RhdGVkXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbiBhbmdsZSBJTiBSQURJQU5TXHJcbiAgICAqIEByZXR1cm4gdGhlIHJvdGF0ZWQgdmVjdG9yXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHJvdGF0ZSAodjEsIGFuZ2xlKSB7IHJldHVybiAodjEuY29weSgpKS5yb3RhdGUoYW5nbGUpOyB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogPT09PT09PT09IERSQVdJTkcgVkVDVE9SUyA9PT09PT09PT0gKi9cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgdmVjdG9yIHRvIHRoZSBjYW52YXMgdXNpbmcgdGhlIGBEcmF3ZXJgIGNsYXNzXHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gaGVhZFNpemUgU2l6ZSBvZiB0aGUgaGVhZCBpbiBwaXhlbHMgKGRlZmF1bHQgPSA1IHB4KVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFN0cm9rZSB3ZWlnaHQgb2YgdGhlIFZlY3RvciBpbiBwaXhlbHMgKGRlZmF1bHQgPSAxIHB4KVxyXG4gICAgKi9cclxuICAgIGRyYXcoaW5pdGlhbFBvcywgaGVhZFNpemUsIHN0cm9rZVdlaWdodCkge1xyXG4gICAgICAgIGlmKGluaXRpYWxQb3MgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBWZWN0b3IuZHJhdyhpbml0aWFsUG9zLCB0aGlzLCB0aGlzLmNvbG9yLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIFZlY3Rvci5kcmF3KHVuZGVmaW5lZCAsIHRoaXMsIHRoaXMuY29sb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiAoUGxlYXNlIGF2b2lkIGRpcmVjdGx5IHVzaW5nIHRoaXMgbWV0aG9kKVxyXG4gICAgKiBEcmF3IGEgdmVjdG9yIHRvIHRoZSBjYW52YXMgdXNpbmcgdGhlIGBEcmF3ZXJgIGNsYXNzXHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gaW5pdGlhbFBvcyBUaGUgZW5kaW5nIHBvc2l0aW9uIG9mIHRoZSBWZWN0b3IgQXJyb3dcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBhcnJvdyAoZGVmYXVsdCBgcmdiKDI1NSwgMjU1LCAyNTUpYClcclxuICAgICogQHBhcmFtIGhlYWRTaXplIFNpemUgb2YgdGhlIGhlYWQgaW4gcGl4ZWxzIChkZWZhdWx0ID0gNSBweClcclxuICAgICogQHBhcmFtIHN0cm9rZVdlaWdodCBTdHJva2Ugd2VpZ2h0IG9mIHRoZSBWZWN0b3IgaW4gcGl4ZWxzIChkZWZhdWx0ID0gMSBweClcclxuICAgICovXHJcbiAgICBzdGF0aWMgZHJhdyhpbml0aWFsUG9zLCBwb2ludGluZ1BvcywgY29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgaGVhZFNpemUgPSA1LCBzdHJva2VXID0gMSkge1xyXG4gICAgICAgIGlmKChpbml0aWFsUG9zICE9IHVuZGVmaW5lZCAmJiBpbml0aWFsUG9zLnogIT0gMCkgfHwgcG9pbnRpbmdQb3MueiAhPSAwKVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWN0b3IgZHJhd2luZyBpcyBvbmx5IGltcGxlbWVudGVkIGluIDJEIHlldC5cIik7XHJcblxyXG4gICAgICAgIGxldCBwbG90dGVyID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlcjtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUlxyXG4gICAgICAgICAgICBpZihpbml0aWFsUG9zICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWShpbml0aWFsUG9zLngsIGluaXRpYWxQb3MueSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUocC54IC0gd2lkdGggLyAyLCBwLnkgLSBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHp6UG9zaXRpb24gPSBwbG90dGVyLmNvbXB1dGVGb3JYWSgwLCAwKTtcclxuICAgICAgICAgICAgbGV0IGVuZFBvcyAgICAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWShwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55KTtcclxuXHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIHBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KHN0cm9rZVcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbGwoY29sb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxpbmUoenpQb3NpdGlvbi54LCB6elBvc2l0aW9uLnksIGVuZFBvcy54LCBlbmRQb3MueSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUoZW5kUG9zLngsIGVuZFBvcy55KTtcclxuXHJcbiAgICAgICAgICAgICAgICByb3RhdGUoZW5kUG9zLnN1Yih6elBvc2l0aW9uKS5nZXRBbmdsZSgpKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSgtaGVhZFNpemUgLSAyLCAwKTtcclxuICAgICAgICAgICAgICAgIHRyaWFuZ2xlKDAsIGhlYWRTaXplIC8gMiwgMCwgLWhlYWRTaXplIC8gMiwgaGVhZFNpemUsIDApO1xyXG4gICAgICAgIFx0cG9wKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1IgTkFNRVxyXG4gICAgICAgICAgICBpZihwb2ludGluZ1Bvcy5uYW1lICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gT2Zmc2V0IG9mIHRoZSB0ZXh0IGJhc2VkIG9uIHRoZSBhbmdsZSBvbiB0aGUgdW5pdCBjaXJjbGVcclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IHBvaW50aW5nUG9zLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgICAgICAgICBpZihhbmdsZSA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gMipQSTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgeE9mZnNldCA9IDAuOCAqIHBvaW50aW5nUG9zLm5hbWUuY1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSBQSS8yICApXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKDMqUEkvNCA8IGFuZ2xlICYmIGFuZ2xlIDw9IDUqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICB8fCAoMypQSS8yIDwgYW5nbGUgJiYgYW5nbGUgPD0gNypQSS80KVxyXG4gICAgICAgICAgICAgICAgKSB4T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gLTEuMSAqIHBvaW50aW5nUG9zLm5hbWUuZGVzYyArIDEuMSAqIHBvaW50aW5nUG9zLm5hbWUuYXNjO1xyXG4gICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIFBJLzIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKFBJLzIgICA8IGFuZ2xlICYmIGFuZ2xlIDw9IDMqUEkvNClcclxuICAgICAgICAgICAgICAgICAgICB8fCAoUEkgICAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gNSpQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgIHx8ICg3KlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIDIqUEkpXHJcbiAgICAgICAgICAgICAgICApIHlPZmZzZXQgKj0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgcG9pbnRpbmdQb3MubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRDb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UG9zaXRpb24ocG9pbnRpbmdQb3MueCAvIDIsIHBvaW50aW5nUG9zLnkgLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPZmZzZXQoeE9mZnNldCwgeU9mZnNldClcclxuICAgICAgICAgICAgICAgICAgICAuZHJhdyhwbG90dGVyLmRyYXdlcik7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFSUk9XIE9OIFRPUFxyXG4gICAgICAgICAgICAgICAgbGV0IGFycm93T3JQb3MgPSBwbG90dGVyLmNvbXB1dGVGb3JYWShwb2ludGluZ1Bvcy54IC8gMiwgcG9pbnRpbmdQb3MueSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoc3Ryb2tlVylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsbChjb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIGFycm93T3JQb3MueCArIHhPZmZzZXQgLSBwb2ludGluZ1Bvcy5uYW1lLmNXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dPclBvcy55ICsgeU9mZnNldCAtIHBvaW50aW5nUG9zLm5hbWUuYXNjXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgbGluZSgwLCAwLCBwb2ludGluZ1Bvcy5uYW1lLmNXaWR0aCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJpYW5nbGVcclxuICAgICAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoaGVhZFNpemUgKyBwb2ludGluZ1Bvcy5uYW1lLmNXaWR0aCAvIDEuNSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUoMCwgaGVhZFNpemUgLyA0LCAwLCAtaGVhZFNpemUgLyA0LCBoZWFkU2l6ZSAvIDIsIDApO1xyXG4gICAgICAgICAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWZWN0b3I7XHJcbiIsImNsYXNzIFRleHQge1xyXG4gICAgY29uc3RydWN0b3IodGV4dCwgcG9zLCB0ZXh0U2l6ZSA9IDE4LCBjb2xvciA9IFwiI0ZGRkZGRlwiLCBzaG93SGl0Ym94ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnRleHQgICAgID0gdGV4dDtcclxuICAgICAgICB0aGlzLnRleHRTaXplID0gdGV4dFNpemU7XHJcbiAgICAgICAgdGhpcy5jb2xvciAgICA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnBvcyAgICAgPSBwb3M7XHJcbiAgICAgICAgdGhpcy54T2Zmc2V0ID0gMDtcclxuICAgICAgICB0aGlzLnlPZmZzZXQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dIaXRib3ggPSBzaG93SGl0Ym94O1xyXG5cclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuICAgICAgICBsZXQgcG9zICAgID0gZHJhd2VyLnBsb3R0ZXIuY29tcHV0ZUZvclhZKHRoaXMucG9zLngsIHRoaXMucG9zLnkpO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRleHRTaXplKHRoaXMudGV4dFNpemUpO1xyXG4gICAgICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgICAgIC5ub1N0cm9rZSgpXHJcbiAgICAgICAgICAgICAgICAuZmlsbCh0aGlzLmNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgtdGhpcy5jV2lkdGggLyAyICsgdGhpcy54T2Zmc2V0LCAoLXRoaXMuZGVzYyArIHRoaXMuYXNjKSAvIDIgKyB0aGlzLnlPZmZzZXQpO1xyXG4gICAgICAgICAgICB0ZXh0KHRoaXMudGV4dCwgcG9zLngsIHBvcy55KTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2hvd0hpdGJveCkge1xyXG4gICAgICAgICAgICAgICAgZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZSh0aGlzLmNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMSlcclxuICAgICAgICAgICAgICAgICAgICAubm9GaWxsKCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICAgICAgICAgICAsIHBvcy55IC0gdGhpcy5hc2MgLCBwb3MueCArIHRoaXMuY1dpZHRoLCBwb3MueSAtIHRoaXMuYXNjKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgICAgICAgICAgICwgcG9zLnkgKyB0aGlzLmRlc2MsIHBvcy54ICsgdGhpcy5jV2lkdGgsIHBvcy55ICsgdGhpcy5kZXNjKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgICAgICAgICAgICwgcG9zLnkgKyB0aGlzLmRlc2MsIHBvcy54ICAgICAgICAgICAgICAsIHBvcy55IC0gdGhpcy5hc2MpO1xyXG4gICAgICAgICAgICAgICAgbGluZShwb3MueCArIHRoaXMuY1dpZHRoLCBwb3MueSArIHRoaXMuZGVzYywgcG9zLnggKyB0aGlzLmNXaWR0aCwgcG9zLnkgLSB0aGlzLmFzYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBwb3AoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGNhbGN1bGF0ZVZhbHVlcygpIHtcclxuICAgICAgICBsZXQgc2NhbGFyID0gMC44OyAvLyBEaWZmZXJlbnQgZm9yIGVhY2ggZm9udFxyXG5cclxuICAgICAgICB0ZXh0U2l6ZSh0aGlzLnRleHRTaXplKTtcclxuXHJcbiAgICAgICAgdGhpcy5hc2MgICAgPSB0ZXh0QXNjZW50ICgpICogc2NhbGFyO1xyXG4gICAgICAgIHRoaXMuZGVzYyAgID0gdGV4dERlc2NlbnQoKSAqIHNjYWxhcjtcclxuICAgICAgICB0aGlzLmNXaWR0aCA9IHRleHRXaWR0aCh0aGlzLnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWYWx1ZXMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHg7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0T2Zmc2V0KHgsIHkpIHtcclxuICAgICAgICB0aGlzLnhPZmZzZXQgPSB4O1xyXG4gICAgICAgIHRoaXMueU9mZnNldCA9IHk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29sb3IoY29sb3IpIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHQ7XHJcbiIsImltcG9ydCBwU1Bsb3R0ZXIgZnJvbSAnLi8uLi9kcmF3ZXIvUGxvdHRlcic7XHJcbmltcG9ydCBwU0RyYXdlciAgZnJvbSAnLi8uLi9kcmF3ZXIvRHJhd2VyJztcclxuXHJcbmNsYXNzIHBTaW11bGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgICAgICAgICA9IHt9O1xyXG4gICAgICAgIHRoaXMuYmVnaW5UaW1lICAgICAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubGFzdERyYXdUaW1lICAgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpZy5lbmdpbmUgID0gdGhpcy5nZXREZWZhdWx0RW5naW5lQ29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcuY3VzdG9tICA9IHt9O1xyXG5cclxuICAgICAgICB3aW5kb3cuZ2V0Q3VzdG9tQ29uZmlnID0gdGhpcy5nZXRDdXN0b21Db25maWc7XHJcbiAgICAgICAgd2luZG93LmdldEVuZ2luZUNvbmZpZyA9IHRoaXMuZ2V0RW5naW5lQ29uZmlnO1xyXG5cclxuICAgICAgICB0aGlzLmR0TW95ICAgICAgICAgPSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5taW5pbWFsVXBkYXRlRlBTO1xyXG4gICAgICAgIHRoaXMuZHRUb3RhbCAgICAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5kdENvdW50ICAgICAgID0gMDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIEluc3RhbmNpYXRlIHRoZSBwU2ltdWxhdG9yICovXHJcbiAgICBpbnN0YW5jaWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVA1SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLnBsb3R0ZXIgPSBuZXcgcFNQbG90dGVyKHRoaXMsIG5ldyBwU0RyYXdlcigpKTtcclxuXHJcbiAgICAgICAgd2luZG93LnJ1blNpbXVsYXRvcih0aGlzKTsgLy8gc3RhcnQgaXMgdGhlIG1haW4gZnVuY3Rpb25cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHA1IGluc3RhbmNlIGFuZCBjcmVhdGVzIGxvb3BzIGZvciB0aGUgc2ltdWxhdGlvbiAqL1xyXG4gICAgY3JlYXRlUDVJbnN0YW5jZSgpIHtcclxuICAgICAgICBsZXQgcCAgICAgICA9IHRoaXMuZ2V0Q2FudmFzUHJvcG9ydGlvbnModGhpcy5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjcmVhdGVDYW52YXMocC53LCBwLmgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudCh0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmRpdklkKTtcclxuXHJcbiAgICAgICAgbGV0IHJ1ID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lcjtcclxuICAgICAgICBpZihydS5VUERBVEVfRlBTID49IHJ1LkRSQVdfRlBTKSBmcmFtZVJhdGUocnUuVVBEQVRFX0ZQUyk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLmVycm9yKCdUaGUgVXBkYXRlcyBGUFMgbXVzdCBiZSBzdXBlcmlvciBhcyB0aGUgRHJhd3MgRlBTLicpXHJcblxyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgaXQncyBwb3NzaWJsZVxyXG4gICAgICAgIHdpbmRvdy5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzICAgICAgICAgICAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZTtcclxuICAgICAgICBcdGxldCBjdXJyZW50VGltZSAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFx0bGV0IGR0ICAgICAgICAgICA9IChjdXJyZW50VGltZSAtIHMubGFzdFVwZGF0ZVRpbWUpIC8gMTAwMDtcclxuICAgICAgICAgICAgbGV0IGNyaXRpcUR0ICAgICA9IHMuZHRNb3kgKyBzLmR0TW95ICogcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWF4U3RhbmRhcmREZXZpYXRpb247XHJcblxyXG4gICAgICAgICAgICBpZihkdCA+IGNyaXRpcUR0KVxyXG4gICAgICAgICAgICAgICAgZHQgPSBzLmR0TW95O1xyXG5cclxuICAgICAgICBcdHMubGFzdFVwZGF0ZVRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICBcdHMucGxvdHRlci51cGRhdGUoZHQgKiBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnNpbXVsYXRpb25TcGVlZCk7XHJcblxyXG4gICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIHMubGFzdERyYXdUaW1lID49IDEgLyBzLmNvbmZpZy5lbmdpbmUucnVubmVyLkRSQVdfRlBTKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkdCA8PSBjcml0aXFEdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZihzLmR0Q291bnQgJSBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5hdmVyYWdlVGltZVNhbXBsZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRNb3kgICA9IHMuZHRUb3RhbCAvIHMuZHRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdFRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcy5wbG90dGVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIHMubGFzdERyYXdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgdGhlIHdpbmRvdyBpcyByZXNpemVkXHJcbiAgICAgICAgd2luZG93LndpbmRvd1Jlc2l6ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRDYW52YXNQcm9wb3J0aW9ucyhfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHt3LCBofSBwcm9wb3J0aW9ucyBvZiB0aGUgY2FudmFzIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzICovXHJcbiAgICBnZXRDYW52YXNQcm9wb3J0aW9ucyhjUCkge1xyXG4gICAgICAgIGxldCB3LCBoO1xyXG5cclxuICAgICAgICBpZihjUC5pc1JlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgIHcgPSB3aW5kb3dXaWR0aCAgKiBjUC53aWR0aDtcclxuICAgICAgICAgICAgaCA9IHdpbmRvd0hlaWdodCAqIGNQLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHcgPSBjUC53aWR0aCAgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGggPSBjUC5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge3csIGh9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY3VzdG9tT2JqZWN0IHRoZSBPYmplY3QgdGhhdCBpcyBnb2luZyB0byBiZSBzaW11bGF0ZWQgKGNhbiBiZSBpbnN0YW5jaWF0ZWQgb3Igbm90KVxyXG4gICAgKiBAcGFyYW0gbnVtYmVyIE51bWJlciBvZiBvYmplY3RzIHRvIGJlIGluc3RhbmNpYXRlZFxyXG4gICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBwYXJhbWV0ZXJzIGluIHRoZSBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGRPYmplY3RzKGN1c3RvbU9iamVjdCwgbnVtYmVyID0gMSwgLi4ucGFyYW1zKSB7XHJcbiAgICAgICAgaWYoY3VzdG9tT2JqZWN0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvcHlQYXJhbXNUZW1wID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcmFtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbal0gaW5zdGFuY2VvZiBBcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMF0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzFdIGluc3RhbmNlb2YgRnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAgICAgKHBhcmFtc1tqXVswXSA9PSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmFkZGluZ09iamVjdHNDb25maWdLZXlXb3Jkcy5ydW5GdW5jdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKHBhcmFtc1tqXVsxXSguLi5wYXJhbXNbal0uc2xpY2UoMikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuQ2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKG5ldyBwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2gobmV3IGN1c3RvbU9iamVjdCguLi5jb3B5UGFyYW1zVGVtcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2goY3VzdG9tT2JqZWN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvZiB0aGUgZW5naW5lICovXHJcbiAgICBnZXREZWZhdWx0RW5naW5lQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJ1bm5lciA6IHtcclxuICAgICAgICAgICAgICAgIGRpdklkIDogJ3NpbXVsYXRpb25Db250ZW50JyxcclxuICAgICAgICAgICAgICAgIFVQREFURV9GUFMgOiAxMjAsXHJcbiAgICAgICAgICAgICAgICBEUkFXX0ZQUyAgIDogNjAsXHJcbiAgICAgICAgICAgICAgICBzaW11bGF0aW9uU3BlZWQgOiAxLFxyXG4gICAgICAgICAgICAgICAgYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzIDogeyAgLy8ga2V5d29yZHMgZm9yIHdoZW4gd2UgYWRkIG9iamVjdHMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBlbmdpbmVcclxuICAgICAgICAgICAgICAgICAgICBydW5GdW5jdGlvbnMgOiAnX1JVTl9GJywgLy8gcnVuIGEgZnVuY3Rpb24gd2l0aCAgICAgICBbJ19SVU5fRicsIGZ1bmN0aW9uTmFtZSwgcGFyYW0xLCBwYXJhbTIsIC4uLl0sXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuQ2xhc3MgICAgIDogJ19SVU5fQycgIC8vIGluc3RhbmNpYXRlcyBhIGNsYXNzIHdpdGggWydfUlVOX0MnLCBjbGFzc05hbWUgICAsIHBhcmFtMSwgcGFyYW0yLCAuLi5dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tDb250cm9sIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0YW5kYXJkRGV2aWF0aW9uIDogMC44LCAgLy8gbWF4aW11bSB0aWNrIGRldmlhdGlvbiBwZXJjZW50YWdlIGZvciB0aGUgc29mdHdhcmUgdG8gY29uc2lkZXIgYXMgYSByb2xsYmFjayAoaW4gc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICBhdmVyYWdlVGltZVNhbXBsZSAgICA6IDIwLCAgIC8vIHNhbXBsZSBzaXplIGZvciB0aWNrIGF2ZXJhZ2UgKGluIHNlY29uZHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbmltYWxVcGRhdGVGUFMgICAgIDogMC4xNSAgLy8gbWluaW1hbCB1cGRhdGUgZnJhbWVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdpbmRvdyA6IHtcclxuICAgICAgICAgICAgICAgIHByb3BvcnRpb25zIDogeyAgLy8gd2luZG93IGhlaWdodCBhbmQgd2lkdGggb24gcmVsYXRpdmUgb3IgYWJzb2x1dGUgc2l6ZXNcclxuICAgICAgICAgICAgICAgICAgICBpc1JlbGF0aXZlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgOiAwLjk5LFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDAuOTlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBcdHBsb3R0ZXIgOiB7XHJcbiAgICAgICAgXHRcdHNjYWxlIDogeyAgLy8gZGlzcGxheXMgeCByZWxhdGl2ZSB1bml0cyBvbiBlYWNoIHNpZGVcclxuICAgICAgICBcdFx0XHR4IDogMTAsXHJcbiAgICAgICAgXHRcdFx0eSA6IDEwLFxyXG4gICAgICAgIFx0XHRcdHNxdWFyZUJ5WCA6IHRydWVcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICBcdFx0b2Zmc2V0IDogeyAgLy8geCBhbmQgeSByZWxhdGl2ZSBvZmZzZXRcclxuICAgICAgICBcdFx0XHR4IDogMCxcclxuICAgICAgICBcdFx0XHR5IDogMFxyXG4gICAgICAgIFx0XHR9LFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXcgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yIDogeyByIDogMCAgLCBnIDogMCAgLCBiIDogMCB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbG9yICAgICAgIDogeyByIDogMjU1LCBnIDogMjU1LCBiIDogMjU1LCBhIDogMC42IH0sXHJcbiAgICAgICAgXHRcdGRpc3BsYXlHcmlkICAgICA6IHRydWUgIC8vIHRydWUgOiBkaXNwbGF5IGdyYXBoIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICBcdH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnRnVuYyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRFbmdpbmVDb25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuZW5naW5lKTtcclxuICAgICAgICB3aW5kb3cud2luZG93UmVzaXplZCgpOyAvLyBpZiBwcm9wb3J0aW9ucyBjaGFuZ2VkXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWcgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgY3VzdG9tIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0Q3VzdG9tQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmN1c3RvbSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm4gdGhlIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqL1xyXG4gICAgZ2V0RW5naW5lQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybiB0aGUgY3VzdG9tIGNvbmZpZ3VyYXRpb25cclxuICAgICovXHJcbiAgICBnZXRDdXN0b21Db25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuY3VzdG9tO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU2ltdWxhdG9yO1xyXG4iLCJpbXBvcnQgJy4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcblxyXG5jbGFzcyBwU1Bsb3R0ZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2ltdWxhdG9yLCBkcmF3ZXIpIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuICAgICAgICB0aGlzLmRyYXdlciAgICA9IGRyYXdlcjtcclxuICAgICAgICB0aGlzLm9iamVjdHNMICA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdlci5wbG90dGVyID0gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLnVwZGF0ZShkdCwgdGhpcy5vYmplY3RzTCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBsZXQgcGxDb25mID0gdGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyO1xyXG4gICAgICAgIGxldCBiZyAgICAgPSBwbENvbmYuYmFja2dyb3VuZENvbG9yLmNvbG9yO1xyXG5cclxuICAgICAgICBpZihwbENvbmYuYmFja2dyb3VuZENvbG9yLmRyYXcpIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZChiZy5yLCBiZy5nLCBiZy5iKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERyYXcgZXZlcnkgb2JqZWN0IHRvIHRoZSBzY3JlZW5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0c0wubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c0xbaV0uZHJhdyh0aGlzLmRyYXdlcik7XHJcblxyXG5cclxuICAgICAgICAvLyBEcmF3IHRoZSBncmlkXHJcbiAgICAgICAgaWYodGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyLmRpc3BsYXlHcmlkKSB7XHJcbiAgICAgICAgICAgIC8qKiBAVE9ETyBUbyBiZSBpbXBsZW1lbnRlZCAqL1xyXG4gICAgICAgICAgICBsZXQgY2VudGVyUG9zID0gdGhpcy5jb21wdXRlRm9yWFkoMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAubm9TdHJva2UoKVxyXG4gICAgICAgICAgICAgICAgLmZpbGwocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hKVxyXG4gICAgICAgICAgICAgICAgLmVsbGlwc2UoY2VudGVyUG9zLngsIGNlbnRlclBvcy55LCAxMCwgMTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb21wdXRlIHRoZSB4IGFuZCB5IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBkcmF3aW5nIHBhcmFtZXRlcnNcclxuICAgICogQHBhcmFtIHhSZWwgWCByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEByZXR1cm4ge3gsIHl9IG9iamVjdFxyXG4gICAgKi9cclxuICAgIGNvbXB1dGVGb3JYWSh4UmVsLCB5UmVsKSB7XHJcbiAgICAgICAgbGV0IGMgPSB0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKCgoeFJlbCArIGMub2Zmc2V0LngpIC8gYy5zY2FsZS54ICsgMSkgICogd2lkdGggLyAyKTtcclxuXHJcbiAgICAgICAgaWYoIWMuc2NhbGUuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLnkgKyAxKSAqIGhlaWdodCAvIDI7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLngpICAgICAqIHdpZHRoICAvIDIgKyBoZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNQbG90dGVyO1xyXG4iLCJjbGFzcyBwU0RyYXdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnQoeCwgeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWSh4LCB5KTtcclxuICAgICAgICBwb2ludCh2LngsIHYueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGluZSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFkoeDAsIHkwKTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZKHgxLCB5MSk7XHJcbiAgICAgICAgbGluZSh2MC54LCB2MC55LCB2MS54LCB2MS55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbGxpcHNlKHgsIHksIHJ4LCByeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWSh4LCB5KTtcclxuICAgICAgICBlbGxpcHNlKHYueCwgdi55LCByeCwgcnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNpcmNsZSh4LCB5LCByKSB7XHJcbiAgICBcdHJldHVybiB0aGlzLmVsbGlwc2UoeCwgeSwgciwgcik7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgc3Ryb2tlKHIsIGcsIGIsIGEpIHtcclxuICAgICAgICBpZihhID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZihiID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZyA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlKHIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZShyLCBnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzdHJva2UociwgZywgYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc3Ryb2tlKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3Ryb2tlV2VpZ2h0KG4pIHtcclxuICAgICAgICBzdHJva2VXZWlnaHQobik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsbChyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgaWYoYSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoYiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbChyLCBnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBmaWxsKHIsIGcsIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGZpbGwoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgbm9TdHJva2UoKSB7XHJcbiAgICAgICAgbm9TdHJva2UoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBub0ZpbGwoKSB7XHJcbiAgICAgICAgbm9GaWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRHJhd2VyO1xyXG4iLCJjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoYW5pbWF0aW9uTmFtZSwgc2NhbGVUaW1lID0gMC4xKSB7XHJcbiAgICAgICAgaWYoIWFuaW1hdGlvbk5hbWUpXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbk5hbWUgPSAnbGluZWFyJztcclxuXHJcbiAgICAgICAgc3dpdGNoIChhbmltYXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xpbmVhcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmYgPSAodCkgPT4gdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZWFzZUluT3V0Q3ViaWMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5mID0gKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHQgLz0gMC41KSA8IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiB0ICogdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICgoLS10KSAqICh0IC0gMikgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjYWxlVGltZSAgID0gc2NhbGVUaW1lO1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lRGlyZWN0aW9uID0gMTsgLy8gMSBvciAtMVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFQgICAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMDtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgIH1cclxuXHJcbiAgICByZXZlcnNlKCkge1xyXG4gICAgICAgIHRoaXMudGltZURpcmVjdGlvbiAqPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0S2V5KCkge1xyXG4gICAgICAgIGxldCB0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgZHQgPSB0IC8gMTAwMCAtIHRoaXMuaW5pdGlhbFQ7XHJcbiAgICAgICAgaWYodGhpcy50aW1lRGlyZWN0aW9uIDwgMClcclxuICAgICAgICAgICAgZHQgPSB0O1xyXG5cclxuICAgICAgICBpZigoZHQgPiAxICogdGhpcy5zY2FsZVRpbWUgJiYgdGhpcy50aW1lRGlyZWN0aW9uID4gMCkgfHwgKGR0IDwgMSAqIHRoaXMuc2NhbGVUaW1lICYmIHRoaXMudGltZURpcmVjdGlvbiA8IDApKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0S2V5O1xyXG4gICAgICAgIHRoaXMubGFzdEtleSA9IHRoaXMuZihkdCkgLyB0aGlzLnNjYWxlVGltZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdEtleTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xyXG4iLCJpbXBvcnQgJy4vLi4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCAnLi8uLi9BbmltYXRpb24nO1xyXG5pbXBvcnQgJy4vVGV4dCc7XHJcblxyXG5cclxuY2xhc3MgUG9pbnQge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgY29sb3IsIHBvaW50TmFtZSwgcG9pbnRTaXplID0gNiwgdmVjdG9yTmFtZSwgZHJhd09yaWdpblZlY3RvciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoeCwgeSwgY29sb3IsIHZlY3Rvck5hbWUpO1xyXG5cclxuICAgICAgICBpZihwb2ludE5hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZSA9IG5ldyBUZXh0KHBvaW50TmFtZSwgdGhpcy5wb3MsIDE4LCBjb2xvcik7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd09yaWdpblZlY3RvciA9IGRyYXdPcmlnaW5WZWN0b3I7XHJcbiAgICAgICAgdGhpcy5wb2ludFNpemUgICAgICAgID0gcG9pbnRTaXplO1xyXG4gICAgICAgIHRoaXMucG9pbnRTaXplRHJhd2luZyA9IHBvaW50U2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCdlYXNlSW5PdXRDdWJpYycpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRQYWRkaW5nID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHsgfVxyXG5cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IGRyYXdlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICAvLyBQT0lOVCBMT0NBVElPTlxyXG4gICAgICAgIGRyYXdlclxyXG4gICAgICAgICAgICAuZmlsbChwYXJzZUludCh0aGlzLnBvcy5jb2xvclswXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzFdICogMC40KSwgcGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMl0gKiAwLjQpKVxyXG4gICAgICAgICAgICAubm9TdHJva2UoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICAgICAgLnN0cm9rZSh0aGlzLnBvcy5jb2xvcilcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxLjEpXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8vIE9SSUdJTiBWRUNUT1JcclxuICAgICAgICBpZih0aGlzLnBvcy5uYW1lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmRyYXdPcmlnaW5WZWN0b3IpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLmRyYXcoKTtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTkFNRVxyXG4gICAgICAgIGlmKHRoaXMucG9pbnROYW1lID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgdGhpcy50ZXh0UGFkZGluZyk7XHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yICYmIHRoaXMucG9zLnkgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgLXRoaXMudGV4dFBhZGRpbmcpO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5kcmF3KGRyYXdlcik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZU1vdXNlT3ZlcihtWDEsIG1YMiwgbVkxLCBtWTIpIHtcclxuICAgICAgICBpZih0aGlzLnBvcy54ID4gbVgxICYmIG1YMiA+IHRoaXMucG9zLnggJiYgdGhpcy5wb3MueSA+IG1ZMSAmJiBtWTIgPiB0aGlzLnBvcy55KSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmFuaW1hdGlvbi5pc0FuaW1hdGluZylcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBvaW50U2l6ZURyYXdpbmcgPSB0aGlzLnBvaW50U2l6ZSArIHRoaXMuYW5pbWF0aW9uLm5leHRLZXkoKSAqIDEwMDsvLzg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRTaXplRHJhd2luZyA9IHRoaXMucG9pbnRTaXplO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XHJcbiIsIi8vID09PT09PT09PT0gUFNFTkdJTkUgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBDb3JlID09PT1cclxuaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9jb3JlL1NpbXVsYXRvcic7XHJcblxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuaW1wb3J0IFBvaW50ICAgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9Qb2ludCc7XHJcbmltcG9ydCBUZXh0ICAgICAgIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcblxyXG4vLyBSb290XHJcbmltcG9ydCBBbmltYXRpb24gIGZyb20gJy4vZHJhd2VyL0FuaW1hdGlvbic7XHJcbmltcG9ydCBwU0RyYXdlciAgIGZyb20gJy4vZHJhd2VyL0RyYXdlcic7XHJcbmltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5pbXBvcnQgVmVjdG9yICAgICBmcm9tICcuL3V0aWxpdGllcy9WZWN0b3InO1xyXG5cclxuXHJcbi8vID09PT09PT09PT0gR0xPQkFMIFZBUklBQkxFUyA9PT09PT09PT09XHJcbi8vID09PT0gRHJhd2VyID09PT1cclxuLy8gT2JqZWN0c1xyXG5nbG9iYWwuUG9pbnQgICAgID0gUG9pbnQ7XHJcbmdsb2JhbC5UZXh0ICAgICAgPSBUZXh0O1xyXG5cclxuLy8gUm9vdFxyXG5nbG9iYWwuQW5pbWF0aW9uID0gQW5pbWF0aW9uO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5nbG9iYWwuVmVjdG9yICAgID0gVmVjdG9yO1xyXG5cclxuXHJcbi8vID09PT09PT09PT0gUFNFTkdJTkUgTEFVTkNIID09PT09PT09PT1cclxuaW1wb3J0ICcuL2NvcmUvaW5pdCc7XHJcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCBwU2ltdWxhdG9yIGZyb20gJy4vU2ltdWxhdG9yJztcclxuXHJcbmNsYXNzIHBTRW5naW5lIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGlmKHdpbmRvdy5wNSA9PSB1bmRlZmluZWQpXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0J1lvdSBtdXN0IGltcG9ydCBwNS5qcyBpbiBvcmRlciB0byBydW4gdGhlIFBoeXNpY3MgU2ltdWxhdGlvbiBFbmdpbmUuJyxcclxuXHRcdFx0XHQnTW9yZSBpbmZvcm1hdGlvbnMgb24gdGhlIHA1IHdlYnNpdGUgaHR0cHM6Ly9wNWpzLm9yZy8uJ1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdC8vIHVzZXMgdGhlIHA1IGZ1bmN0aW9uc1xyXG5cdFx0d2luZG93LnNldHVwID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZSA9IG5ldyBwU2ltdWxhdG9yKCk7XHJcblx0XHRcdHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5pbnN0YW5jaWF0ZSgpO1xyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iLCJpbXBvcnQgcFNFbmdpbmUgZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IF9wU2dsb2JhbEVuZ2luZUluaXQgPSAoKSA9PiB7XHJcblx0bmV3IHBTRW5naW5lKCk7XHJcbn07XHJcblxyXG5jb25zdCB3YWl0Rm9yRG9jdW1lbnRSZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgLy8gY29tcGxldGVcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxud2FpdEZvckRvY3VtZW50UmVhZHkudGhlbihfcFNnbG9iYWxFbmdpbmVJbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9