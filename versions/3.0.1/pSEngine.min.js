var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=9)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=t||0,this.z=t||0,this)}setName(t){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,new s(this.x,this.y,this.z))),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-e,-i)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color)}static draw(t,e,i="rgb(255, 255, 255)",s=5,r=1){let n=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)s/=3,push(),n.drawer.stroke(i).strokeWeight(r).fill(i),null!=t&&n.drawer.translate(t.x,t.y,t.z),n.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{if((null!=t&&0!=t.z||0!=e.z)&&console.warn("Vector drawing is only avaliable with 'is_3D' at true value."),push(),null!=t){let e=n.computeForXYZ(t.x,t.y,t.z);translate(e.x-width/2,e.y-height/2)}let o=n.computeForXYZ(0,0,0),a=n.computeForXYZ(e.x,e.y,e.z);if(push(),n.drawer.stroke(i).strokeWeight(r).fill(i),line(o.x,o.y,a.x,a.y),translate(a.x,a.y),rotate(a.sub(o).getAngle()),translate(-s-2,0),triangle(0,s/2,0,-s/2,s,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let o=.8*e.name.cWidth;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(o*=-1);let a=-1.1*e.name.desc+1.1*e.name.asc;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(a*=-1),e.name.setColor(i).setPosition(e.x/2,e.y/2).setOffset(o,a).draw(n.drawer);let h=n.computeForXY(e.x/2,e.y/2);n.drawer.stroke(i).strokeWeight(r).fill(i),translate(h.x+o-e.name.cWidth/2,h.y+a-e.name.asc),line(0,0,e.name.cWidth,0),push(),translate(s+e.name.cWidth/1.5,0),triangle(0,s/4,0,-s/4,s/2,0),pop()}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(){let t=_pSimulationInstance.plotter.drawer,e=t.plotter.computeForXYZ(this.pos.x,this.pos.y);if(push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,e.x,e.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let i=this.svgImg.height,s=this.svgImg.width;t.stroke(this.color).strokeWeight(1).noFill(),line(e.x,e.y,e.x+s,e.y),line(e.x,e.y+i,e.x+s,e.y+i),line(e.x,e.y+i,e.x,e.y),line(e.x+s,e.y+i,e.x+s,e.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}ellipse(t,e,i,s){let r=this.plotter.computeForXYZ(t,e);return ellipse(r.x,r.y,i,s),this}circle(t,e,i){return this.ellipse(t,e,i,i)}rect(t,e,i,s){let r=this.plotter.simulator.config.engine.plotter,n=this.plotter.computeForXYZ(i-r.scale.x+r.offset.x,0).x,o=this.plotter.computeForXYZ(s-r.scale.x+r.offset.x,s-r.scale.y+r.offset.y);return o=r.squareByX?o.x:o.y,this.push().translate(t-r.offset.x,e-r.offset.y).beginShape(),vertex(0,0),vertex(n,0),vertex(n,-o),vertex(0,-o),this.endShape(CLOSE).pop(),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}translate(t,e){let i=this.plotter.computeForXYZ(t,e);return translate(i.x,i.y),this}beginShape(t){return beginShape(t),this}endShape(t){return endShape(t),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}pop(){return pop(),this}push(){return push(),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i){let s=this.simulator.config.engine.plotter;if(s.is_3D){let r=180*.28;return new Vector((t+s.offset.x)/s.scale.x*r,(-e+s.offset.y)/s.scale.y*r,(i+s.offset.z)/s.scale.z*r)}{let i=new Vector(((t-s.offset.x)/s.scale.x+1)*width/2,0,((t+s.offset.z)/s.scale.z+1)*width/2);return s.squareByX?i.y=(-e+s.offset.y)/s.scale.x*width/2+height/2:i.y=((-e+s.offset.y)/s.scale.y+1)*height/2,i}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-((2*e/height-1)*i.scale.y-i.offset.y):s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e)},window.windowResized=function(){let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.beginShape=this.drawer2D.beginShape,this.endShape=this.drawer2D.endShape,this.vertex=this.drawer2D.vertex,this.pop=this.drawer2D.pop,this.push=this.drawer2D.push,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){let r=this.plotter.computeForXYZ(t,e,i),n=this.plotter.computeForXYZ(s,0,0);return push(),translate(r.x,r.y,r.z),sphere(n.x),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cone(o.x,o.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),box(o.x,o.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cylinder(o.x,o.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),plane(o.x,o.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(10)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(7),s=i(1),r=i(8),n=i(3),o=(i(2),i(6),i(4),i(0));i(12);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(11))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL29iamVjdHMvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL29iamVjdHMvVHJpYW5nbGUuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvYXBwLmpzIiwid2VicGFjazovL3BTRW5naW5lLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL21haW4uanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9pbml0LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVmVjdG9yIiwieCIsInkiLCJ6IiwiY29sb3IiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwiY29tcHV0ZUZvclhZWiIsIndpZHRoIiwiaGVpZ2h0IiwienpQb3NpdGlvbiIsImVuZFBvcyIsInRyaWFuZ2xlIiwiUEkiLCJ4T2Zmc2V0IiwiY1dpZHRoIiwieU9mZnNldCIsImRlc2MiLCJhc2MiLCJzZXRDb2xvciIsInNldFBvc2l0aW9uIiwic2V0T2Zmc2V0IiwiYXJyb3dPclBvcyIsImNvbXB1dGVGb3JYWSIsInRleHQiLCJwb3MiLCJ0ZXh0U2l6ZSIsInNob3dIaXRib3giLCJ3aW5kb3ciLCJNYXRoSmF4Iiwic2V0VGV4dCIsInN2Z0ltZyIsImltYWdlIiwiaCIsInciLCJub0ZpbGwiLCJzdmciLCJ0ZXgyc3ZnIiwiZGlzcGxheSIsImVtIiwiZXgiLCJjb250YWluZXJXaWR0aCIsImxpbmVXaWR0aCIsInNjYWxlIiwiaW5uZXJIVE1MIiwic3BsaXQiLCJyZXBsYWNlIiwicGFyc2VGbG9hdCIsImV4ZWMiLCJsb2FkSW1hZ2UiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwidHlwZSIsInBvaW50IiwieDAiLCJ5MCIsIngxIiwieTEiLCJ2MCIsInJ4IiwicnkiLCJlbGxpcHNlIiwicGxDb25mIiwic2ltdWxhdG9yIiwid0YiLCJvZmZzZXQiLCJoRiIsInNxdWFyZUJ5WCIsImJlZ2luU2hhcGUiLCJ2ZXJ0ZXgiLCJlbmRTaGFwZSIsIkNMT1NFIiwiZyIsImIiLCJhIiwiVFlQRSIsIm5vU3Ryb2tlIiwidGltZUxlbmd0aCIsImRhdGFzIiwic2NhbGVUaW1lIiwiaXNBbmltYXRpbmciLCJpbml0aWFsVCIsImxhc3RLZXkiLCJnZXRLZXkiLCJ1cGRhdGUiLCJEYXRlIiwiZ2V0VGltZSIsImYiLCJkdCIsImZpbmFsRHJhdyIsInN1cGVyIiwiY3VycmVudFNoYXBlIiwibmV4dFNoYXBlIiwibG9jYWxEdCIsInBvaW50cyIsImoiLCJsZW5ndGgiLCJ0aCIsImRyYXdDdXJyZW50U2hhcGUiLCJsdCIsInRpIiwicGVyY2VudCIsInBlcmNlbnRGdW5jdGlvbiIsIm1heEkiLCJ0aW1lIiwiYW5pbWF0aW9uTmFtZSIsIm9iamVjdHNMIiwibGlnaHRzIiwib3JiaXRDb250cm9sIiwiYmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kIiwiZGlzcGxheUdyaWQiLCJkZWJ1Z01vZGUiLCJncmlkQ29sb3IiLCJ5UyIsInJvdW5kIiwicmVjdCIsInhSZWwiLCJ5UmVsIiwielJlbCIsImZhYyIsImJlZ2luVGltZSIsIm5vdyIsImxhc3RVcGRhdGVUaW1lIiwibGFzdERyYXdUaW1lIiwiZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZyIsImN1c3RvbSIsImdldEN1c3RvbUNvbmZpZyIsImdldEVuZ2luZUNvbmZpZyIsImR0TW95IiwicnVubmVyIiwicm9sbGJhY2tDb250cm9sIiwibWluaW1hbFVwZGF0ZUZQUyIsImR0VG90YWwiLCJkdENvdW50IiwicHJlUnVuU2ltdWxhdG9yIiwiZSIsImNyZWF0ZVA1SW5zdGFuY2UiLCJzZXRBdHRyaWJ1dGVzIiwibW91c2VQb3MiLCJjb21wdXRlRm9yWFlGcm9tUGl4ZWwiLCJtb3VzZVgiLCJtb3VzZVkiLCJydW5TaW11bGF0b3IiLCJnZXRDYW52YXNQcm9wb3J0aW9ucyIsInByb3BvcnRpb25zIiwiY2FudmFzIiwiY3JlYXRlQ2FudmFzIiwiV0VCR0wiLCJwYXJlbnQiLCJkaXZJZCIsInJ1IiwiVVBEQVRFX0ZQUyIsIkRSQVdfRlBTIiwiZnJhbWVSYXRlIiwiY3VycmVudFRpbWUiLCJjcml0aXFEdCIsIm1heFN0YW5kYXJkRGV2aWF0aW9uIiwic2ltdWxhdGlvblNwZWVkIiwiYXZlcmFnZVRpbWVTYW1wbGUiLCJ3aW5kb3dSZXNpemVkIiwicmVzaXplQ2FudmFzIiwibW91c2VEcmFnZ2VkIiwibW92YWJsZSIsImNQIiwiaXNSZWxhdGl2ZSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiY3VzdG9tT2JqZWN0IiwibnVtYmVyIiwicGFyYW1zIiwiRnVuY3Rpb24iLCJjb3B5UGFyYW1zVGVtcCIsIkFycmF5IiwiYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzIiwicnVuRnVuY3Rpb25zIiwic2xpY2UiLCJydW5DbGFzcyIsImlzX21vdmFibGUiLCJjb25maWdGdW5jIiwiZHJhd2VyMkQiLCJ6MCIsInoxIiwic3BoZXJlIiwiY29uZSIsImJveCIsImN5bGluZGVyIiwicGxhbmUiLCJubSIsIm5vcm1hbE1hdGVyaWFsIiwibW9kZWwiLCJ0cmFuc2Zvcm0iLCJwb2ludE5hbWUiLCJwb2ludFNpemUiLCJ2ZWN0b3JOYW1lIiwiZHJhd09yaWdpblZlY3RvciIsInBvaW50U2l6ZURyYXdpbmciLCJ0ZXh0UGFkZGluZyIsInBhcnNlSW50IiwicDAiLCJwMSIsInAyIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzZXRDb29yZGluYXRlcyIsInBHIiwiZ2xvYmFsIiwicFNQb2ludCIsInBTVHJpYW5nbGUiLCJwU0FuaW1hdGlvbiIsInA1Iiwic2V0dXAiLCJpbnN0YW5jaWF0ZSIsInBTRW5naW5lIiwiZ2V0UFNFbmdpbmVWYXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoieUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVB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QUdJLEtBQUt1UCxHQUFHMVAsR0FDOUJ3SCxXQUNKakUsUyw4REN0SFQsc0ZBdUJBME0sRUFBT0MsUUFBYyxJQUNyQkQsRUFBTzNQLE9BQWMsSUFDckIyUCxFQUFPRSxXQUFjLElBR3JCRixFQUFPRyxZQUFjLElBR3JCSCxFQUFPblEsT0FBYyxLLGdDQy9CckIsSUFBSTRILEVBR0pBLEVBQUksV0FDSCxPQUFPdkgsS0FESixHQUlKLElBRUN1SCxFQUFJQSxHQUFLLElBQUlvRyxTQUFTLGNBQWIsR0FDUixNQUFPbkMsR0FFYyxpQkFBWDlHLFNBQXFCNkMsRUFBSTdDLFFBT3JDaEgsRUFBT0QsUUFBVThKLEcsd0NDQUYsTUFqQmYsTUFDQyxjQUNpQnJILE1BQWJ3RSxPQUFPd0wsSUFDVHpQLFFBQVFFLE1BQ1AsdUVBQ0EsMERBSUYrRCxPQUFPeUwsTUFBUSxXQUNkekwsT0FBT2hDLHFCQUF1QixJQUFJLElBQ2xDZ0MsT0FBT2hDLHFCQUFxQjBOLGNBQzVCMUwsT0FBTzJMLFNBQVczTCxPQUFPaEMscUJBQXFCNE4sb0JDUnBCLElBQUlDLFFBQVEsQ0FBQ0MsRUFBU0MsS0FDcEIsWUFBeEJDLFNBQVNDLFdBQ1JILElBRUE5TCxPQUFPa00saUJBQWlCLE9BQVFKLEdBQVMsS0FHNUJLLEtBWE8sS0FDM0IsSUFBSSIsImZpbGUiOiJwU0VuZ2luZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwiaW1wb3J0ICcuLy4uL2RyYXdlci9vYmplY3RzL1RleHQnO1xyXG5cclxuLyoqXHJcbiogQSBjbGFzcyBmb3IgZXZlcnkgM0QgVmVjdG9ycy5cclxuKiA8YnIvPlBsZWFzZSBub3RlIHRoYXQgY3VycmVudCB2ZWN0b3IgbWF5IG9ubHkgYmUgdXNlZCBpbiA8Yj4yRDwvYj4uXHJcbiovXHJcbmNsYXNzIFZlY3RvciB7XHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgJ3JnYmEoUiwgRywgQiwgQSknXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIFZlY3RvciB0byBiZSBwb3RlbnRpYWxseSBkaXNwbGF5ZWQgKEBzZWUgZHJhdyBtZXRob2QpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIGNvbG9yID0gJ3JnYigyNTUsIDI1NSwgMjU1KScsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLnggICAgPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICAgID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiAgICA9IHogfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE1FVEhPRFMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogU2V0IHgsIHksIHogY29vcmRpbmF0ZXMgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IE5ldyBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCB0byBiZSBlcXVhbCB0b1xyXG4gICAgKiBAcGFyYW0geSBOZXcgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IE5ldyBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0KHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHgueCB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB4LnkgfHwgMDtcclxuICAgICAgICAgICAgdGhpcy56ID0geC56IHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSA9IHggfHwgMDtcclxuICAgICAgICB0aGlzLnogPSB4IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB2ZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZSBOZXcgbmFtZSBvZiB0aGUgVmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldE5hbWUobmFtZSkge1xyXG4gICAgICAgIGlmKG5hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgaWYobmFtZSBpbnN0YW5jZW9mIHBTVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBwU1RleHQobmFtZSwgbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVjayBpZiB0d28gdmVjdG9ycyBvciBwYWlyIG9mIGNvb3JkaW5hdGVzIGFyZSBlcXVhbFxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCBmb3IgZWdhbGl0eSBjaGVja2luZ1xyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdHJ1ZSBpZiBlcXVhbFxyXG4gICAgKi9cclxuICAgIGVxdWFscyh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gKHRoaXMueCA9PSB4KSAmJiAodGhpcy55ID09IHkpICYmICh0aGlzLnogPT0geik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gYSBjb3B5IG9mIHRoZSBjdXJyZW50IFZlY3RvciAqL1xyXG4gICAgY29weSgpIHsgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGlzIFZlY3RvciB3aXRoIGNvb3JkaW5hdGVzIHNldCB0byAoMCwgMCwgMCkgKi9cclxuICAgIGNsZWFyKCkgeyByZXR1cm4gdGhpcy5zZXQoMCwgMCwgMCk7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiBBIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0ICovXHJcbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBWZWN0b3IgT2JqZWN0IDogWyR7dGhpcy54fSwgJHt0aGlzLnl9LCAke3RoaXMuen1dYDsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgdGhpcy54ICs9IHggfHwgMDtcclxuICAgICAgICB0aGlzLnkgKz0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiArPSB6IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1c3RyYWN0IHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdWIoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1Yih4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKC14LCAteSwgLXopO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgbXVsdGlwbGljYXRpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIG11bHQoYykge1xyXG4gICAgICAgIGlmKCEodHlwZW9mIGMgPT09ICdudW1iZXInKSB8fCAhaXNGaW5pdGUoYykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgJ1ZlY3Rvcjo6bXVsdCgpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggKj0gYztcclxuICAgICAgICB0aGlzLnkgKj0gYztcclxuICAgICAgICB0aGlzLnogKj0gYztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGl2aWRlcyB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgZGl2aXNpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRpdihjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjpkaXYoKScsXHJcbiAgICAgICAgICAgICAgICAnYyBpcyB1bmRlZmluZWQgb3IgaXNuXFwndCBhIGZpbml0ZSBudW1iZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihjID09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRpdmlkZSBieSAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdCgxIC8gYyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgbWV0aG9kc1xyXG4gICAgLyoqXHJcbiAgICAqIEFkZCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgYWRkKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuYWRkKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTdWJ0cmFjdCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgc3ViKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuc3ViKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSBhIHZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvclxyXG4gICAgKiBAcGFyYW0gYyBBIHNjYWxhciBjXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgbXVsdGlwbGllZCBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgbXVsdCh2MSwgYykgeyByZXR1cm4gKHYxLmNvcHkoKSkubXVsdChjKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBkaXZpZGVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkaXYgKHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5kaXYoYyk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogPT09PT09PT09IEFEVkFOQ0VEIE1BVEggVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvLyBEb3QgYW5kIGNyb3NzIHByb2R1Y3RzXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBkb3QoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvdCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqICh4IHx8IDApICsgdGhpcy55ICogKHkgfHwgMCkgKyB0aGlzLnogKiAoeiB8fCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3Jvc3MgcHJvZHVjdCB3aXRoIGEgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY3Jvc3Modikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICB0aGlzLnkgKiB2LnogLSB0aGlzLnogKiB2LnksXHJcbiAgICAgICAgICAgIHRoaXMueiAqIHYueCAtIHRoaXMueCAqIHYueixcclxuICAgICAgICAgICAgdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIE1hZ25pdHVkZVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG5vcm1hbGl6ZWQgVmVjdG9yICovXHJcbiAgICBub3JtYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3QgdkxlbiA9IHRoaXMubWFnKCk7XHJcbiAgICAgICAgaWYgKHZMZW4gIT09IDApXHJcbiAgICAgICAgICAgIHRoaXMuZGl2KHZMZW4pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTGltaXQgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yIGJldHdlZW4gYSBtaW4gYW5kIGEgbWF4IHZhbHVlXHJcbiAgICAqIEBwYXJhbSBtaW4gTWluaW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWUgb2YgdGhlIFZlY3RvciBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGltaXQobWluLCBtYXgpIHtcclxuICAgIFx0bGV0IG0gPSB0aGlzLm1hZygpO1xyXG4gICAgXHRpZihtIDwgbWluKVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWluKTtcclxuICAgIFx0aWYobSA+IG1heClcclxuICAgIFx0XHR0aGlzLmRpdihtKS5tdWx0KG1heCk7XHJcbiAgICBcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3IgKi9cclxuICAgIG1hZygpIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBtYWcgVGhlIG5ldyBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TWFnKG1hZykgeyByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0KG1hZyk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIEFuZ2xlc1xyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSB0aGlzIHZlY3RvciBieSBhbiBhbmdsZSBvbiB0aGUgWFkgcGxhbmVcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcm90YXRlKGFuZ2xlKSB7XHJcbiAgICAgICAgY29uc3QgbmV3QW5nbGUgID0gdGhpcy5nZXRBbmdsZSgpICsgYW5nbGU7XHJcbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gdGhpcy5tYWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5jb3MobmV3QW5nbGUpICogbWFnbml0dWRlO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKG5ld0FuZ2xlKSAqIG1hZ25pdHVkZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIHRoZSBvcmlnaW4gKi9cclxuICAgIGdldEFuZ2xlKCkgeyByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogRGlzdGFuY2UgYmV3dGVlbiB0d28gdmVjdG9yc1xyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvc2l0aW9ucyB3aGVyZSB0aGUgYXJyb3cgYXJlIHBvaW50aW5nIHRvXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpc3QodjEsIHYyKSB7IHJldHVybiBWZWN0b3Iuc3ViKHYxLCB2MikubWFnKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBkb3R0ZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkb3QodjEsIHgsIHksIHopIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRvdCh4LCB5LCB6KTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhlIGNyb3NzZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjcm9zcyh2MSwgdjIpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmNyb3NzKHYyKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBub3JtYWxpemVkIFZlY3RvciAqL1xyXG4gICAgc3RhdGljIG5vcm1hbGl6ZSh2MSkgeyByZXR1cm4gKHYxLmNvcHkoKSkubm9ybWFsaXplKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIGEgdmVjdG9yIGJ5IGFuIGFuZ2xlXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yIHRvIGJlIHJvdGF0ZWRcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGUgcm90YXRlZCB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgcm90YXRlICh2MSwgYW5nbGUpIHsgcmV0dXJuICh2MS5jb3B5KCkpLnJvdGF0ZShhbmdsZSk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gRFJBV0lORyBWRUNUT1JTID09PT09PT09PSAqL1xyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBoZWFkU2l6ZSBTaXplIG9mIHRoZSBoZWFkIGluIHBpeGVscyAoZGVmYXVsdCA9IDUgcHgpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgU3Ryb2tlIHdlaWdodCBvZiB0aGUgVmVjdG9yIGluIHBpeGVscyAoZGVmYXVsdCA9IDEgcHgpXHJcbiAgICAqL1xyXG4gICAgZHJhdyhpbml0aWFsUG9zLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KSB7XHJcbiAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIFZlY3Rvci5kcmF3KGluaXRpYWxQb3MsIHRoaXMsIHRoaXMuY29sb3IsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgVmVjdG9yLmRyYXcodW5kZWZpbmVkICwgdGhpcywgdGhpcy5jb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIChQbGVhc2UgYXZvaWQgZGlyZWN0bHkgdXNpbmcgdGhpcyBtZXRob2QpXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBlbmRpbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIGFycm93IChkZWZhdWx0IGByZ2IoMjU1LCAyNTUsIDI1NSlgKVxyXG4gICAgKiBAcGFyYW0gaGVhZFNpemUgU2l6ZSBvZiB0aGUgaGVhZCBpbiBwaXhlbHMgKGRlZmF1bHQgPSA1IHB4KVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFN0cm9rZSB3ZWlnaHQgb2YgdGhlIFZlY3RvciBpbiBwaXhlbHMgKGRlZmF1bHQgPSAxIHB4KVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkcmF3KGluaXRpYWxQb3MsIHBvaW50aW5nUG9zLCBjb2xvciA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBoZWFkU2l6ZSA9IDUsIHN0cm9rZVcgPSAxKSB7XHJcbiAgICAgICAgbGV0IHBsb3R0ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyO1xyXG5cclxuICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGlmKChpbml0aWFsUG9zICE9IHVuZGVmaW5lZCAmJiBpbml0aWFsUG9zLnogIT0gMCkgfHwgcG9pbnRpbmdQb3MueiAhPSAwKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVjdG9yIGRyYXdpbmcgaXMgb25seSBhdmFsaWFibGUgd2l0aCAnaXNfM0QnIGF0IHRydWUgdmFsdWUuXCIpO1xyXG5cclxuICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1JcclxuICAgICAgICAgICAgICAgIGlmKGluaXRpYWxQb3MgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSBwbG90dGVyLmNvbXB1dGVGb3JYWVooaW5pdGlhbFBvcy54LCBpbml0aWFsUG9zLnksIGluaXRpYWxQb3Mueik7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKHAueCAtIHdpZHRoIC8gMiwgcC55IC0gaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHp6UG9zaXRpb24gPSBwbG90dGVyLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zICAgICA9IHBsb3R0ZXIuY29tcHV0ZUZvclhZWihwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuXHJcbiAgICAgICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsbChjb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUoenpQb3NpdGlvbi54LCB6elBvc2l0aW9uLnksIGVuZFBvcy54LCBlbmRQb3MueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKGVuZFBvcy54LCBlbmRQb3MueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZShlbmRQb3Muc3ViKHp6UG9zaXRpb24pLmdldEFuZ2xlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSgtaGVhZFNpemUgLSAyLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZSgwLCBoZWFkU2l6ZSAvIDIsIDAsIC1oZWFkU2l6ZSAvIDIsIGhlYWRTaXplLCAwKTtcclxuICAgICAgICAgICAgXHRwb3AoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRFJBVyBWRUNUT1IgTkFNRVxyXG4gICAgICAgICAgICAgICAgaWYocG9pbnRpbmdQb3MubmFtZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPZmZzZXQgb2YgdGhlIHRleHQgYmFzZWQgb24gdGhlIGFuZ2xlIG9uIHRoZSB1bml0IGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IHBvaW50aW5nUG9zLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5nbGUgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZSArPSAyKlBJO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeE9mZnNldCA9IDAuOCAqIHBvaW50aW5nUG9zLm5hbWUuY1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAgICAoUEkvNCAgIDwgYW5nbGUgJiYgYW5nbGUgPD0gUEkvMiAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoMypQSS80IDwgYW5nbGUgJiYgYW5nbGUgPD0gNSpQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoMypQSS8yIDwgYW5nbGUgJiYgYW5nbGUgPD0gNypQSS80KVxyXG4gICAgICAgICAgICAgICAgICAgICkgeE9mZnNldCAqPSAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlPZmZzZXQgPSAtMS4xICogcG9pbnRpbmdQb3MubmFtZS5kZXNjICsgMS4xICogcG9pbnRpbmdQb3MubmFtZS5hc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIFBJLzIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSS8yICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAzKlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSSAgICAgPCBhbmdsZSAmJiBhbmdsZSA8PSA1KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICg3KlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIDIqUEkpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB5T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb2ludGluZ1Bvcy5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRDb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBvc2l0aW9uKHBvaW50aW5nUG9zLnggLyAyLCBwb2ludGluZ1Bvcy55IC8gMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9mZnNldCh4T2Zmc2V0LCB5T2Zmc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHJhdyhwbG90dGVyLmRyYXdlcik7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBUlJPVyBPTiBUT1BcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXJyb3dPclBvcyA9IHBsb3R0ZXIuY29tcHV0ZUZvclhZKHBvaW50aW5nUG9zLnggLyAyLCBwb2ludGluZ1Bvcy55IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsbChjb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dPclBvcy54ICsgeE9mZnNldCAtIHBvaW50aW5nUG9zLm5hbWUuY1dpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dPclBvcy55ICsgeU9mZnNldCAtIHBvaW50aW5nUG9zLm5hbWUuYXNjXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lKDAsIDAsIHBvaW50aW5nUG9zLm5hbWUuY1dpZHRoLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpYW5nbGVcclxuICAgICAgICAgICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShoZWFkU2l6ZSArIHBvaW50aW5nUG9zLm5hbWUuY1dpZHRoIC8gMS41LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUoMCwgaGVhZFNpemUgLyA0LCAwLCAtaGVhZFNpemUgLyA0LCBoZWFkU2l6ZSAvIDIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYWRTaXplIC89IDM7XHJcblxyXG4gICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWxsKGNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUlxyXG4gICAgICAgICAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIudHJhbnNsYXRlKGluaXRpYWxQb3MueCwgaW5pdGlhbFBvcy55LCBpbml0aWFsUG9zLnopO1xyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIubGluZSgwLCAwLCAwLCBwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUiBOQU1FXHJcbiAgICAgICAgICAgICAgICAvLyBpZihwb2ludGluZ1Bvcy5uYW1lICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRleHQocG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHhheGlzID0gVmVjdG9yLmNyb3NzKG5ldyBWZWN0b3IoMCwgMSwgMCksIHBvaW50aW5nUG9zKTtcclxuICAgICAgICAgICAgICAgIC8vIHhheGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGxldCB5YXhpcyA9IFZlY3Rvci5jcm9zcyhwb2ludGluZ1BvcywgeGF4aXMpO1xyXG4gICAgICAgICAgICAgICAgLy8geWF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gQ2FsY3VsYXRlIHJvdGF0aW9uIG1hdHJpeFxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IE0gPSBbW10sIFtdLCBbXV07XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzBdID0geGF4aXMueDtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMV0gPSB5YXhpcy54O1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVsyXSA9IHBvaW50aW5nUG9zLng7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVswXSA9IHhheGlzLnk7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzFdID0geWF4aXMueTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMl0gPSBwb2ludGluZ1Bvcy55O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMF0gPSB4YXhpcy56O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVsxXSA9IHlheGlzLno7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzJdID0gcG9pbnRpbmdQb3MuejtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBDYWxjdWxhdGUgRXVsZXIgYW5nbGVzXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGhldGExLCB0aGV0YTIsIHRoZXRhLCBwc3kxLCBwc3kyLCBwc3ksIHBoaTEsIHBoaTIsIHBoaTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIChNWzNdWzFdICE9IC0xICYmIE1bM11bMV0gIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoZXRhMSA9IC1NYXRoLmFyY3NpbihNWzNdWzFdKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGV0YTIgPSBNYXRoLlBJIC0gdGhldGExO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBzeTEgPSBNYXRoLmF0YW4yKE1bM11bMl0gLyBNYXRoLmNvcyh0aGV0YTEpKVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGNvbmUoaGVhZFNpemUgKiAzLCBoZWFkU2l6ZSAqIDcpO1xyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yO1xyXG4iLCJjbGFzcyBwU1RleHQge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0ZXh0IExhVGVYIGNvZGUgKGluc2VydCAnXFx0ZXh0e1RFWFR9JyBmb3IgcGxhaW4gdGV4dClcclxuICAgICogQHBhcmFtIHBvcyB0ZXh0IHBvc2l0aW9uIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHRleHRTaXplIHRleHQgc2l6ZSBtdWx0aXBsaWVyIChkZWZhdWx0IDEpXHJcbiAgICAqIEBwYXJhbSBjb2xvciB0ZXh0IGNvbG9yIChkZWZhdWx0IHdoaXRlKVxyXG4gICAgKiBAcGFyYW0gc2hvd0hpdGJveCB0cnVlIDogc2hvdyB0ZXh0IGhpdGJveCAoZGVmYXVsdCA6IGZhbHNlKVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRleHQsIHBvcyA9IG5ldyBWZWN0b3IoKSwgdGV4dFNpemUgPSAxLCBjb2xvciA9IFwiI0ZGRkZGRlwiLCBzaG93SGl0Ym94ID0gZmFsc2UpIHtcclxuICAgICAgICBpZih3aW5kb3cuTWF0aEpheCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1lvdSBtdXN0IGltcG9ydCBNYXRoSmF4LmpzID49My4wLjAgaW4gb3JkZXIgdG8gdXNlIFRleHQgYW5kIFRleCBzdHJpbmdzLicpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRTaXplICAgPSB0ZXh0U2l6ZTtcclxuICAgICAgICB0aGlzLmNvbG9yICAgICAgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnBvcyAgICAgICAgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5zaG93SGl0Ym94ID0gc2hvd0hpdGJveDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0KHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSB0ZXh0IHRvIHRoZSBzY3JlZW5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuICAgICAgICBsZXQgcG9zICAgID0gZHJhd2VyLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih0aGlzLnBvcy54LCB0aGlzLnBvcy55KTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUoLXRoaXMuc3ZnSW1nLndpZHRoIC8gMiwgLXRoaXMuc3ZnSW1nLmhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICAgICAgaW1hZ2UodGhpcy5zdmdJbWcsIHBvcy54LCBwb3MueSwgdGhpcy5zdmdJbWcud2lkdGgsIHRoaXMuc3ZnSW1nLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnNob3dIaXRib3gpIHtcclxuICAgICAgICAgICAgICAgIGxldCBoID0gdGhpcy5zdmdJbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLnN2Z0ltZy53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKHRoaXMuY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSAgICAsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgKyBoKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggICAgLCBwb3MueSArIGgsIHBvcy54ICAgICwgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgICAgIGxpbmUocG9zLnggKyB3LCBwb3MueSArIGgsIHBvcy54ICsgdywgcG9zLnkgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2UgdGV4dCB2YWx1ZVxyXG4gICAgKi9cclxuICAgIHNldFRleHQodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcblxyXG4gICAgICAgIGxldCBzdmcgPSAnPHN2ZycgKyBNYXRoSmF4LnRleDJzdmcodGhpcy50ZXh0LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXkgOiB0cnVlLCBlbSA6IDEyLCBleCA6IDYsIGNvbnRhaW5lcldpZHRoIDogODAgKiA2LCBsaW5lV2lkdGggOiAxMDAwMDAsIHNjYWxlIDogMSB9XHJcbiAgICAgICAgKS5pbm5lckhUTUwuc3BsaXQoJzxzdmcnKVsxXS5zcGxpdCgnPC9zdmc+JylbMF0gKyAnPC9zdmc+JztcclxuXHJcbiAgICAgICAgc3ZnID0gc3ZnXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC88Zy9nICAgICAgICAgICAsICc8ZyBjb2xvcj1cIicgKyB0aGlzLmNvbG9yICsgJ1wiJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL3dpZHRoPVwiKC4qPylcIi8gLCAnd2lkdGg9XCInICArIHBhcnNlRmxvYXQoL3dpZHRoPVwiKC4qPylcIi8gLmV4ZWMoc3ZnKVsxXS5zcGxpdCgnZXgnKVswXSkgKiB0aGlzLnRleHRTaXplICsgJ2V4XCInKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvaGVpZ2h0PVwiKC4qPylcIi8sICdoZWlnaHQ9XCInICsgcGFyc2VGbG9hdCgvaGVpZ2h0PVwiKC4qPylcIi8uZXhlYyhzdmcpWzFdLnNwbGl0KCdleCcpWzBdKSAqIHRoaXMudGV4dFNpemUgKyAnZXhcIicpO1xyXG5cclxuICAgICAgICB0aGlzLnN2Z0ltZyA9IGxvYWRJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtzdmddLCB7IHR5cGU6ICdpbWFnZS9zdmcreG1sJyB9KSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlcyB0ZXh0IHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB4IG5ldyBYIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5IG5ldyBZIHBvc2l0aW9uXHJcbiAgICAqL1xyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIHRoaXMucG9zLnggPSB4O1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSB5O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGFuZ2VzIHRleHQgY29sb3JcclxuICAgICogQHBhcmFtIGNvbG9yIE5ldyBjb2xvclxyXG4gICAgKi9cclxuICAgIHNldENvbG9yKGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1RleHQ7XHJcbiIsImNsYXNzIHBTRHJhd2VyIHtcclxuICAgIC8qKiBDb25zdHJ1Y3QgdGhlIG1haW4gcFNFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHggWCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcG9pbnQoeCwgeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgcG9pbnQodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGEgbGluZSBmcm9tIG9uZSBwb2ludCB0byB0aGUgb3RoZXIgdG8gdGhlIHNjcmVlblxyXG4gICAgKiBAcGFyYW0geDAgWCBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geTAgWSBpbml0aWFsIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geDEgWCBlbmQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5MSBZIGVuZCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGluZSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxKTtcclxuICAgICAgICBsaW5lKHYwLngsIHYwLnksIHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGFuIGVsbGlwc2VcclxuICAgICogQHBhcmFtIHggWCBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gcnggWCBlbGxpcHNlIHJhZGl1c1xyXG4gICAgKiBAcGFyYW0gcnkgWSBlbGxpcHNlIHJhZGl1c1xyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBlbGxpcHNlKHgsIHksIHJ4LCByeSkge1xyXG4gICAgICAgIGxldCB2ID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcbiAgICAgICAgZWxsaXBzZSh2LngsIHYueSwgcngsIHJ5KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIGNpcmNsZVxyXG4gICAgKiBAcGFyYW0geCBYIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSByIENpcmNsZSByYWRpdXNcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY2lyY2xlKHgsIHksIHIpIHtcclxuICAgIFx0cmV0dXJuIHRoaXMuZWxsaXBzZSh4LCB5LCByLCByKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIHJlY3RhbmdsZVxyXG4gICAgKiBAcGFyYW0geCBYIGJvdHRvbSBsZWZ0IHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGJvdHRvbSBsZWZ0IHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gdyBSZWN0YW5nbGUgd2lkdGhcclxuICAgICogQHBhcmFtIGggUmVjdGFuZ2xlIGhlaWdodFxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICByZWN0KHgsIHksIHcsIGgpIHtcclxuICAgICAgICBsZXQgcGxDb25mID0gdGhpcy5wbG90dGVyLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcblxyXG4gICAgICAgIGxldCB3RiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcgLSBwbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCwgMCkueDtcclxuICAgICAgICBsZXQgaEYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihcclxuICAgICAgICAgICAgaCAtIHBsQ29uZi5zY2FsZS54ICsgcGxDb25mLm9mZnNldC54LFxyXG4gICAgICAgICAgICBoIC0gcGxDb25mLnNjYWxlLnkgKyBwbENvbmYub2Zmc2V0LnlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZihwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICBoRiA9IGhGLng7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBoRiA9IGhGLnk7XHJcblxyXG4gICAgICAgIHRoaXMucHVzaCgpXHJcbiAgICAgICAgICAgIC50cmFuc2xhdGUoeCAtIHBsQ29uZi5vZmZzZXQueCwgeSAtIHBsQ29uZi5vZmZzZXQueSlcclxuICAgICAgICAgICAgLmJlZ2luU2hhcGUoKTtcclxuICAgICAgICAgICAgICAgIHZlcnRleCgwICwgIDAgKTtcclxuICAgICAgICAgICAgICAgIHZlcnRleCh3RiwgIDAgKTtcclxuICAgICAgICAgICAgICAgIHZlcnRleCh3RiwgLWhGKTtcclxuICAgICAgICAgICAgICAgIHZlcnRleCgwICwgLWhGKTtcclxuICAgICAgICAgICAgdGhpcy5lbmRTaGFwZShDTE9TRSlcclxuICAgICAgICAucG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCBzdHJva2UgY29sb3JcclxuICAgICogQHBhcmFtIHIgUmVkIHZhbHVlICgwIHRvIDI1NSksIG9yICdyZ2IociwgZywgYiknIG9yICdyZ2JhKHIsIGcsIGIsIGEpJ1xyXG4gICAgKiBAcGFyYW0gZyBHcmVlbiB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBiIEJsdWUgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYSBBbHBoYSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHN0cm9rZShyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgaWYoYSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoYiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZShyKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2UociwgZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlKHIsIGcsIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHN0cm9rZShgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2F9KWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgc3Ryb2tlIHdlaWdodFxyXG4gICAgKiBAcGFyYW0gbiBTdHJva2Ugd2VpZ2h0IChpbnRlZ2VyKVxyXG4gICAgKi9cclxuICAgIHN0cm9rZVdlaWdodChuKSB7XHJcbiAgICAgICAgc3Ryb2tlV2VpZ2h0KG4pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgZmlsbCBjb2xvclxyXG4gICAgKiBAcGFyYW0gciBSZWQgdmFsdWUgKDAgdG8gMjU1KSwgb3IgJ3JnYihyLCBnLCBiKScgb3IgJ3JnYmEociwgZywgYiwgYSknXHJcbiAgICAqIEBwYXJhbSBnIEdyZWVuIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGIgQmx1ZSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBhIEFscGhhIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZmlsbChyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgaWYoYSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoYiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGcgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbChyLCBnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBmaWxsKHIsIGcsIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGZpbGwoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHRyYW5zbGF0ZSh2LngsIHYueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYmVnaW5TaGFwZShUWVBFKSB7XHJcbiAgICAgICAgYmVnaW5TaGFwZShUWVBFKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbmRTaGFwZShUWVBFKSB7XHJcbiAgICAgICAgZW5kU2hhcGUoVFlQRSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmVydGV4KHgsIHkpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHZlcnRleCh2LngsIHYueSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcG9wKCkge1xyXG4gICAgICAgIHBvcCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1c2goKSB7XHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiogUmVtb3ZlIHN0cm9rZSBvZiB0aGUgc2hhcGUgKi9cclxuICAgIG5vU3Ryb2tlKCkge1xyXG4gICAgICAgIG5vU3Ryb2tlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIE5vIGZpbGwgdGhlIHNoYXBlICovXHJcbiAgICBub0ZpbGwoKSB7XHJcbiAgICAgICAgbm9GaWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRHJhd2VyO1xyXG4iLCJjbGFzcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYWJzdHJhY3QgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aW1lTGVuZ3RoIExlbmd0aCBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIEN1c3RvbSBhbmltYXRpb24gZGF0YXNcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHRoaXMuc2NhbGVUaW1lICAgPSAxO1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgICAgICB0aGlzLmRhdGFzICAgICAgID0gZGF0YXM7XHJcbiAgICAgICAgdGhpcy50aW1lTGVuZ3RoICA9IHRpbWVMZW5ndGg7XHJcbiAgICAgICAgdGhpcy5sYXN0S2V5ICAgICA9IHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdGFydCAob3IgcmVzdGFydCkgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFN0b3AgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUICAgID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGYgQ3VycmVudCBkcmF3aW5nIGFuaW1hdGlvbiBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIGYoZHQpXHJcbiAgICAqL1xyXG4gICAgZ2V0S2V5KGYpIHtcclxuICAgICAgICBsZXQgZHQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMCAtIHRoaXMuaW5pdGlhbFQ7XHJcblxyXG4gICAgICAgIGlmKGR0ID4gdGhpcy50aW1lTGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbERyYXcodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdEtleSA9IGYoZHQsIHRoaXMpIC8gdGhpcy5zY2FsZVRpbWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgdXBkYXRlIGtleSAqL1xyXG4gICAgdXBkYXRlS2V5KCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy51cGRhdGUpOyB9XHJcbiAgICAvKiogQHJldHVybiB0aGUgY3VycmVudCBkcmF3IGtleSAqL1xyXG4gICAgZHJhd0tleSAgKCkgeyByZXR1cm4gdGhpcy5nZXRLZXkodGhpcy5kcmF3ICApOyB9XHJcblxyXG4gICAgLyoqIFVwZGF0ZSBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgdXBkYXRlKCkge31cclxuICAgIC8qKiBEcmF3IGxvb3AgZm9yIG92ZXJ3cml0aW5nICovXHJcbiAgICBkcmF3ICAoKSB7fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0FuaW1hdGlvbkhhbmRsZXI7XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNJbnRlcnBvbGF0aW9uIGV4dGVuZHMgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBJbnRlcnBvbGF0aW9uIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIFRoZSBkYXRhcyB0byBiZSBpbnRlcnBvbGF0ZWQgJ1tQb2ludDEsIFBvaW50MiwgLi4uXSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pID0gLTE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2hhcGUgPSB0aGlzLm5leHRTaGFwZShkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxEdCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFNldCBzaGFwZSBiYXNlZCBvbiBhbmltYXRpb24gYW5kIHBvaW50cyAqL1xyXG4gICAgbmV4dFNoYXBlKHBvaW50cykge1xyXG4gICAgICAgIHRoaXMuaSsrO1xyXG5cclxuICAgICAgICBsZXQgaiA9IHRoaXMuaSArIDE7XHJcbiAgICAgICAgaWYoaiA+IHBvaW50cy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICBqID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtwb2ludHNbdGhpcy5pXSwgcG9pbnRzW2pdXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHVwZGF0ZSBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQsIHRoKSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHRpbWUgQ3VycmVudCB0aW1lIG9mIHRoZSBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGRyYXcga2V5XHJcbiAgICAqL1xyXG4gICAgZHJhdyhkdCwgdGgpIHtcclxuICAgICAgICBsZXQgYyA9IHRoLnRpbWVMZW5ndGggLyB0aC5kYXRhcy5sZW5ndGg7XHJcbiAgICAgICAgaWYoISh0aC5jdXJyZW50U2hhcGVbMF0gPT0gdW5kZWZpbmVkIHx8IHRoLmN1cnJlbnRTaGFwZVsxXSA9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIGlmKGR0IC0gdGgubG9jYWxEdCA+PSBjKSB7XHJcbiAgICAgICAgICAgICAgICB0aC5jdXJyZW50U2hhcGUgPSB0aC5uZXh0U2hhcGUodGguZGF0YXMpO1xyXG4gICAgICAgICAgICAgICAgdGgubG9jYWxEdCArPSBjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aC5kcmF3Q3VycmVudFNoYXBlKFxyXG4gICAgICAgICAgICB0aC5kYXRhcyxcclxuICAgICAgICAgICAgKGksIGx0LCB0aSwgYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYoaSA9PSB0aSlcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gbHQgLyBjO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQ7XHJcbiAgICAgICAgICAgIH0sIHRoLCB0aC5pICsgMSwgZHQgLSB0aC5sb2NhbER0LCBjKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICB0aGlzLmRyYXdDdXJyZW50U2hhcGUodGhpcy5kYXRhcywgKCkgPT4gMSwgdGhpcywgdGhpcy5kYXRhcy5sZW5ndGgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IGN1cnJlbnQgc2hhcGUgb24gc2NyZWVuXHJcbiAgICAqIEBwYXJhbSBkIHRoaXMuZGF0YXNcclxuICAgICogQHBhcmFtIHBlcmNlbnRGdW5jdGlvbiBDdXJyZW50IGFuaW1hdGlvbiBnZXQgcGVyY2VudCBmdW5jdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEBwYXJhbSBtYXhJIE1heCBwb2ludHMgY291bnRcclxuICAgICogQHBhcmFtIGx0IEN1cnJlbnQgdGltZSB2YWx1ZVxyXG4gICAgKiBAcGFyYW0gYyBGaW5hbCB0aW1lIHZhbHVlIC8gbWF4IHBvaW50cyBjb3VudFxyXG4gICAgKi9cclxuICAgIGRyYXdDdXJyZW50U2hhcGUoZCwgcGVyY2VudEZ1bmN0aW9uLCB0aCwgbWF4SSwgbHQsIGMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGVyY2VudCA9IHBlcmNlbnRGdW5jdGlvbihpLCBsdCwgdGguaSwgYyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbiA9IGkgKyAxO1xyXG4gICAgICAgICAgICBpZihuID49IGQubGVuZ3RoKSBuID0gMDtcclxuXHJcbiAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMylcclxuICAgICAgICAgICAgICAgIC5zdHJva2UoMjU1KVxyXG4gICAgICAgICAgICAgICAgLmxpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55LFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLnggKyAoZFtuXS5wb3MueCAtIGRbaV0ucG9zLngpICogcGVyY2VudCxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy55ICsgKGRbbl0ucG9zLnkgLSBkW2ldLnBvcy55KSAqIHBlcmNlbnRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0ludGVycG9sYXRpb247XHJcbiIsImltcG9ydCBwU0FuaW1hdGlvbkhhbmRsZXIgZnJvbSAnLi9wU0FuaW1hdGlvbkhhbmRsZXInO1xyXG5cclxuY2xhc3MgcFNFYXNlSW5PdXRDdWJpYyBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogRWFzZSBpbiBhbmQgb3V0IGN1YmljIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGRhdGFzIE1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzICd7IG1pbiA6IDAsIG1heCA6IDEgfSdcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lTGVuZ3RoLCBkYXRhcykge1xyXG4gICAgICAgIHN1cGVyKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5taW4gPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1pbiA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5kYXRhcy5tYXggPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzLm1heCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBrZXlcclxuICAgICovXHJcbiAgICB1cGRhdGUodGltZSwgdGgpIHtcclxuICAgICAgICBsZXQgdCA9IHRpbWUgLyB0aC50aW1lTGVuZ3RoO1xyXG4gICAgICAgIGlmKHQgPCAwLjUpXHJcbiAgICAgICAgICAgIHJldHVybiAoMiAqIHQgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgICAgIHJldHVybiAoLTEgKyAoNCAtIDIgKiB0KSAqIHQpICogKHRoLmRhdGFzLm1heCAtIHRoLmRhdGFzLm1pbikgKyB0aC5kYXRhcy5taW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHQpIHsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSBmaW5hbCBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKi9cclxuICAgIGZpbmFsRHJhdyh0aCkge1xyXG4gICAgICAgIHJldHVybiB0aC5kYXRhcy5tYXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRWFzZUluT3V0Q3ViaWM7XHJcbiIsImltcG9ydCBwU0ludGVycG9sYXRpb24gIGZyb20gJy4vYW5pbWF0aW9ucy9wU0ludGVycG9sYXRpb24nO1xyXG5pbXBvcnQgcFNFYXNlSW5PdXRDdWJpYyBmcm9tICcuL2FuaW1hdGlvbnMvcFNFYXNlSW5PdXRDdWJpYyc7XHJcblxyXG5jbGFzcyBBbmltYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhbmltYXRpb25OYW1lIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiAoJ2Vhc2VJbk91dEN1YmljJywgJ2ludGVycG9sYXRpb24nKVxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzIChkZWZhdWx0IDogMSlcclxuICAgICogQHBhcmFtIGRhdGFzIE9wdGlvbmFsIHBhcmFtZXRlciAoc2VlIHNwZWNpZmljIGFuaW1hdGlvbiBmb3IgYW5pbWF0aW9uIGluZm9ybWF0aW9ucylcclxuICAgICovXHJcbiAgICBzdGF0aWMgbmV3KGFuaW1hdGlvbk5hbWUsIHRpbWVMZW5ndGggPSAxLCBkYXRhcyA9IHt9KSB7XHJcbiAgICAgICAgaWYoIWFuaW1hdGlvbk5hbWUpXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbk5hbWUgPSAnZWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFuaW1hdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZWFzZUluT3V0Q3ViaWMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0Vhc2VJbk91dEN1YmljKHRpbWVMZW5ndGgsIGRhdGFzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnaW50ZXJwb2xhdGlvbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHBTSW50ZXJwb2xhdGlvbih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRpb247XHJcbiIsImltcG9ydCAnLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuXHJcbmNsYXNzIHBTUGxvdHRlciB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHNpbXVsYXRvciBNYWluIEVuZ2luZSBzaW11bGF0b3JcclxuICAgICogQHBhcmFtIGRyYXdlciBNYWluIEVuZ2luZSBkcmF3ZXIgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzaW11bGF0b3IsIGRyYXdlcikge1xyXG4gICAgICAgIHRoaXMuc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xyXG4gICAgICAgIHRoaXMuZHJhd2VyICAgID0gZHJhd2VyO1xyXG4gICAgICAgIHRoaXMub2JqZWN0c0wgID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyLnBsb3R0ZXIgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGUgbWFpbiBsb29wXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlIChpbiBzZWNvbmRzKVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBsaWdodHMoKTtcclxuICAgICAgICAgICAgb3JiaXRDb250cm9sKDUsIDUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLnVwZGF0ZShkdCwgdGhpcy5vYmplY3RzTCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogRHJhdyBtYWluIGxvb3AgKi9cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IHBsQ29uZiA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgYmcgICAgID0gcGxDb25mLmJhY2tncm91bmRDb2xvci5jb2xvcjtcclxuXHJcbiAgICAgICAgaWYocGxDb25mLmJhY2tncm91bmRDb2xvci5kcmF3KVxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kKGJnLnIsIGJnLmcsIGJnLmIpO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGV2ZXJ5IG9iamVjdCB0byB0aGUgc2NyZWVuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHNMLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNMW2ldLmRyYXcodGhpcy5kcmF3ZXIpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgZ3JpZFxyXG4gICAgICAgIGlmKHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlci5kaXNwbGF5R3JpZCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnTW9kZSgxMDAsIDEwLCAwLCAwLCAwLCAyMCwgMCwgLTQwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB5UyA9IE1hdGgucm91bmQoaGVpZ2h0IC8gcGxDb25mLnNjYWxlLnkgLyAyKTtcclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHlTID0gcGxDb25mLnNjYWxlLnk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IC1wbENvbmYuc2NhbGUueCAtIDE7IGkgPCBwbENvbmYuc2NhbGUueCArIDE7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gLXlTIC0gMTsgaiA8IHlTICsgMTsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5yZWN0KGkgKyBwbENvbmYub2Zmc2V0LngsIGogKyBwbENvbmYub2Zmc2V0LnksIDEsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEgKyAwLjMpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5saW5lKC1wbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCAtIDEsIDAsIHBsQ29uZi5zY2FsZS54ICsgcGxDb25mLm9mZnNldC54ICsgMSwgMCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFwbENvbmYuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd2VyLmxpbmUoMCwgLXBsQ29uZi5zY2FsZS55IC0gMSwgMCwgcGxDb25mLnNjYWxlLnkgKyAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC15UyAtIDEsIDAsIHlTICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2VyXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuc3Ryb2tlKHBsQ29uZi5ncmlkQ29sb3IuciwgcGxDb25mLmdyaWRDb2xvci5nLCBwbENvbmYuZ3JpZENvbG9yLmIsIHBsQ29uZi5ncmlkQ29sb3IuYSlcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgwLjUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENvbXB1dGUgdGhlIFggYW5kIFkgcGl4ZWwgcG9zaXRpb24gYmFzZWQgb24gdGhlIGRyYXdpbmcgcGFyYW1ldGVyc1xyXG4gICAgKiBAcGFyYW0geFJlbCBYIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHpSZWwgWiByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcmV0dXJuIHtYLCBZLCBafSBvYmplY3RcclxuICAgICovXHJcbiAgICBjb21wdXRlRm9yWFlaKHhSZWwsIHlSZWwsIHpSZWwpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBpZiAoIWMuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsIC0gYy5vZmZzZXQueCkgLyBjLnNjYWxlLnggKyAxKSAgKiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsICsgYy5vZmZzZXQueikgLyBjLnNjYWxlLnogKyAxKSAgKiB3aWR0aCAvIDJcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFjLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgIHYueSA9ICgoLXlSZWwgKyBjLm9mZnNldC55KSAvIGMuc2NhbGUueSArIDEpICogaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdi55ID0gKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS54KSAgICAgKiB3aWR0aCAgLyAyICsgaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gMzYwIHggMzYwIDogZ3JpZCBzaXplXHJcbiAgICAgICAgICAgIGxldCBmYWMgPSAxODAgKiAwLjI4O1xyXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAoKCB4UmVsICsgYy5vZmZzZXQueCkgLyBjLnNjYWxlLngpICogZmFjLFxyXG4gICAgICAgICAgICAgICAgKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS55KSAqIGZhYyxcclxuICAgICAgICAgICAgICAgICgoIHpSZWwgKyBjLm9mZnNldC56KSAvIGMuc2NhbGUueikgKiBmYWNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENvbXB1dGUgdGhlIFggYW5kIFkgcGxvdCBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHhSZWwgWCBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEByZXR1cm4ge1gsIFl9IG9iamVjdFxyXG4gICAgKi9cclxuICAgIGNvbXB1dGVGb3JYWUZyb21QaXhlbCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IGMgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IHYgPSBuZXcgVmVjdG9yKCgoeCAqIDIpIC8gd2lkdGggLSAxKSAqIGMuc2NhbGUueCArIGMub2Zmc2V0LngpO1xyXG5cclxuICAgICAgICBpZihjLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgdi55ID0gLSgoKHkgKiAyKSAvIGhlaWdodCAtIDEpICAgICAgICAgICAqIGMuc2NhbGUueSAtIGMub2Zmc2V0LnkpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdi55ID0gLSgoKCh5IC0gMiAqIGhlaWdodCkgKiAyKSAvIHdpZHRoKSAqIGMuc2NhbGUueSAtIGMub2Zmc2V0LnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNQbG90dGVyO1xyXG4iLCJpbXBvcnQgcFNQbG90dGVyICBmcm9tICcuLy4uL2RyYXdlci9QbG90dGVyJztcclxuaW1wb3J0IHBTRHJhd2VyICAgZnJvbSAnLi8uLi9kcmF3ZXIvRHJhd2VyJztcclxuaW1wb3J0IHBTM0REcmF3ZXIgZnJvbSAnLi8uLi9kcmF3ZXIvM0REcmF3ZXInO1xyXG5cclxuY2xhc3MgcFNpbXVsYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyAgICAgICAgID0ge307XHJcbiAgICAgICAgdGhpcy5iZWdpblRpbWUgICAgICA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5sYXN0RHJhd1RpbWUgICA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlnLmVuZ2luZSAgPSB0aGlzLmdldERlZmF1bHRFbmdpbmVDb25maWcoKTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jdXN0b20gID0ge307XHJcblxyXG4gICAgICAgIHdpbmRvdy5nZXRDdXN0b21Db25maWcgPSB0aGlzLmdldEN1c3RvbUNvbmZpZztcclxuICAgICAgICB3aW5kb3cuZ2V0RW5naW5lQ29uZmlnID0gdGhpcy5nZXRFbmdpbmVDb25maWc7XHJcblxyXG4gICAgICAgIHRoaXMuZHRNb3kgICAgICAgICA9IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLm1pbmltYWxVcGRhdGVGUFM7XHJcbiAgICAgICAgdGhpcy5kdFRvdGFsICAgICAgID0gMDtcclxuICAgICAgICB0aGlzLmR0Q291bnQgICAgICAgPSAwO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiogSW5zdGFuY2lhdGUgdGhlIHBTaW11bGF0b3IgKi9cclxuICAgIGluc3RhbmNpYXRlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5wcmVSdW5TaW11bGF0b3IodGhpcyk7IC8vIHByZW1haW4gZnVuY3Rpb25cclxuICAgICAgICB9IGNhdGNoKGUpIHt9IC8vIG5vdCBmb3VuZFxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVA1SW5zdGFuY2UoKTtcclxuICAgICAgICBpZighdGhpcy5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgc2V0QXR0cmlidXRlcygnYW50aWFsaWFzJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlciA9IG5ldyBwU1Bsb3R0ZXIodGhpcywgbmV3IHBTRHJhd2VyKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlciA9IG5ldyBwU1Bsb3R0ZXIodGhpcywgbmV3IHBTM0REcmF3ZXIoKSk7XHJcblxyXG4gICAgICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAgICAgd2luZG93LnJ1blNpbXVsYXRvcih0aGlzKTsgLy8gbWFpbiBmdW5jdGlvblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgcDUgaW5zdGFuY2UgYW5kIGNyZWF0ZXMgbG9vcHMgZm9yIHRoZSBzaW11bGF0aW9uICovXHJcbiAgICBjcmVhdGVQNUluc3RhbmNlKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5nZXRDYW52YXNQcm9wb3J0aW9ucyh0aGlzLmNvbmZpZy5lbmdpbmUud2luZG93LnByb3BvcnRpb25zKTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKVxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhwLncsIHAuaCwgV0VCR0wpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnQodGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5kaXZJZCk7XHJcblxyXG4gICAgICAgIGxldCBydSA9IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXI7XHJcbiAgICAgICAgaWYocnUuVVBEQVRFX0ZQUyA+PSBydS5EUkFXX0ZQUykgZnJhbWVSYXRlKHJ1LlVQREFURV9GUFMpO1xyXG4gICAgICAgIGVsc2UgY29uc29sZS5lcnJvcignVGhlIFVwZGF0ZXMgRlBTIG11c3QgYmUgc3VwZXJpb3IgYXMgdGhlIERyYXdzIEZQUy4nKVxyXG5cclxuXHJcbiAgICAgICAgLy8gcnVucyBldmVyeSB0aW1lIGl0J3MgcG9zc2libGVcclxuICAgICAgICB3aW5kb3cuZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgcyAgICAgICAgICAgID0gX3BTaW11bGF0aW9uSW5zdGFuY2U7XHJcbiAgICAgICAgXHRsZXQgY3VycmVudFRpbWUgID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBcdGxldCBkdCAgICAgICAgICAgPSAoY3VycmVudFRpbWUgLSBzLmxhc3RVcGRhdGVUaW1lKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCBjcml0aXFEdCAgICAgPSBzLmR0TW95ICsgcy5kdE1veSAqIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLm1heFN0YW5kYXJkRGV2aWF0aW9uO1xyXG5cclxuICAgICAgICAgICAgcy5tb3VzZVBvcyA9IHMucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG5cclxuICAgICAgICAgICAgaWYoZHQgPiBjcml0aXFEdClcclxuICAgICAgICAgICAgICAgIGR0ID0gcy5kdE1veTtcclxuICAgICAgICBcdHMubGFzdFVwZGF0ZVRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICBcdHMucGxvdHRlci51cGRhdGUoZHQgKiBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnNpbXVsYXRpb25TcGVlZCk7XHJcblxyXG4gICAgICAgICAgICBpZihjdXJyZW50VGltZSAtIHMubGFzdERyYXdUaW1lID49IDEgLyBzLmNvbmZpZy5lbmdpbmUucnVubmVyLkRSQVdfRlBTKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkdCA8PSBjcml0aXFEdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuZHRUb3RhbCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZihzLmR0Q291bnQgJSBzLmNvbmZpZy5lbmdpbmUucnVubmVyLnJvbGxiYWNrQ29udHJvbC5hdmVyYWdlVGltZVNhbXBsZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZHRNb3kgICA9IHMuZHRUb3RhbCAvIHMuZHRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdFRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcy5wbG90dGVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIHMubGFzdERyYXdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgdGhlIHdpbmRvdyBpcyByZXNpemVkXHJcbiAgICAgICAgd2luZG93LndpbmRvd1Jlc2l6ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRDYW52YXNQcm9wb3J0aW9ucyhfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLndpbmRvdy5wcm9wb3J0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhwLncsIHAuaCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcnVuIGVhY2ggdGltZSBtb3VzZSBpcyBwcmVzc2VkXHJcbiAgICAgICAgd2luZG93Lm1vdXNlRHJhZ2dlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5ydW5uZXIubW92YWJsZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBtb3VzZVBvcyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuY29tcHV0ZUZvclhZRnJvbVBpeGVsKG1vdXNlWCwgbW91c2VZKTtcclxuICAgICAgICAgICAgaWYoIV9wU2ltdWxhdGlvbkluc3RhbmNlLm1vdXNlUG9zLmVxdWFscyhtb3VzZVBvcykpIHtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueCAtPSBtb3VzZVBvcy54IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueDtcclxuICAgICAgICAgICAgICAgIF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlci5vZmZzZXQueSAtPSBtb3VzZVBvcy55IC0gX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQHJldHVybiB7dywgaH0gcHJvcG9ydGlvbnMgb2YgdGhlIGNhbnZhcyBiYXNlZCBvbiB0aGUgcGFyYW1ldGVycyAqL1xyXG4gICAgZ2V0Q2FudmFzUHJvcG9ydGlvbnMoY1ApIHtcclxuICAgICAgICBsZXQgdywgaDtcclxuXHJcbiAgICAgICAgaWYoY1AuaXNSZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICB3ID0gd2luZG93V2lkdGggICogY1Aud2lkdGg7XHJcbiAgICAgICAgICAgIGggPSB3aW5kb3dIZWlnaHQgKiBjUC5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3ID0gY1Aud2lkdGggICsgXCJweFwiO1xyXG4gICAgICAgICAgICBoID0gY1AuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHt3LCBofTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGN1c3RvbU9iamVjdCB0aGUgT2JqZWN0IHRoYXQgaXMgZ29pbmcgdG8gYmUgc2ltdWxhdGVkIChjYW4gYmUgaW5zdGFuY2lhdGVkIG9yIG5vdClcclxuICAgICogQHBhcmFtIG51bWJlciBOdW1iZXIgb2Ygb2JqZWN0cyB0byBiZSBpbnN0YW5jaWF0ZWRcclxuICAgICogQHBhcmFtIHBhcmFtcyBUaGUgcGFyYW1ldGVycyBpbiB0aGUgZnVuY3Rpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgYWRkT2JqZWN0cyhjdXN0b21PYmplY3QsIG51bWJlciA9IDEsIC4uLnBhcmFtcykge1xyXG4gICAgICAgIGlmKGN1c3RvbU9iamVjdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb3B5UGFyYW1zVGVtcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJhbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2pdIGluc3RhbmNlb2YgQXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzBdICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMV0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSBpbnN0YW5jZW9mIEZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgICAgIChwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuRnVuY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYocGFyYW1zW2pdWzBdID09IHRoaXMuY29uZmlnLmVuZ2luZS5ydW5uZXIuYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzLnJ1bkNsYXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChuZXcgcGFyYW1zW2pdWzFdKC4uLnBhcmFtc1tqXS5zbGljZSgyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQYXJhbXNUZW1wLnB1c2gocGFyYW1zW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKG5ldyBjdXN0b21PYmplY3QoLi4uY29weVBhcmFtc1RlbXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxvdHRlci5vYmplY3RzTC5wdXNoKGN1c3RvbU9iamVjdCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2YgdGhlIGVuZ2luZSAqL1xyXG4gICAgZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBydW5uZXIgOiB7XHJcbiAgICAgICAgICAgICAgICBkaXZJZCA6ICdzaW11bGF0aW9uQ29udGVudCcsXHJcbiAgICAgICAgICAgICAgICBVUERBVEVfRlBTIDogMTIwLFxyXG4gICAgICAgICAgICAgICAgRFJBV19GUFMgICA6IDYwLFxyXG4gICAgICAgICAgICAgICAgc2ltdWxhdGlvblNwZWVkIDogMSxcclxuICAgICAgICAgICAgICAgIGFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyA6IHsgIC8vIGtleXdvcmRzIGZvciB3aGVuIHdlIGFkZCBvYmplY3RzIGF0IHRoZSBzdGFydCBvZiB0aGUgZW5naW5lXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuRnVuY3Rpb25zIDogJ19SVU5fRicsIC8vIHJ1biBhIGZ1bmN0aW9uIHdpdGggICAgICAgWydfUlVOX0YnLCBmdW5jdGlvbk5hbWUsIHBhcmFtMSwgcGFyYW0yLCAuLi5dLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkNsYXNzICAgICA6ICdfUlVOX0MnICAvLyBpbnN0YW5jaWF0ZXMgYSBjbGFzcyB3aXRoIFsnX1JVTl9DJywgY2xhc3NOYW1lICAgLCBwYXJhbTEsIHBhcmFtMiwgLi4uXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJvbGxiYWNrQ29udHJvbCA6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdGFuZGFyZERldmlhdGlvbiA6IDAuOCwgIC8vIG1heGltdW0gdGljayBkZXZpYXRpb24gcGVyY2VudGFnZSBmb3IgdGhlIHNvZnR3YXJlIHRvIGNvbnNpZGVyIGFzIGEgcm9sbGJhY2sgKGluIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWVTYW1wbGUgICAgOiAyMCwgICAvLyBzYW1wbGUgc2l6ZSBmb3IgdGljayBhdmVyYWdlIChpbiBzZWNvbmRzKSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5pbWFsVXBkYXRlRlBTICAgICA6IDAuMTUgIC8vIG1pbmltYWwgdXBkYXRlIGZyYW1lc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzX21vdmFibGUgOiBmYWxzZSAvLyBjYW4gdGhlIGN1cnNvciBtb3ZlIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd2luZG93IDoge1xyXG4gICAgICAgICAgICAgICAgcHJvcG9ydGlvbnMgOiB7ICAvLyB3aW5kb3cgaGVpZ2h0IGFuZCB3aWR0aCBvbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBzaXplc1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVsYXRpdmUgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICA6IDAuOTksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogMC45OVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIFx0cGxvdHRlciA6IHtcclxuICAgICAgICBcdFx0c2NhbGUgOiB7ICAvLyBkaXNwbGF5cyB4IHJlbGF0aXZlIHVuaXRzIG9uIGVhY2ggc2lkZVxyXG4gICAgICAgIFx0XHRcdHggOiAxMCxcclxuICAgICAgICBcdFx0XHR5IDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDEwXHJcbiAgICAgICAgXHRcdH0sXHJcbiAgICAgICAgXHRcdG9mZnNldCA6IHsgIC8vIHggYW5kIHkgcmVsYXRpdmUgb2Zmc2V0XHJcbiAgICAgICAgXHRcdFx0eCA6IDAsXHJcbiAgICAgICAgXHRcdFx0eSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeiA6IDBcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA6IHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3IDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciA6IHsgciA6IDAgLCBnIDogMCAsIGIgOiAwIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzcXVhcmVCeVggICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzXzNEICAgICAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbG9yICAgICAgIDogeyByIDogMjU1LCBnIDogMjU1LCBiIDogMjU1LCBhIDogMC4zIH0sXHJcbiAgICAgICAgXHRcdGRpc3BsYXlHcmlkICAgICA6IGZhbHNlICAvLyB0cnVlIDogZGlzcGxheSBncmFwaCBvbiB0aGUgc2NyZWVuXHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZ0Z1bmMgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0UHJlRW5naW5lQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmVuZ2luZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb25maWdGdW5jIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGVuZ2luZSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldEVuZ2luZUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5lbmdpbmUpO1xyXG4gICAgICAgIHdpbmRvdy53aW5kb3dSZXNpemVkKCk7IC8vIGlmIHByb3BvcnRpb25zIGNoYW5nZWRcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRDdXN0b21Db25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuY3VzdG9tKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybiB0aGUgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICovXHJcbiAgICBnZXRFbmdpbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJuIHRoZSBjdXN0b20gY29uZmlndXJhdGlvblxyXG4gICAgKi9cclxuICAgIGdldEN1c3RvbUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5jdXN0b207XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFBTRW5naW5lVmFyKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQFRPRE9cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU2ltdWxhdG9yO1xyXG4iLCJpbXBvcnQgcFNEcmF3ZXIgZnJvbSAnLi9EcmF3ZXInO1xyXG5cclxuY2xhc3MgcFMzRERyYXdlciB7XHJcbiAgICAvKiogQ29uc3RydWN0IHRoZSBtYWluIHBTM0RFbmdpbmUgZHJhd2VyICovXHJcbiAgICBjb25zdHJ1Y3RvcihwbG90dGVyKSB7XHJcbiAgICAgICAgdGhpcy5wbG90dGVyICA9IG51bGw7IC8vIHNldCB3aGVuIGxvYWRlZCBpbiB0aGUgUGxvdHRlciBjbGFzc1xyXG4gICAgICAgIHRoaXMuZHJhd2VyMkQgPSBuZXcgcFNEcmF3ZXIocGxvdHRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc3Ryb2tlICAgICAgID0gdGhpcy5kcmF3ZXIyRC5zdHJva2U7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSB0aGlzLmRyYXdlcjJELnN0cm9rZVdlaWdodDtcclxuICAgICAgICB0aGlzLmZpbGwgICAgICAgICA9IHRoaXMuZHJhd2VyMkQuZmlsbDtcclxuICAgICAgICB0aGlzLmJlZ2luU2hhcGUgICA9IHRoaXMuZHJhd2VyMkQuYmVnaW5TaGFwZTtcclxuICAgICAgICB0aGlzLmVuZFNoYXBlICAgICA9IHRoaXMuZHJhd2VyMkQuZW5kU2hhcGU7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXggICAgICAgPSB0aGlzLmRyYXdlcjJELnZlcnRleDtcclxuICAgICAgICB0aGlzLnBvcCAgICAgICAgICA9IHRoaXMuZHJhd2VyMkQucG9wO1xyXG4gICAgICAgIHRoaXMucHVzaCAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5wdXNoO1xyXG4gICAgICAgIHRoaXMubm9TdHJva2UgICAgID0gdGhpcy5kcmF3ZXIyRC5ub1N0cm9rZTtcclxuICAgICAgICB0aGlzLm5vRmlsbCAgICAgICA9IHRoaXMuZHJhd2VyMkQubm9GaWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmUoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgwLCB5MCwgejApO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSwgejEpO1xyXG5cclxuICAgICAgICBiZWdpblNoYXBlKCk7XHJcbiAgICAgICAgICAgIHZlcnRleCh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgdmVydGV4KHYxLngsIHYxLnksIHYxLnopO1xyXG4gICAgICAgIGVuZFNoYXBlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNwaGVyZSh4LCB5LCB6LCByKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgMCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBzcGhlcmUodjEueCk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmUoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY29uZSh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYm94KHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIGJveCh2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY3lsaW5kZXIoeCwgeSwgeiwgciwgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHIsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgY3lsaW5kZXIodjEueCwgdjEueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYW5lKHgsIHksIHosIHcsIGgpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih3LCBoLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIHBsYW5lKHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBzY2FsZShzKSB7XHJcbiAgICAgICAgc2NhbGUocyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kZWwobSwgbm0pIHtcclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHNjYWxlKC0xKTtcclxuICAgICAgICAgICAgaWYgKG5tKVxyXG4gICAgICAgICAgICAgICAgbm9ybWFsTWF0ZXJpYWwoKTtcclxuICAgICAgICAgICAgbW9kZWwobSk7XHJcbiAgICAgICAgcG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKHgsIHksIHopIHtcclxuICAgICAgICB0cmFuc2Zvcm0oeCwgeSwgeik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTM0REcmF3ZXI7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcblxyXG5jbGFzcyBwU1BvaW50IHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFBvaW50XHJcbiAgICAqIEBwYXJhbSB4IFggcG9pbnQgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHkgWSBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0gY29sb3IgZHJhd2luZyBjb2xvciBvZiB0aGUgcG9pbnRcclxuICAgICogQHBhcmFtIHBvaW50TmFtZSBuYW1lIG9mIHRoZSBwb2ludCAoaW4gTGFUZVgpXHJcbiAgICAqIEBwYXJhbSBwb2ludFNpemUgU2l6ZSBvZiB0aGUgcG9pbnQgKGRlZmF1bHQgNilcclxuICAgICogQHBhcmFtIHZlY3Rvck5hbWUgTmFtZSBvZiB0aGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3T3JpZ2luVmVjdG9yIHRydWUgOiBkcmF3IHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoaXMgcG9pbnRcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBjb2xvciA9ICd3aGl0ZScsIHBvaW50TmFtZSwgcG9pbnRTaXplID0gNiwgdmVjdG9yTmFtZSwgZHJhd09yaWdpblZlY3RvciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoeCwgeSwgY29sb3IsIHZlY3Rvck5hbWUpO1xyXG5cclxuICAgICAgICBpZihwb2ludE5hbWUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZSA9IG5ldyBwU1RleHQocG9pbnROYW1lLCB0aGlzLnBvcywgMTgsIGNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3T3JpZ2luVmVjdG9yID0gZHJhd09yaWdpblZlY3RvcjtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZSAgICAgICAgPSBwb2ludFNpemU7XHJcbiAgICAgICAgdGhpcy5wb2ludFNpemVEcmF3aW5nID0gcG9pbnRTaXplO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRQYWRkaW5nID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVcGRhdGVzIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZShkdCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIHBvaW50IHRvIHRoZSBzY3JlZW5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkcmF3ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlcjtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTE9DQVRJT05cclxuICAgICAgICBkcmF3ZXJcclxuICAgICAgICAgICAgLmZpbGwocGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMF0gKiAwLjQpLCBwYXJzZUludCh0aGlzLnBvcy5jb2xvclsxXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzJdICogMC40KSlcclxuICAgICAgICAgICAgLm5vU3Ryb2tlKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgICAgIC5zdHJva2UodGhpcy5wb3MuY29sb3IpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMS4xKVxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLmVsbGlwc2UodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb2ludFNpemVEcmF3aW5nLCB0aGlzLnBvaW50U2l6ZURyYXdpbmcpXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICAvLyBPUklHSU4gVkVDVE9SXHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yKVxyXG4gICAgICAgICAgICB0aGlzLnBvcy5kcmF3KCk7XHJcblxyXG4gICAgICAgIC8vIFBPSU5UIE5BTUVcclxuICAgICAgICBpZih0aGlzLnBvaW50TmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIHRoaXMudGV4dFBhZGRpbmcpO1xyXG4gICAgICAgIGlmKHRoaXMucG9zLm5hbWUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZHJhd09yaWdpblZlY3RvciAmJiB0aGlzLnBvcy55IDwgMClcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5hbWUucG9zID0gKHRoaXMucG9zLmNvcHkoKSkuYWRkKDAsIC10aGlzLnRleHRQYWRkaW5nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludE5hbWUuZHJhdyhkcmF3ZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1BvaW50O1xyXG4iLCJpbXBvcnQgJy4vLi4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcbmltcG9ydCAnLi8uLi9BbmltYXRpb24nO1xyXG5pbXBvcnQgJy4vVGV4dCc7XHJcblxyXG5jbGFzcyBwU1RyaWFuZ2xlIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IFRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHAyIFZlY3RvciB0byB0aGUgdGhpcmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIGZpbGxDb2xvciBUaGUgdHJpYW5nbGUgZmlsbCBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgVGhlIHRyaWFuZ2xlIHN0cm9rZSBjb2xvciAoZGVmYXVsdCBub25lKVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFRoZSB0cmlhbmdsZSBzdHJva2VXZWlnaHQgKGRlZmF1bHQgMSlcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwMCwgcDEgPSBuZXcgVmVjdG9yKCksIHAyID0gbmV3IFZlY3RvcigpLCBmaWxsQ29sb3IgPSAnd2hpdGUnLCBzdHJva2VDb2xvciA9ICdub25lJywgc3Ryb2tlV2VpZ2h0ID0gMSkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMocDAsIHAxLCBwMik7XHJcblxyXG4gICAgICAgIC8vIENvbG9yc1xyXG4gICAgICAgIHRoaXMuZmlsbENvbG9yICAgID0gZmlsbENvbG9yO1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgID0gc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXZWlnaHQgPSBzdHJva2VXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gcDAgVmVjdG9yIHRvIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAxIFZlY3RvciB0byB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgbGFzdCBwb2ludClcclxuICAgICovXHJcbiAgICBzZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKSB7XHJcbiAgICAgICAgdGhpcy5wMCA9IHAwIHx8IG5ldyBWZWN0b3IocDAueCwgcDAueSk7XHJcbiAgICAgICAgdGhpcy5wMSA9IHAxID09IHVuZGVmaW5lZCA/IHRoaXMucDEgOiBuZXcgVmVjdG9yKHAxLngsIHAxLnkpO1xyXG4gICAgICAgIHRoaXMucDIgPSBwMiA9PSB1bmRlZmluZWQgPyB0aGlzLnAyIDogbmV3IFZlY3RvcihwMi54LCBwMi55KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGJhcnljZW50ZXIsIG9yIGNlbnRlciBvZiBtYXNzLiBUaGlzIGlzIHRoZVxyXG4gICAgICAgIC8vIHBvaW50IGFyb3VuZCB3aGljaCB0aGUgdHJpYW5nbGUgd2lsbCByb3RhdGUuXHJcbiAgICAgICAgdGhpcy5wRyA9IFZlY3Rvci5kaXYoVmVjdG9yLmFkZChWZWN0b3IuYWRkKHRoaXMucDAsIHRoaXMucDEpLCB0aGlzLnAyKSwgMyk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB2ZWN0b3JzIHBvaW50aW5nIGZyb20gdGhlIGJhcnljZW50ZXIgdG8gUDAsIFAxXHJcbiAgICAgICAgLy8gYW5kIFAyLiBUaGV5IGFyZSB1c2VmdWwgd2hlbiByb3RhdGluZyB0aGUgdHJpYW5nbGUuXHJcbiAgICAgICAgdGhpcy52MCA9IFZlY3Rvci5zdWIodGhpcy5wMCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MSA9IFZlY3Rvci5zdWIodGhpcy5wMSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy52MiA9IFZlY3Rvci5zdWIodGhpcy5wMiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSb3RhdGVzIHRoZSB0cmlhbmdsZSBieSB0aGUgc3BlY2lmaWVkIGFuZ2xlLCBhcm91bmRcclxuICAgICogaXRzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgKiBAcGFyYW0gYW5nbGUgQW5nbGUgb2Ygcm90YXRpb25cclxuICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnYwLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52MS5yb3RhdGUoYW5nbGUpO1xyXG4gICAgICAgIHRoaXMudjIucm90YXRlKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wMCA9IFZlY3Rvci5hZGQodGhpcy52MCwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMSA9IFZlY3Rvci5hZGQodGhpcy52MSwgdGhpcy5wRyk7XHJcbiAgICAgICAgdGhpcy5wMiA9IFZlY3Rvci5hZGQodGhpcy52MiwgdGhpcy5wRyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUcmFuc2xhdGVzIHRoZSB0cmlhbmdsZSBmcm9tIGl0cyBiYXJ5Y2VudGVyIGJ5IHRoZVxyXG4gICAgKiBzcGVjaWZpZWQgZGlzdGFuY2UgaW4gWCBhbmQgWS5cclxuICAgICogQHBhcmFtIHggVGhlIGRpc3RhbmNlIG9uIHRoZSBYIGF4aXMuXHJcbiAgICAqIEBwYXJhbSB5IFRoZSBkaXN0YW5jZSBvbiB0aGUgWSBheGlzLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMCwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDEsIG5ldyBWZWN0b3IoeCwgeSkpLFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAyLCBuZXcgVmVjdG9yKHgsIHkpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnlcclxuICAgICogdGhlIHNwZWNpZmllZCB2ZWN0b3IuXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3IgdG8gdHJhbnNsYXRlIHRoZSB0cmlhbmdsZS5cclxuICAgICovXHJcbiAgICB0cmFuc2xhdGUodikge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7fVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhd3MgdGhlIHRyaWFuZ2xlIG9uIHRoZSBzY3JlZW4uXHJcbiAgICAqL1xyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBsZXQgZCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICBpZih0aGlzLmZpbGxDb2xvciA9PSAnbm9uZScpXHJcbiAgICAgICAgICAgIGQubm9GaWxsKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLmZpbGwodGhpcy5maWxsQ29sb3IpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnN0cm9rZUNvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub1N0cm9rZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZC5zdHJva2UodGhpcy5zdHJva2VDb2xvcikuc3Ryb2tlV2VpZ2h0KHRoaXMuc3Ryb2tlV2VpZ2h0KTtcclxuXHJcbiAgICAgICAgZC5wdXNoKClcclxuICAgICAgICAgICAgLmJlZ2luU2hhcGUoKVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMS54LCB0aGlzLnAxLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDIueCwgdGhpcy5wMi55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAwLngsIHRoaXMucDAueSlcclxuICAgICAgICAgICAgLmVuZFNoYXBlKClcclxuICAgICAgICAucG9wKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTVHJpYW5nbGU7XHJcbiIsIi8vID09PT09PT09PT0gUFNFTkdJTkUgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBDb3JlID09PT1cclxuaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9jb3JlL1NpbXVsYXRvcic7XHJcblxyXG4vLyA9PT09IERyYXdlciA9PT09XHJcbi8vIE9iamVjdHNcclxuaW1wb3J0IHBTUG9pbnQgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9Qb2ludCc7XHJcbmltcG9ydCBwU1RleHQgICAgIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVGV4dCc7XHJcbmltcG9ydCBwU1RyaWFuZ2xlIGZyb20gJy4vZHJhd2VyL29iamVjdHMvVHJpYW5nbGUnO1xyXG5cclxuLy8gUm9vdFxyXG5pbXBvcnQgQW5pbWF0aW9uICBmcm9tICcuL2RyYXdlci9BbmltYXRpb24nO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuL2RyYXdlci8zRERyYXdlcic7XHJcbmltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5pbXBvcnQgVmVjdG9yICAgICBmcm9tICcuL3V0aWxpdGllcy9WZWN0b3InO1xyXG5cclxuXHJcbi8vID09PT09PT09PT0gR0xPQkFMIFZBUklBQkxFUyA9PT09PT09PT09XHJcbi8vID09PT0gRHJhd2VyID09PT1cclxuLy8gT2JqZWN0c1xyXG5nbG9iYWwucFNQb2ludCAgICAgPSBwU1BvaW50O1xyXG5nbG9iYWwucFNUZXh0ICAgICAgPSBwU1RleHQ7XHJcbmdsb2JhbC5wU1RyaWFuZ2xlICA9IHBTVHJpYW5nbGU7XHJcblxyXG4vLyBSb290XHJcbmdsb2JhbC5wU0FuaW1hdGlvbiA9IEFuaW1hdGlvbjtcclxuXHJcbi8vID09PT0gVXRpbGl0aWVzID09PT1cclxuZ2xvYmFsLlZlY3RvciAgICAgID0gVmVjdG9yO1xyXG5cclxuXHJcbi8vID09PT09PT09PT0gUFNFTkdJTkUgTEFVTkNIID09PT09PT09PT1cclxuaW1wb3J0ICcuL2NvcmUvaW5pdCc7XHJcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCBwU2ltdWxhdG9yIGZyb20gJy4vU2ltdWxhdG9yJztcclxuXHJcbmNsYXNzIHBTRW5naW5lIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGlmKHdpbmRvdy5wNSA9PSB1bmRlZmluZWQpXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0J1lvdSBtdXN0IGltcG9ydCBwNS5qcyBpbiBvcmRlciB0byBydW4gdGhlIFBoeXNpY3MgU2ltdWxhdGlvbiBFbmdpbmUuJyxcclxuXHRcdFx0XHQnTW9yZSBpbmZvcm1hdGlvbnMgb24gdGhlIHA1IHdlYnNpdGUgaHR0cHM6Ly9wNWpzLm9yZy8uJ1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdC8vIHVzZXMgdGhlIHA1IGZ1bmN0aW9uc1xyXG5cdFx0d2luZG93LnNldHVwID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZSA9IG5ldyBwU2ltdWxhdG9yKCk7XHJcblx0XHRcdHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5pbnN0YW5jaWF0ZSgpO1xyXG5cdFx0XHR3aW5kb3cucFNFbmdpbmUgPSB3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuZ2V0UFNFbmdpbmVWYXIoKTtcclxuXHRcdH07XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0VuZ2luZTtcclxuIiwiaW1wb3J0IHBTRW5naW5lIGZyb20gJy4vbWFpbic7XHJcblxyXG5jb25zdCBfcFNnbG9iYWxFbmdpbmVJbml0ID0gKCkgPT4ge1xyXG5cdG5ldyBwU0VuZ2luZSgpO1xyXG59O1xyXG5cclxuY29uc3Qgd2FpdEZvckRvY3VtZW50UmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBpZihkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIC8vIGNvbXBsZXRlXHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgcmVzb2x2ZSwgZmFsc2UpO1xyXG59KTtcclxuXHJcbndhaXRGb3JEb2N1bWVudFJlYWR5LnRoZW4oX3BTZ2xvYmFsRW5naW5lSW5pdCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0VuZ2luZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==