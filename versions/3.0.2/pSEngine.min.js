var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=9)}([function(t,e,i){"use strict";i(1);class s{constructor(t,e,i,s="rgb(255, 255, 255)",r){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=t||0,this.z=t||0,this)}setName(t){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):this.add(-t,-e,-i)}mult(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("Vector::mult()","c is undefined or isn't a finite number"),this)}div(t){return"number"==typeof t&&isFinite(t)?0==t?(console.error("Cannot divide by 0"),this):this.mult(1/t):(console.warn("Vector::div()","c is undefined or isn't a finite number"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i="rgb(255, 255, 255)",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y),push();let s=o.computeForXYZ(0,0,0),a=o.computeForXYZ(e.x,e.y,e.z);if(translate(a.x,a.y),rotate(a.sub(s).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=0;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){"use strict";e.a=class{constructor(t,e=new Vector,i=1,s="#FFFFFF",r=!1){null==window.MathJax&&console.error("You must import MathJax.js >=3.0.0 in order to use Text and Tex strings."),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e="<svg"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split("<svg")[1].split("</svg>")[0]+"</svg>";return e=e.replace(/<g/g,'<g color="'+this.color+'"').replace(/width="(.*?)"/,'width="'+parseFloat(/width="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"').replace(/height="(.*?)"/,'height="'+parseFloat(/height="(.*?)"/.exec(e)[1].split("ex")[0])*this.textSize+'ex"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){"use strict";e.a=class{constructor(t){this.plotter=null}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);push(),this.translate(t,e),ellipse(0,0,2*r.x,2*r.y),pop()}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}translate(t,e){let i=this.plotter.computeForXYZ(t,e);return translate(i.x,i.y),this}beginShape(t){return beginShape(t),this}endShape(t){return endShape(t),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}pop(){return pop(),this}push(){return push(),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){"use strict";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t="easeInOutCubic"),t){case"easeInOutCubic":return new n(e,i);case"interpolation":return new r(e,i)}}}},function(t,e,i){"use strict";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter;if(s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-((2*e/height-1)*i.scale.y-i.offset.y):s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}}},function(t,e,i){"use strict";var s=i(4),r=i(2),n=i(6);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes("antialias",!0),this.plotter=new s.a(this,new r.a)),this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error("The Updates FPS must be superior as the Draws FPS."),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e)},window.windowResized=function(){let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+"px",i=t.height+"px"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:"simulationContent",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:"_RUN_F",runClass:"_RUN_C"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){"use strict";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.beginShape=this.drawer2D.beginShape,this.endShape=this.drawer2D.endShape,this.vertex=this.drawer2D.vertex,this.pop=this.drawer2D.pop,this.push=this.drawer2D.push,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){let r=this.plotter.computeForXYZ(t,e,i),n=this.plotter.computeForXYZ(s,0,0);return push(),translate(r.x,r.y,r.z),sphere(n.x),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cone(o.x,o.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),box(o.x,o.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),cylinder(o.x,o.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(t,e,i),o=this.plotter.computeForXYZ(s,r,0);return push(),translate(n.x,n.y,n.z),plane(o.x,o.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e,i="white",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){"use strict";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s="white",r="none",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;"none"==this.fillColor?t.noFill():t.fill(this.fillColor),"none"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(10)},function(t,e,i){"use strict";i.r(e),function(t){i(5);var e=i(7),s=i(1),r=i(8),n=i(3),o=(i(2),i(6),i(4),i(0));i(12);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(11))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var s=i(5);var r=class{constructor(){null==window.p5&&console.error("You must import p5.js in order to run the Physics Simulation Engine.","More informations on the p5 website https://p5js.org/."),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{"loading"===document.readyState?t():window.addEventListener("load",t,!1)}).then(()=>{new r})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wU0VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy91dGlsaXRpZXMvVmVjdG9yLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9vYmplY3RzL1RleHQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0RyYXdlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvYW5pbWF0aW9ucy9wU0FuaW1hdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uLmpzIiwid2VicGFjazovL3BTRW5naW5lLy4vc3JjL2RyYXdlci9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvUGxvdHRlci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL1NpbXVsYXRvci5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9kcmF3ZXIvM0REcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL29iamVjdHMvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvZHJhd2VyL29iamVjdHMvVHJpYW5nbGUuanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvYXBwLmpzIiwid2VicGFjazovL3BTRW5naW5lLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9wU0VuZ2luZS8uL3NyYy9jb3JlL21haW4uanMiLCJ3ZWJwYWNrOi8vcFNFbmdpbmUvLi9zcmMvY29yZS9pbml0LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVmVjdG9yIiwieCIsInkiLCJ6IiwiY29sb3IiLCJ0aGlzIiwic2V0TmFtZSIsInVuZGVmaW5lZCIsInBTVGV4dCIsImVxdWFscyIsInNldCIsImFkZCIsInN1YiIsImlzRmluaXRlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIm11bHQiLCJ2MSIsInYyIiwiY29weSIsImRpdiIsImRvdCIsInYiLCJ2TGVuIiwibWFnIiwibWluIiwibWF4IiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJhbmdsZSIsIm5ld0FuZ2xlIiwiZ2V0QW5nbGUiLCJtYWduaXR1ZGUiLCJjb3MiLCJzaW4iLCJhdGFuMiIsImNyb3NzIiwicm90YXRlIiwiaW5pdGlhbFBvcyIsImhlYWRTaXplIiwic3Ryb2tlV2VpZ2h0IiwiZHJhdyIsInBvaW50aW5nUG9zIiwic3Ryb2tlVyIsInBsb3R0ZXIiLCJfcFNpbXVsYXRpb25JbnN0YW5jZSIsImNvbmZpZyIsImVuZ2luZSIsImlzXzNEIiwicHVzaCIsImRyYXdlciIsInN0cm9rZSIsImZpbGwiLCJ0cmFuc2xhdGUiLCJsaW5lIiwicG9wIiwienpQb3NpdGlvbiIsImNvbXB1dGVGb3JYWVoiLCJlbmRQb3MiLCJ0cmlhbmdsZSIsIlBJIiwieE9mZnNldCIsInN2Z0ltZyIsIndpZHRoIiwieU9mZnNldCIsInNldENvbG9yIiwicG9zIiwidGV4dCIsInRleHRTaXplIiwic2hvd0hpdGJveCIsIndpbmRvdyIsIk1hdGhKYXgiLCJzZXRUZXh0IiwicG9zT3B0IiwiaGVpZ2h0IiwiaW1hZ2UiLCJoIiwidyIsIm5vRmlsbCIsInN2ZyIsInRleDJzdmciLCJkaXNwbGF5IiwiZW0iLCJleCIsImNvbnRhaW5lcldpZHRoIiwibGluZVdpZHRoIiwic2NhbGUiLCJpbm5lckhUTUwiLCJzcGxpdCIsInJlcGxhY2UiLCJwYXJzZUZsb2F0IiwiZXhlYyIsImxvYWRJbWFnZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJ0eXBlIiwicG9pbnQiLCJ4MCIsInkwIiwieDEiLCJ5MSIsInYwIiwicngiLCJyeSIsImFicyIsImVsbGlwc2UiLCJiZWdpblNoYXBlIiwidmVydGV4IiwiZW5kU2hhcGUiLCJDTE9TRSIsInJlY3QiLCJnIiwiYiIsImEiLCJUWVBFIiwibm9TdHJva2UiLCJ0aW1lTGVuZ3RoIiwiZGF0YXMiLCJzY2FsZVRpbWUiLCJpc0FuaW1hdGluZyIsImluaXRpYWxUIiwibGFzdEtleSIsImdldEtleSIsInVwZGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZiIsImR0IiwiZmluYWxEcmF3Iiwic3VwZXIiLCJjdXJyZW50U2hhcGUiLCJuZXh0U2hhcGUiLCJsb2NhbER0IiwicG9pbnRzIiwiaiIsImxlbmd0aCIsInRoIiwiZHJhd0N1cnJlbnRTaGFwZSIsImx0IiwidGkiLCJwZXJjZW50IiwicGVyY2VudEZ1bmN0aW9uIiwibWF4SSIsInRpbWUiLCJhbmltYXRpb25OYW1lIiwic2ltdWxhdG9yIiwib2JqZWN0c0wiLCJsaWdodHMiLCJvcmJpdENvbnRyb2wiLCJwbENvbmYiLCJiZyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmQiLCJkaXNwbGF5R3JpZCIsImRlYnVnTW9kZSIsImdyaWRDb2xvciIsInlTIiwicm91bmQiLCJzcXVhcmVCeVgiLCJvZmZzZXQiLCJ4UmVsIiwieVJlbCIsInpSZWwiLCJ1c2VPZmZzZXQiLCJmYWMiLCJiZWdpblRpbWUiLCJub3ciLCJsYXN0VXBkYXRlVGltZSIsImxhc3REcmF3VGltZSIsImdldERlZmF1bHRFbmdpbmVDb25maWciLCJjdXN0b20iLCJnZXRDdXN0b21Db25maWciLCJnZXRFbmdpbmVDb25maWciLCJkdE1veSIsInJ1bm5lciIsInJvbGxiYWNrQ29udHJvbCIsIm1pbmltYWxVcGRhdGVGUFMiLCJkdFRvdGFsIiwiZHRDb3VudCIsInByZVJ1blNpbXVsYXRvciIsImUiLCJjcmVhdGVQNUluc3RhbmNlIiwic2V0QXR0cmlidXRlcyIsIm1vdXNlUG9zIiwiY29tcHV0ZUZvclhZRnJvbVBpeGVsIiwibW91c2VYIiwibW91c2VZIiwicnVuU2ltdWxhdG9yIiwiZ2V0Q2FudmFzUHJvcG9ydGlvbnMiLCJwcm9wb3J0aW9ucyIsImNhbnZhcyIsImNyZWF0ZUNhbnZhcyIsIldFQkdMIiwicGFyZW50IiwiZGl2SWQiLCJydSIsIlVQREFURV9GUFMiLCJEUkFXX0ZQUyIsImZyYW1lUmF0ZSIsImN1cnJlbnRUaW1lIiwiY3JpdGlxRHQiLCJtYXhTdGFuZGFyZERldmlhdGlvbiIsInNpbXVsYXRpb25TcGVlZCIsImF2ZXJhZ2VUaW1lU2FtcGxlIiwid2luZG93UmVzaXplZCIsInJlc2l6ZUNhbnZhcyIsIm1vdXNlRHJhZ2dlZCIsIm1vdmFibGUiLCJjUCIsImlzUmVsYXRpdmUiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsImN1c3RvbU9iamVjdCIsIm51bWJlciIsInBhcmFtcyIsIkZ1bmN0aW9uIiwiY29weVBhcmFtc1RlbXAiLCJBcnJheSIsImFkZGluZ09iamVjdHNDb25maWdLZXlXb3JkcyIsInJ1bkZ1bmN0aW9ucyIsInNsaWNlIiwicnVuQ2xhc3MiLCJpc19tb3ZhYmxlIiwiY29uZmlnRnVuYyIsImRyYXdlcjJEIiwiejAiLCJ6MSIsInNwaGVyZSIsImNvbmUiLCJib3giLCJjeWxpbmRlciIsInBsYW5lIiwibm0iLCJub3JtYWxNYXRlcmlhbCIsIm1vZGVsIiwidHJhbnNmb3JtIiwicG9pbnROYW1lIiwicG9pbnRTaXplIiwidmVjdG9yTmFtZSIsImRyYXdPcmlnaW5WZWN0b3IiLCJwb2ludFNpemVEcmF3aW5nIiwidGV4dFBhZGRpbmciLCJwYXJzZUludCIsInAwIiwicDEiLCJwMiIsImZpbGxDb2xvciIsInN0cm9rZUNvbG9yIiwic2V0Q29vcmRpbmF0ZXMiLCJwRyIsImdsb2JhbCIsInBTUG9pbnQiLCJwU1RyaWFuZ2xlIiwicFNBbmltYXRpb24iLCJwNSIsInNldHVwIiwiaW5zdGFuY2lhdGUiLCJwU0VuZ2luZSIsImdldFBTRW5naW5lVmFyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGhlbiJdLCJtYXBwaW5ncyI6InlCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0Us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M0wsT0FBTzRMLFNBQVc1TCxPQUFPekIscUJBQXFCc04sb0JDUnBCLElBQUlDLFFBQVEsQ0FBQ0MsRUFBU0MsS0FDcEIsWUFBeEJDLFNBQVNDLFdBQ1JILElBRUEvTCxPQUFPbU0saUJBQWlCLE9BQVFKLEdBQVMsS0FHNUJLLEtBWE8sS0FDM0IsSUFBSSIsImZpbGUiOiJwU0VuZ2luZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwiaW1wb3J0ICcuLy4uL2RyYXdlci9vYmplY3RzL1RleHQnO1xyXG5cclxuLyoqXHJcbiogQSBjbGFzcyBmb3IgZXZlcnkgM0QgVmVjdG9ycy5cclxuKiA8YnIvPlBsZWFzZSBub3RlIHRoYXQgY3VycmVudCB2ZWN0b3IgbWF5IG9ubHkgYmUgdXNlZCBpbiA8Yj4yRDwvYj4uXHJcbiovXHJcbmNsYXNzIFZlY3RvciB7XHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IFggY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIGNvbG9yIENvbG9yIG9mIHRoZSBWZWN0b3IgJ3JnYmEoUiwgRywgQiwgQSknXHJcbiAgICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIFZlY3RvciB0byBiZSBwb3RlbnRpYWxseSBkaXNwbGF5ZWQgKEBzZWUgZHJhdyBtZXRob2QpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIGNvbG9yID0gJ3JnYigyNTUsIDI1NSwgMjU1KScsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLnggICAgPSB4IHx8IDA7XHJcbiAgICAgICAgdGhpcy55ICAgID0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiAgICA9IHogfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE1FVEhPRFMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogU2V0IHgsIHksIHogY29vcmRpbmF0ZXMgKGVhY2ggY29vcmRpbmF0ZSBnZXRzIGEgMCBpZiB2YWx1ZSBub3QgcHJvdmlkZWQpXHJcbiAgICAqIEBwYXJhbSB4IE5ldyBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCB0byBiZSBlcXVhbCB0b1xyXG4gICAgKiBAcGFyYW0geSBOZXcgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IE5ldyBaIGNvb3JkaW5hdGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0KHgsIHksIHopIHtcclxuICAgICAgICBpZih4IGluc3RhbmNlb2YgVmVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHgueCB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB4LnkgfHwgMDtcclxuICAgICAgICAgICAgdGhpcy56ID0geC56IHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xyXG4gICAgICAgIHRoaXMueSA9IHggfHwgMDtcclxuICAgICAgICB0aGlzLnogPSB4IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB2ZWN0b3IgbmFtZVxyXG4gICAgKiBAcGFyYW0gbmFtZSBOZXcgbmFtZSBvZiB0aGUgVmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldE5hbWUobmFtZSkge1xyXG4gICAgICAgIGlmKG5hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgaWYobmFtZSBpbnN0YW5jZW9mIHBTVGV4dClcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5ldyBwU1RleHQobmFtZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVjayBpZiB0d28gdmVjdG9ycyBvciBwYWlyIG9mIGNvb3JkaW5hdGVzIGFyZSBlcXVhbFxyXG4gICAgKiBAcGFyYW0geCBYIGNvb3JkaW5hdGUgT1IgYSBWZWN0b3IgeCBmb3IgZWdhbGl0eSBjaGVja2luZ1xyXG4gICAgKiBAcGFyYW0geSBZIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHogWiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdHJ1ZSBpZiBlcXVhbFxyXG4gICAgKi9cclxuICAgIGVxdWFscyh4LCB5LCB6KSB7XHJcbiAgICAgICAgaWYoeCBpbnN0YW5jZW9mIFZlY3RvcilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKHgueCwgeC55LCB4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gKHRoaXMueCA9PSB4KSAmJiAodGhpcy55ID09IHkpICYmICh0aGlzLnogPT0geik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gYSBjb3B5IG9mIHRoZSBjdXJyZW50IFZlY3RvciAqL1xyXG4gICAgY29weSgpIHsgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiB0aGlzIFZlY3RvciB3aXRoIGNvb3JkaW5hdGVzIHNldCB0byAoMCwgMCwgMCkgKi9cclxuICAgIGNsZWFyKCkgeyByZXR1cm4gdGhpcy5zZXQoMCwgMCwgMCk7IH1cclxuXHJcbiAgICAvKiogQHJldHVybiBBIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0ICovXHJcbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBWZWN0b3IgT2JqZWN0IDogWyR7dGhpcy54fSwgJHt0aGlzLnl9LCAke3RoaXMuen1dYDsgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gQkFTSUMgVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvKipcclxuICAgICogQWRkIHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGQoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgdGhpcy54ICs9IHggfHwgMDtcclxuICAgICAgICB0aGlzLnkgKz0geSB8fCAwO1xyXG4gICAgICAgIHRoaXMueiArPSB6IHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFN1c3RyYWN0IHR3byB2ZWN0b3JzIG9yIHBhaXIgb2YgY29vcmRpbmF0ZXMgdG9nZXRoZXJcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdWIoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1Yih4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKC14LCAteSwgLXopO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgbXVsdGlwbGljYXRpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIG11bHQoYykge1xyXG4gICAgICAgIGlmKCEodHlwZW9mIGMgPT09ICdudW1iZXInKSB8fCAhaXNGaW5pdGUoYykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgJ1ZlY3Rvcjo6bXVsdCgpJyxcclxuICAgICAgICAgICAgICAgICdjIGlzIHVuZGVmaW5lZCBvciBpc25cXCd0IGEgZmluaXRlIG51bWJlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggKj0gYztcclxuICAgICAgICB0aGlzLnkgKj0gYztcclxuICAgICAgICB0aGlzLnogKj0gYztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGl2aWRlcyB0aGlzIFZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gYyBUaGUgZGl2aXNpb24gc2NhbGFyXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGRpdihjKSB7XHJcbiAgICAgICAgaWYoISh0eXBlb2YgYyA9PT0gJ251bWJlcicpIHx8ICFpc0Zpbml0ZShjKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAnVmVjdG9yOjpkaXYoKScsXHJcbiAgICAgICAgICAgICAgICAnYyBpcyB1bmRlZmluZWQgb3IgaXNuXFwndCBhIGZpbml0ZSBudW1iZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihjID09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRpdmlkZSBieSAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdCgxIC8gYyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBTdGF0aWMgbWV0aG9kc1xyXG4gICAgLyoqXHJcbiAgICAqIEFkZCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgYWRkKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuYWRkKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTdWJ0cmFjdCB0d28gdmVjdG9ycyB0b2dldGhlclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiBBIG5ldyBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgc3ViKHYxLCB2MikgeyByZXR1cm4gKHYxLmNvcHkoKSkuc3ViKHYyKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNdWx0aXBseSBhIHZlY3RvciBieSBhIHNjYWxhclxyXG4gICAgKiBAcGFyYW0gdjEgVGhlIHZlY3RvclxyXG4gICAgKiBAcGFyYW0gYyBBIHNjYWxhciBjXHJcbiAgICAqIEByZXR1cm4gQSBuZXcgbXVsdGlwbGllZCBWZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgbXVsdCh2MSwgYykgeyByZXR1cm4gKHYxLmNvcHkoKSkubXVsdChjKTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXZpZGVzIHR3byB2ZWN0b3JzIHRvZ2V0aGVyXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBjIEEgc2NhbGFyIGNcclxuICAgICogQHJldHVybiBBIG5ldyBkaXZpZGVkIFZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkaXYgKHYxLCBjKSB7IHJldHVybiAodjEuY29weSgpKS5kaXYoYyk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogPT09PT09PT09IEFEVkFOQ0VEIE1BVEggVkVDVE9SIE9QRVJBVElPTlMgPT09PT09PT09ICovXHJcbiAgICAvLyBEb3QgYW5kIGNyb3NzIHByb2R1Y3RzXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBkb3QoeCwgeSwgeikge1xyXG4gICAgICAgIGlmKHggaW5zdGFuY2VvZiBWZWN0b3IpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvdCh4LngsIHgueSwgeC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqICh4IHx8IDApICsgdGhpcy55ICogKHkgfHwgMCkgKyB0aGlzLnogKiAoeiB8fCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3Jvc3MgcHJvZHVjdCB3aXRoIGEgVmVjdG9yXHJcbiAgICAqIEBwYXJhbSB2IFRoZSB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgY3Jvc3Modikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICB0aGlzLnkgKiB2LnogLSB0aGlzLnogKiB2LnksXHJcbiAgICAgICAgICAgIHRoaXMueiAqIHYueCAtIHRoaXMueCAqIHYueixcclxuICAgICAgICAgICAgdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIE1hZ25pdHVkZVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIG5vcm1hbGl6ZWQgVmVjdG9yICovXHJcbiAgICBub3JtYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3QgdkxlbiA9IHRoaXMubWFnKCk7XHJcbiAgICAgICAgaWYgKHZMZW4gIT09IDApXHJcbiAgICAgICAgICAgIHRoaXMuZGl2KHZMZW4pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogTGltaXQgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yIGJldHdlZW4gYSBtaW4gYW5kIGEgbWF4IHZhbHVlXHJcbiAgICAqIEBwYXJhbSBtaW4gTWluaW11bSB2YWx1ZSBvZiB0aGUgVmVjdG9yIG1hZ25pdHVkZVxyXG4gICAgKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWUgb2YgdGhlIFZlY3RvciBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgbGltaXQobWluLCBtYXgpIHtcclxuICAgIFx0bGV0IG0gPSB0aGlzLm1hZygpO1xyXG4gICAgXHRpZihtIDwgbWluKVxyXG4gICAgXHRcdHRoaXMuZGl2KG0pLm11bHQobWluKTtcclxuICAgIFx0aWYobSA+IG1heClcclxuICAgIFx0XHR0aGlzLmRpdihtKS5tdWx0KG1heCk7XHJcbiAgICBcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3IgKi9cclxuICAgIG1hZygpIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yXHJcbiAgICAqIEBwYXJhbSBtYWcgVGhlIG5ldyBtYWduaXR1ZGVcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0TWFnKG1hZykgeyByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0KG1hZyk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIEFuZ2xlc1xyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZSB0aGlzIHZlY3RvciBieSBhbiBhbmdsZSBvbiB0aGUgWFkgcGxhbmVcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgcm90YXRlKGFuZ2xlKSB7XHJcbiAgICAgICAgY29uc3QgbmV3QW5nbGUgID0gdGhpcy5nZXRBbmdsZSgpICsgYW5nbGU7XHJcbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gdGhpcy5tYWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5jb3MobmV3QW5nbGUpICogbWFnbml0dWRlO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKG5ld0FuZ2xlKSAqIG1hZ25pdHVkZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIHRoZSBvcmlnaW4gKi9cclxuICAgIGdldEFuZ2xlKCkgeyByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7IH1cclxuXHJcblxyXG5cclxuICAgIC8vIFN0YXRpYyBtZXRob2RzXHJcbiAgICAvKipcclxuICAgICogRGlzdGFuY2UgYmV3dGVlbiB0d28gdmVjdG9yc1xyXG4gICAgKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvclxyXG4gICAgKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3JcclxuICAgICogQHJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvc2l0aW9ucyB3aGVyZSB0aGUgYXJyb3cgYXJlIHBvaW50aW5nIHRvXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGRpc3QodjEsIHYyKSB7IHJldHVybiBWZWN0b3Iuc3ViKHYxLCB2MikubWFnKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRG90IHByb2R1Y3QgYmV0d2VlbiBhIFZlY3RvciBPUiBhIHBhaXIgb2YgY29vcmRpbmF0ZXNcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIE9SIGEgVmVjdG9yIHhcclxuICAgICogQHBhcmFtIHkgWSBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB6IFogY29vcmRpbmF0ZVxyXG4gICAgKiBAcmV0dXJuIHRoZSBkb3R0ZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkb3QodjEsIHgsIHksIHopIHsgcmV0dXJuICh2MS5jb3B5KCkpLmRvdCh4LCB5LCB6KTsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcm9zcyBwcm9kdWN0IHdpdGggYSBWZWN0b3JcclxuICAgICogQHBhcmFtIHYxIFRoZSBmaXJzdCB2ZWN0b3JcclxuICAgICogQHBhcmFtIHYyIFRoZSBzZWNvbmQgdmVjdG9yXHJcbiAgICAqIEByZXR1cm4gdGhlIGNyb3NzZWQgbmV3IHZlY3RvclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjcm9zcyh2MSwgdjIpIHsgcmV0dXJuICh2MS5jb3B5KCkpLmNyb3NzKHYyKTsgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBub3JtYWxpemVkIFZlY3RvciAqL1xyXG4gICAgc3RhdGljIG5vcm1hbGl6ZSh2MSkgeyByZXR1cm4gKHYxLmNvcHkoKSkubm9ybWFsaXplKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogUm90YXRlIGEgdmVjdG9yIGJ5IGFuIGFuZ2xlXHJcbiAgICAqIEBwYXJhbSB2MSBUaGUgdmVjdG9yIHRvIGJlIHJvdGF0ZWRcclxuICAgICogQHBhcmFtIGFuZ2xlIEFuIGFuZ2xlIElOIFJBRElBTlNcclxuICAgICogQHJldHVybiB0aGUgcm90YXRlZCB2ZWN0b3JcclxuICAgICovXHJcbiAgICBzdGF0aWMgcm90YXRlICh2MSwgYW5nbGUpIHsgcmV0dXJuICh2MS5jb3B5KCkpLnJvdGF0ZShhbmdsZSk7IH1cclxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiA9PT09PT09PT0gRFJBV0lORyBWRUNUT1JTID09PT09PT09PSAqL1xyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBoZWFkU2l6ZSBTaXplIG9mIHRoZSBoZWFkIGluIHBpeGVscyAoZGVmYXVsdCA9IDUgcHgpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgU3Ryb2tlIHdlaWdodCBvZiB0aGUgVmVjdG9yIGluIHBpeGVscyAoZGVmYXVsdCA9IDEgcHgpXHJcbiAgICAqL1xyXG4gICAgZHJhdyhpbml0aWFsUG9zLCBoZWFkU2l6ZSwgc3Ryb2tlV2VpZ2h0KSB7XHJcbiAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIFZlY3Rvci5kcmF3KGluaXRpYWxQb3MsIHRoaXMsIHRoaXMuY29sb3IsIGhlYWRTaXplLCBzdHJva2VXZWlnaHQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgVmVjdG9yLmRyYXcodW5kZWZpbmVkICwgdGhpcywgdGhpcy5jb2xvciwgaGVhZFNpemUsIHN0cm9rZVdlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIChQbGVhc2UgYXZvaWQgZGlyZWN0bHkgdXNpbmcgdGhpcyBtZXRob2QpXHJcbiAgICAqIERyYXcgYSB2ZWN0b3IgdG8gdGhlIGNhbnZhcyB1c2luZyB0aGUgYERyYXdlcmAgY2xhc3NcclxuICAgICogQHBhcmFtIGluaXRpYWxQb3MgVGhlIGJlZ2lubmluZyBwb3NpdGlvbiBvZiB0aGUgVmVjdG9yIEFycm93XHJcbiAgICAqIEBwYXJhbSBpbml0aWFsUG9zIFRoZSBlbmRpbmcgcG9zaXRpb24gb2YgdGhlIFZlY3RvciBBcnJvd1xyXG4gICAgKiBAcGFyYW0gY29sb3IgQ29sb3Igb2YgdGhlIGFycm93IChkZWZhdWx0IGByZ2IoMjU1LCAyNTUsIDI1NSlgKVxyXG4gICAgKiBAcGFyYW0gaGVhZFNpemUgU2l6ZSBvZiB0aGUgaGVhZCBpbiBwaXhlbHMgKGRlZmF1bHQgPSA1IHB4KVxyXG4gICAgKiBAcGFyYW0gc3Ryb2tlV2VpZ2h0IFN0cm9rZSB3ZWlnaHQgb2YgdGhlIFZlY3RvciBpbiBwaXhlbHMgKGRlZmF1bHQgPSAxIHB4KVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkcmF3KGluaXRpYWxQb3MgPSBuZXcgVmVjdG9yKCksIHBvaW50aW5nUG9zLCBjb2xvciA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBoZWFkU2l6ZSA9IDUsIHN0cm9rZVcgPSAxKSB7XHJcbiAgICAgICAgbGV0IHBsb3R0ZXIgPSBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyO1xyXG5cclxuICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SXHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KHN0cm9rZVcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWxsKGNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubGluZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQb3MueCArIHBvaW50aW5nUG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9zLnkgKyBwb2ludGluZ1Bvcy55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB6elBvc2l0aW9uID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRQb3MgICAgID0gcGxvdHRlci5jb21wdXRlRm9yWFlaKHBvaW50aW5nUG9zLngsIHBvaW50aW5nUG9zLnksIHBvaW50aW5nUG9zLnopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoZW5kUG9zLngsIGVuZFBvcy55KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlKGVuZFBvcy5zdWIoenpQb3NpdGlvbikuZ2V0QW5nbGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKC1oZWFkU2l6ZSAtIDIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlKDAsIGhlYWRTaXplIC8gMiwgMCwgLWhlYWRTaXplIC8gMiwgaGVhZFNpemUsIDApO1xyXG4gICAgICAgICAgICAgICAgcG9wKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERSQVcgVkVDVE9SIE5BTUVcclxuICAgICAgICAgICAgICAgIGlmKHBvaW50aW5nUG9zLm5hbWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2Zmc2V0IG9mIHRoZSB0ZXh0IGJhc2VkIG9uIHRoZSBhbmdsZSBvbiB0aGUgdW5pdCBjaXJjbGVcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBwb2ludGluZ1Bvcy5nZXRBbmdsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFuZ2xlIDwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gMipQSTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHhPZmZzZXQgPSAwLjAxICogcG9pbnRpbmdQb3MubmFtZS5zdmdJbWcud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSBQSS8yICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgzKlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSA1KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgzKlBJLzIgPCBhbmdsZSAmJiBhbmdsZSA8PSA3KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB4T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICAgIChQSS80ICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIFBJLzIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSS8yICAgPCBhbmdsZSAmJiBhbmdsZSA8PSAzKlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChQSSAgICAgPCBhbmdsZSAmJiBhbmdsZSA8PSA1KlBJLzQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICg3KlBJLzQgPCBhbmdsZSAmJiBhbmdsZSA8PSAgIDIqUEkpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB5T2Zmc2V0ICo9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb2ludGluZ1Bvcy5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRDb2xvcihjb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRyYXcocG9pbnRpbmdQb3MubmFtZS5wb3MuY29weSgpLmRpdigyKS5hZGQoeE9mZnNldCwgeU9mZnNldCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYWRTaXplIC89IDM7XHJcblxyXG4gICAgICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgICAgICBwbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UoY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZVdlaWdodChzdHJva2VXKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWxsKGNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUlxyXG4gICAgICAgICAgICAgICAgaWYoaW5pdGlhbFBvcyAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIudHJhbnNsYXRlKGluaXRpYWxQb3MueCwgaW5pdGlhbFBvcy55LCBpbml0aWFsUG9zLnopO1xyXG4gICAgICAgICAgICAgICAgcGxvdHRlci5kcmF3ZXIubGluZSgwLCAwLCAwLCBwb2ludGluZ1Bvcy54LCBwb2ludGluZ1Bvcy55LCBwb2ludGluZ1Bvcy56KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEUkFXIFZFQ1RPUiBOQU1FXHJcbiAgICAgICAgICAgICAgICAvLyBpZihwb2ludGluZ1Bvcy5uYW1lICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRleHQocG9pbnRpbmdQb3MueCwgcG9pbnRpbmdQb3MueSwgcG9pbnRpbmdQb3Mueik7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHhheGlzID0gVmVjdG9yLmNyb3NzKG5ldyBWZWN0b3IoMCwgMSwgMCksIHBvaW50aW5nUG9zKTtcclxuICAgICAgICAgICAgICAgIC8vIHhheGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGxldCB5YXhpcyA9IFZlY3Rvci5jcm9zcyhwb2ludGluZ1BvcywgeGF4aXMpO1xyXG4gICAgICAgICAgICAgICAgLy8geWF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gQ2FsY3VsYXRlIHJvdGF0aW9uIG1hdHJpeFxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IE0gPSBbW10sIFtdLCBbXV07XHJcbiAgICAgICAgICAgICAgICAvLyBNWzBdWzBdID0geGF4aXMueDtcclxuICAgICAgICAgICAgICAgIC8vIE1bMF1bMV0gPSB5YXhpcy54O1xyXG4gICAgICAgICAgICAgICAgLy8gTVswXVsyXSA9IHBvaW50aW5nUG9zLng7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gTVsxXVswXSA9IHhheGlzLnk7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzFdWzFdID0geWF4aXMueTtcclxuICAgICAgICAgICAgICAgIC8vIE1bMV1bMl0gPSBwb2ludGluZ1Bvcy55O1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIE1bMl1bMF0gPSB4YXhpcy56O1xyXG4gICAgICAgICAgICAgICAgLy8gTVsyXVsxXSA9IHlheGlzLno7XHJcbiAgICAgICAgICAgICAgICAvLyBNWzJdWzJdID0gcG9pbnRpbmdQb3MuejtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBDYWxjdWxhdGUgRXVsZXIgYW5nbGVzXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGhldGExLCB0aGV0YTIsIHRoZXRhLCBwc3kxLCBwc3kyLCBwc3ksIHBoaTEsIHBoaTIsIHBoaTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIChNWzNdWzFdICE9IC0xICYmIE1bM11bMV0gIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoZXRhMSA9IC1NYXRoLmFyY3NpbihNWzNdWzFdKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGV0YTIgPSBNYXRoLlBJIC0gdGhldGExO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBzeTEgPSBNYXRoLmF0YW4yKE1bM11bMl0gLyBNYXRoLmNvcyh0aGV0YTEpKVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIGNvbmUoaGVhZFNpemUgKiAzLCBoZWFkU2l6ZSAqIDcpO1xyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yO1xyXG4iLCJjbGFzcyBwU1RleHQge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0ZXh0IExhVGVYIGNvZGUgKGluc2VydCAnXFx0ZXh0e1RFWFR9JyBmb3IgcGxhaW4gdGV4dClcclxuICAgICogQHBhcmFtIHBvcyB0ZXh0IHBvc2l0aW9uIChkZWZhdWx0ICgwLCAwKSlcclxuICAgICogQHBhcmFtIHRleHRTaXplIHRleHQgc2l6ZSBtdWx0aXBsaWVyIChkZWZhdWx0IDEpXHJcbiAgICAqIEBwYXJhbSBjb2xvciB0ZXh0IGNvbG9yIChkZWZhdWx0IHdoaXRlKVxyXG4gICAgKiBAcGFyYW0gc2hvd0hpdGJveCB0cnVlIDogc2hvdyB0ZXh0IGhpdGJveCAoZGVmYXVsdCA6IGZhbHNlKVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRleHQsIHBvcyA9IG5ldyBWZWN0b3IoKSwgdGV4dFNpemUgPSAxLCBjb2xvciA9IFwiI0ZGRkZGRlwiLCBzaG93SGl0Ym94ID0gZmFsc2UpIHtcclxuICAgICAgICBpZih3aW5kb3cuTWF0aEpheCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1lvdSBtdXN0IGltcG9ydCBNYXRoSmF4LmpzID49My4wLjAgaW4gb3JkZXIgdG8gdXNlIFRleHQgYW5kIFRleCBzdHJpbmdzLicpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRTaXplICAgPSB0ZXh0U2l6ZTtcclxuICAgICAgICB0aGlzLmNvbG9yICAgICAgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnBvcyAgICAgICAgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5zaG93SGl0Ym94ID0gc2hvd0hpdGJveDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0KHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3IHRoZSB0ZXh0IHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHBvc09wdCBGb3JjZSB0ZXh0IHBvc2l0aW9uXHJcbiAgICAqL1xyXG4gICAgZHJhdyhwb3NPcHQpIHtcclxuICAgICAgICBsZXQgZHJhd2VyID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5kcmF3ZXI7XHJcblxyXG4gICAgICAgIGxldCBwb3MgPSBkcmF3ZXIucGxvdHRlci5jb21wdXRlRm9yWFlaKHRoaXMucG9zLngsIHRoaXMucG9zLnkpO1xyXG4gICAgICAgIGlmKHBvc09wdCAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHBvcyA9IGRyYXdlci5wbG90dGVyLmNvbXB1dGVGb3JYWVoocG9zT3B0LngsIHBvc09wdC55KTtcclxuXHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKC10aGlzLnN2Z0ltZy53aWR0aCAvIDIsIC10aGlzLnN2Z0ltZy5oZWlnaHQgLyAyKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlKHRoaXMuc3ZnSW1nLCBwb3MueCwgcG9zLnksIHRoaXMuc3ZnSW1nLndpZHRoLCB0aGlzLnN2Z0ltZy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5zaG93SGl0Ym94KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaCA9IHRoaXMuc3ZnSW1nLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0gdGhpcy5zdmdJbWcud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZSh0aGlzLmNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMSlcclxuICAgICAgICAgICAgICAgICAgICAubm9GaWxsKCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgICAgLCBwb3MueCArIHcsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgKyBoLCBwb3MueCArIHcsIHBvcy55ICsgaCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICAgICwgcG9zLnkgKyBoLCBwb3MueCAgICAsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgICAgICBsaW5lKHBvcy54ICsgdywgcG9zLnkgKyBoLCBwb3MueCArIHcsIHBvcy55ICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBwb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlIHRleHQgdmFsdWVcclxuICAgICovXHJcbiAgICBzZXRUZXh0KHRleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICBsZXQgc3ZnID0gJzxzdmcnICsgTWF0aEpheC50ZXgyc3ZnKHRoaXMudGV4dCxcclxuICAgICAgICAgICAgeyBkaXNwbGF5IDogdHJ1ZSwgZW0gOiAxMiwgZXggOiA2LCBjb250YWluZXJXaWR0aCA6IDgwICogNiwgbGluZVdpZHRoIDogMTAwMDAwLCBzY2FsZSA6IDEgfVxyXG4gICAgICAgICkuaW5uZXJIVE1MLnNwbGl0KCc8c3ZnJylbMV0uc3BsaXQoJzwvc3ZnPicpWzBdICsgJzwvc3ZnPic7XHJcblxyXG4gICAgICAgIHN2ZyA9IHN2Z1xyXG4gICAgICAgICAgICAucmVwbGFjZSgvPGcvZyAgICAgICAgICAgLCAnPGcgY29sb3I9XCInICsgdGhpcy5jb2xvciArICdcIicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC93aWR0aD1cIiguKj8pXCIvICwgJ3dpZHRoPVwiJyAgKyBwYXJzZUZsb2F0KC93aWR0aD1cIiguKj8pXCIvIC5leGVjKHN2ZylbMV0uc3BsaXQoJ2V4JylbMF0pICogdGhpcy50ZXh0U2l6ZSArICdleFwiJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL2hlaWdodD1cIiguKj8pXCIvLCAnaGVpZ2h0PVwiJyArIHBhcnNlRmxvYXQoL2hlaWdodD1cIiguKj8pXCIvLmV4ZWMoc3ZnKVsxXS5zcGxpdCgnZXgnKVswXSkgKiB0aGlzLnRleHRTaXplICsgJ2V4XCInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdmdJbWcgPSBsb2FkSW1hZ2UoVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbc3ZnXSwgeyB0eXBlOiAnaW1hZ2Uvc3ZnK3htbCcgfSkpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5nZXMgdGV4dCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geCBuZXcgWCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geSBuZXcgWSBwb3NpdGlvblxyXG4gICAgKi9cclxuICAgIHNldFBvc2l0aW9uKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnBvcy54ID0geDtcclxuICAgICAgICB0aGlzLnBvcy55ID0geTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hhbmdlcyB0ZXh0IGNvbG9yXHJcbiAgICAqIEBwYXJhbSBjb2xvciBOZXcgY29sb3JcclxuICAgICovXHJcbiAgICBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNUZXh0O1xyXG4iLCJjbGFzcyBwU0RyYXdlciB7XHJcbiAgICAvKiogQ29uc3RydWN0IHRoZSBtYWluIHBTRW5naW5lIGRyYXdlciAqL1xyXG4gICAgY29uc3RydWN0b3IocGxvdHRlcikge1xyXG4gICAgICAgIHRoaXMucGxvdHRlciA9IG51bGw7IC8vIHNldCB3aGVuIGxvYWRlZCBpbiB0aGUgUGxvdHRlciBjbGFzc1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSBwb2ludCB0byB0aGUgc2NyZWVuXHJcbiAgICAqIEBwYXJhbSB4IFggc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHBvaW50KHgsIHkpIHtcclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHBvaW50KHYueCwgdi55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhIGxpbmUgZnJvbSBvbmUgcG9pbnQgdG8gdGhlIG90aGVyIHRvIHRoZSBzY3JlZW5cclxuICAgICogQHBhcmFtIHgwIFggaW5pdGlhbCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkwIFkgaW5pdGlhbCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHgxIFggZW5kIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geTEgWSBlbmQgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGxpbmUoeDAsIHkwLCB4MSwgeTEpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4MCwgeTApO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgxLCB5MSk7XHJcbiAgICAgICAgbGluZSh2MC54LCB2MC55LCB2MS54LCB2MS55KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBhbiBlbGxpcHNlXHJcbiAgICAqIEBwYXJhbSB4IFggY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0geSBZIGNlbnRlciBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHJ4IFggZWxsaXBzZSByYWRpdXNcclxuICAgICogQHBhcmFtIHJ5IFkgZWxsaXBzZSByYWRpdXNcclxuICAgICogQHBhcmFtIGFicyBBcmUgcnggYW5kIHJ5IGluIHBpeGVscyAoZGVmYXVsdCBmYWxzZSlcclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgZWxsaXBzZSh4LCB5LCByeCwgcnksIGFicyA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSk7XHJcblxyXG4gICAgICAgIGlmKHJ5ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcnkgPSByeDtcclxuXHJcbiAgICAgICAgaWYoIWFicykge1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihyeCwgcnksIDAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgZWxsaXBzZSgwLCAwLCB2MS54ICogMiwgdjEueSAqIDIpO1xyXG4gICAgICAgICAgICBwb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBlbGxpcHNlKHYwLngsIHYwLnksIHJ4LCByeSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSBjaXJjbGVcclxuICAgICogQHBhcmFtIHggWCBjZW50ZXIgc2ltdWxhdGlvbiBjb29yZGluYXRlXHJcbiAgICAqIEBwYXJhbSB5IFkgY2VudGVyIHNpbXVsYXRpb24gY29vcmRpbmF0ZVxyXG4gICAgKiBAcGFyYW0gciBDaXJjbGUgcmFkaXVzXHJcbiAgICAqIEBwYXJhbSBhYnMgSXMgciBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGNpcmNsZSh4LCB5LCByLCBhYnMgPSBmYWxzZSkge1xyXG4gICAgXHRyZXR1cm4gdGhpcy5lbGxpcHNlKHgsIHksIHIsIHIsIGFicyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgYSByZWN0YW5nbGVcclxuICAgICogQHBhcmFtIHggWCBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHkgWSBib3R0b20gbGVmdCBzaW11bGF0aW9uIGNvb3JkaW5hdGVcclxuICAgICogQHBhcmFtIHcgUmVjdGFuZ2xlIHdpZHRoXHJcbiAgICAqIEBwYXJhbSBoIFJlY3RhbmdsZSBoZWlnaHRcclxuICAgICogQHBhcmFtIGFicyBBcmUgdyBhbmQgaCBpbiBwaXhlbHMgKGRlZmF1bHQgZmFsc2UpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHJlY3QoeCwgeSwgdywgaCwgYWJzID0gZmFsc2UpIHtcclxuICAgICAgICBpZighYWJzKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZWdpblNoYXBlKClcclxuICAgICAgICAgICAgICAgICAgICAudmVydGV4KHggKyB3LCB5KVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCArIHcsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkgKyBoKVxyXG4gICAgICAgICAgICAgICAgICAgIC52ZXJ0ZXgoeCAgICAsIHkpXHJcbiAgICAgICAgICAgICAgICAuZW5kU2hhcGUoQ0xPU0UpO1xyXG5cclxuICAgICAgICBsZXQgdiA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHkpO1xyXG4gICAgICAgIHJlY3Qodi54LCB2LnksIHcsIGgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXQgc3Ryb2tlIGNvbG9yXHJcbiAgICAqIEBwYXJhbSByIFJlZCB2YWx1ZSAoMCB0byAyNTUpLCBvciAncmdiKHIsIGcsIGIpJyBvciAncmdiYShyLCBnLCBiLCBhKSdcclxuICAgICogQHBhcmFtIGcgR3JlZW4gdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYiBCbHVlIHZhbHVlICgwIHRvIDI1NSlcclxuICAgICogQHBhcmFtIGEgQWxwaGEgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzdHJva2UociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2Uocik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlKHIsIGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0cm9rZShyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBzdHJva2UoYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IHN0cm9rZSB3ZWlnaHRcclxuICAgICogQHBhcmFtIG4gU3Ryb2tlIHdlaWdodCAoaW50ZWdlcilcclxuICAgICovXHJcbiAgICBzdHJva2VXZWlnaHQobikge1xyXG4gICAgICAgIHN0cm9rZVdlaWdodChuKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0IGZpbGwgY29sb3JcclxuICAgICogQHBhcmFtIHIgUmVkIHZhbHVlICgwIHRvIDI1NSksIG9yICdyZ2IociwgZywgYiknIG9yICdyZ2JhKHIsIGcsIGIsIGEpJ1xyXG4gICAgKiBAcGFyYW0gZyBHcmVlbiB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEBwYXJhbSBiIEJsdWUgdmFsdWUgKDAgdG8gMjU1KVxyXG4gICAgKiBAcGFyYW0gYSBBbHBoYSB2YWx1ZSAoMCB0byAyNTUpXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIGZpbGwociwgZywgYiwgYSkge1xyXG4gICAgICAgIGlmKGEgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmKGIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihnID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBmaWxsKHIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwociwgZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZmlsbChyLCBnLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBmaWxsKGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICB0cmFuc2xhdGUodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJlZ2luU2hhcGUoVFlQRSkge1xyXG4gICAgICAgIGJlZ2luU2hhcGUoVFlQRSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kU2hhcGUoVFlQRSkge1xyXG4gICAgICAgIGVuZFNoYXBlKFRZUEUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHZlcnRleCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5KTtcclxuICAgICAgICB2ZXJ0ZXgodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBvcCgpIHtcclxuICAgICAgICBwb3AoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdXNoKCkge1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyoqIFJlbW92ZSBzdHJva2Ugb2YgdGhlIHNoYXBlICovXHJcbiAgICBub1N0cm9rZSgpIHtcclxuICAgICAgICBub1N0cm9rZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBObyBmaWxsIHRoZSBzaGFwZSAqL1xyXG4gICAgbm9GaWxsKCkge1xyXG4gICAgICAgIG5vRmlsbCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0RyYXdlcjtcclxuIiwiY2xhc3MgcFNBbmltYXRpb25IYW5kbGVyIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFic3RyYWN0IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGltZUxlbmd0aCBMZW5ndGggb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBDdXN0b20gYW5pbWF0aW9uIGRhdGFzXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICB0aGlzLnNjYWxlVGltZSAgID0gMTtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5kYXRhcyAgICAgICA9IGRhdGFzO1xyXG4gICAgICAgIHRoaXMudGltZUxlbmd0aCAgPSB0aW1lTGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubGFzdEtleSAgICAgPSB0aGlzLmdldEtleSh0aGlzLnVwZGF0ZSkgLyB0aGlzLnNjYWxlVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogU3RhcnQgKG9yIHJlc3RhcnQpIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTdG9wIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVCAgICA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBmIEN1cnJlbnQgZHJhd2luZyBhbmltYXRpb24gZnVuY3Rpb25cclxuICAgICogQHJldHVybiBmKGR0KVxyXG4gICAgKi9cclxuICAgIGdldEtleShmKSB7XHJcbiAgICAgICAgbGV0IGR0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDAgLSB0aGlzLmluaXRpYWxUO1xyXG5cclxuICAgICAgICBpZihkdCA+IHRoaXMudGltZUxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluYWxEcmF3KHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RLZXkgPSBmKGR0LCB0aGlzKSAvIHRoaXMuc2NhbGVUaW1lO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0S2V5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHRoZSBjdXJyZW50IHVwZGF0ZSBrZXkgKi9cclxuICAgIHVwZGF0ZUtleSgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMudXBkYXRlKTsgfVxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGN1cnJlbnQgZHJhdyBrZXkgKi9cclxuICAgIGRyYXdLZXkgICgpIHsgcmV0dXJuIHRoaXMuZ2V0S2V5KHRoaXMuZHJhdyAgKTsgfVxyXG5cclxuICAgIC8qKiBVcGRhdGUgbG9vcCBmb3Igb3ZlcndyaXRpbmcgKi9cclxuICAgIHVwZGF0ZSgpIHt9XHJcbiAgICAvKiogRHJhdyBsb29wIGZvciBvdmVyd3JpdGluZyAqL1xyXG4gICAgZHJhdyAgKCkge31cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNBbmltYXRpb25IYW5kbGVyO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTSW50ZXJwb2xhdGlvbiBleHRlbmRzIHBTQW5pbWF0aW9uSGFuZGxlciB7XHJcbiAgICAvKipcclxuICAgICogSW50ZXJwb2xhdGlvbiBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBUaGUgZGF0YXMgdG8gYmUgaW50ZXJwb2xhdGVkICdbUG9pbnQxLCBQb2ludDIsIC4uLl0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaSA9IC0xO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNoYXBlID0gdGhpcy5uZXh0U2hhcGUoZGF0YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsRHQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBTZXQgc2hhcGUgYmFzZWQgb24gYW5pbWF0aW9uIGFuZCBwb2ludHMgKi9cclxuICAgIG5leHRTaGFwZShwb2ludHMpIHtcclxuICAgICAgICB0aGlzLmkrKztcclxuXHJcbiAgICAgICAgbGV0IGogPSB0aGlzLmkgKyAxO1xyXG4gICAgICAgIGlmKGogPiBwb2ludHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgaiA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBbcG9pbnRzW3RoaXMuaV0sIHBvaW50c1tqXV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyB1cGRhdGUga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0LCB0aCkgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB0aW1lIEN1cnJlbnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICogQHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkcmF3IGtleVxyXG4gICAgKi9cclxuICAgIGRyYXcoZHQsIHRoKSB7XHJcbiAgICAgICAgbGV0IGMgPSB0aC50aW1lTGVuZ3RoIC8gdGguZGF0YXMubGVuZ3RoO1xyXG4gICAgICAgIGlmKCEodGguY3VycmVudFNoYXBlWzBdID09IHVuZGVmaW5lZCB8fCB0aC5jdXJyZW50U2hhcGVbMV0gPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBpZihkdCAtIHRoLmxvY2FsRHQgPj0gYykge1xyXG4gICAgICAgICAgICAgICAgdGguY3VycmVudFNoYXBlID0gdGgubmV4dFNoYXBlKHRoLmRhdGFzKTtcclxuICAgICAgICAgICAgICAgIHRoLmxvY2FsRHQgKz0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGguZHJhd0N1cnJlbnRTaGFwZShcclxuICAgICAgICAgICAgdGguZGF0YXMsXHJcbiAgICAgICAgICAgIChpLCBsdCwgdGksIGMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gMTtcclxuICAgICAgICAgICAgICAgIGlmKGkgPT0gdGkpXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IGx0IC8gYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50O1xyXG4gICAgICAgICAgICB9LCB0aCwgdGguaSArIDEsIGR0IC0gdGgubG9jYWxEdCwgYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERyYXcgdGhlIGZpbmFsIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgZmluYWxEcmF3KHRoKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFNoYXBlKHRoaXMuZGF0YXMsICgpID0+IDEsIHRoaXMsIHRoaXMuZGF0YXMubGVuZ3RoLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyBjdXJyZW50IHNoYXBlIG9uIHNjcmVlblxyXG4gICAgKiBAcGFyYW0gZCB0aGlzLmRhdGFzXHJcbiAgICAqIEBwYXJhbSBwZXJjZW50RnVuY3Rpb24gQ3VycmVudCBhbmltYXRpb24gZ2V0IHBlcmNlbnQgZnVuY3Rpb25cclxuICAgICogQHBhcmFtIHRoIGN1cnJlbnQgcFNFYXNlSW5PdXRDdWJpYyBpbnN0YW5jZVxyXG4gICAgKiBAcGFyYW0gbWF4SSBNYXggcG9pbnRzIGNvdW50XHJcbiAgICAqIEBwYXJhbSBsdCBDdXJyZW50IHRpbWUgdmFsdWVcclxuICAgICogQHBhcmFtIGMgRmluYWwgdGltZSB2YWx1ZSAvIG1heCBwb2ludHMgY291bnRcclxuICAgICovXHJcbiAgICBkcmF3Q3VycmVudFNoYXBlKGQsIHBlcmNlbnRGdW5jdGlvbiwgdGgsIG1heEksIGx0LCBjKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSBwZXJjZW50RnVuY3Rpb24oaSwgbHQsIHRoLmksIGMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG4gPSBpICsgMTtcclxuICAgICAgICAgICAgaWYobiA+PSBkLmxlbmd0aCkgbiA9IDA7XHJcblxyXG4gICAgICAgICAgICBfcFNpbXVsYXRpb25JbnN0YW5jZS5wbG90dGVyLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgLm5vRmlsbCgpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlV2VpZ2h0KDMpXHJcbiAgICAgICAgICAgICAgICAuc3Ryb2tlKDI1NSlcclxuICAgICAgICAgICAgICAgIC5saW5lKFxyXG4gICAgICAgICAgICAgICAgICAgIGRbaV0ucG9zLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSxcclxuICAgICAgICAgICAgICAgICAgICBkW2ldLnBvcy54ICsgKGRbbl0ucG9zLnggLSBkW2ldLnBvcy54KSAqIHBlcmNlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZFtpXS5wb3MueSArIChkW25dLnBvcy55IC0gZFtpXS5wb3MueSkgKiBwZXJjZW50XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNJbnRlcnBvbGF0aW9uO1xyXG4iLCJpbXBvcnQgcFNBbmltYXRpb25IYW5kbGVyIGZyb20gJy4vcFNBbmltYXRpb25IYW5kbGVyJztcclxuXHJcbmNsYXNzIHBTRWFzZUluT3V0Q3ViaWMgZXh0ZW5kcyBwU0FuaW1hdGlvbkhhbmRsZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEVhc2UgaW4gYW5kIG91dCBjdWJpYyBhbmltYXRpb25cclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBNaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlcyAneyBtaW4gOiAwLCBtYXggOiAxIH0nXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGltZUxlbmd0aCwgZGF0YXMpIHtcclxuICAgICAgICBzdXBlcih0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWluID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5taW4gPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuZGF0YXMubWF4ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kYXRhcy5tYXggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcga2V5XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKHRpbWUsIHRoKSB7XHJcbiAgICAgICAgbGV0IHQgPSB0aW1lIC8gdGgudGltZUxlbmd0aDtcclxuICAgICAgICBpZih0IDwgMC41KVxyXG4gICAgICAgICAgICByZXR1cm4gKDIgKiB0ICogdCkgKiAodGguZGF0YXMubWF4IC0gdGguZGF0YXMubWluKSArIHRoLmRhdGFzLm1pbjtcclxuICAgICAgICByZXR1cm4gKC0xICsgKDQgLSAyICogdCkgKiB0KSAqICh0aC5kYXRhcy5tYXggLSB0aC5kYXRhcy5taW4pICsgdGguZGF0YXMubWluO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gdGltZSBDdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gdGggY3VycmVudCBwU0Vhc2VJbk91dEN1YmljIGluc3RhbmNlXHJcbiAgICAqIEByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgZHJhdyBrZXlcclxuICAgICovXHJcbiAgICBkcmF3KGR0LCB0KSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgZmluYWwgYW5pbWF0aW9uXHJcbiAgICAqIEBwYXJhbSB0aCBjdXJyZW50IHBTRWFzZUluT3V0Q3ViaWMgaW5zdGFuY2VcclxuICAgICovXHJcbiAgICBmaW5hbERyYXcodGgpIHtcclxuICAgICAgICByZXR1cm4gdGguZGF0YXMubWF4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU0Vhc2VJbk91dEN1YmljO1xyXG4iLCJpbXBvcnQgcFNJbnRlcnBvbGF0aW9uICBmcm9tICcuL2FuaW1hdGlvbnMvcFNJbnRlcnBvbGF0aW9uJztcclxuaW1wb3J0IHBTRWFzZUluT3V0Q3ViaWMgZnJvbSAnLi9hbmltYXRpb25zL3BTRWFzZUluT3V0Q3ViaWMnO1xyXG5cclxuY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbmV3IGFuaW1hdGlvblxyXG4gICAgKiBAcGFyYW0gYW5pbWF0aW9uTmFtZSBOYW1lIG9mIHRoZSBhbmltYXRpb24gKCdlYXNlSW5PdXRDdWJpYycsICdpbnRlcnBvbGF0aW9uJylcclxuICAgICogQHBhcmFtIHRpbWVMZW5ndGggTGVuZ3RoIG9mIHRoZSBhbmltYXRpb24gaW4gc2Vjb25kcyAoZGVmYXVsdCA6IDEpXHJcbiAgICAqIEBwYXJhbSBkYXRhcyBPcHRpb25hbCBwYXJhbWV0ZXIgKHNlZSBzcGVjaWZpYyBhbmltYXRpb24gZm9yIGFuaW1hdGlvbiBpbmZvcm1hdGlvbnMpXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIG5ldyhhbmltYXRpb25OYW1lLCB0aW1lTGVuZ3RoID0gMSwgZGF0YXMgPSB7fSkge1xyXG4gICAgICAgIGlmKCFhbmltYXRpb25OYW1lKVxyXG4gICAgICAgICAgICBhbmltYXRpb25OYW1lID0gJ2Vhc2VJbk91dEN1YmljJztcclxuXHJcbiAgICAgICAgc3dpdGNoIChhbmltYXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Vhc2VJbk91dEN1YmljJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcFNFYXNlSW5PdXRDdWJpYyh0aW1lTGVuZ3RoLCBkYXRhcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2ludGVycG9sYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwU0ludGVycG9sYXRpb24odGltZUxlbmd0aCwgZGF0YXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xyXG4iLCJpbXBvcnQgJy4vLi4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcblxyXG5jbGFzcyBwU1Bsb3R0ZXIge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBzaW11bGF0b3IgTWFpbiBFbmdpbmUgc2ltdWxhdG9yXHJcbiAgICAqIEBwYXJhbSBkcmF3ZXIgTWFpbiBFbmdpbmUgZHJhd2VyIGluc3RhbmNlXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc2ltdWxhdG9yLCBkcmF3ZXIpIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuICAgICAgICB0aGlzLmRyYXdlciAgICA9IGRyYXdlcjtcclxuICAgICAgICB0aGlzLm9iamVjdHNMICA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdlci5wbG90dGVyID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlIG1haW4gbG9vcFxyXG4gICAgKiBAcGFyYW0gZHQgRGVsdGEgdGltZSBzaW5jZSBsYXN0IHVwZGF0ZSAoaW4gc2Vjb25kcylcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpIHtcclxuICAgICAgICAgICAgbGlnaHRzKCk7XHJcbiAgICAgICAgICAgIG9yYml0Q29udHJvbCg1LCA1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS51cGRhdGUoZHQsIHRoaXMub2JqZWN0c0wpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIERyYXcgbWFpbiBsb29wICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBwbENvbmYgPSB0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXI7XHJcbiAgICAgICAgbGV0IGJnICAgICA9IHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuY29sb3I7XHJcblxyXG4gICAgICAgIGlmKHBsQ29uZi5iYWNrZ3JvdW5kQ29sb3IuZHJhdylcclxuICAgICAgICAgICAgYmFja2dyb3VuZChiZy5yLCBiZy5nLCBiZy5iKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyBldmVyeSBvYmplY3QgdG8gdGhlIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzTC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzTFtpXS5kcmF3KHRoaXMuZHJhd2VyKTtcclxuXHJcblxyXG4gICAgICAgIC8vIERyYXcgdGhlIGdyaWRcclxuICAgICAgICBpZih0aGlzLnNpbXVsYXRvci5jb25maWcuZW5naW5lLnBsb3R0ZXIuZGlzcGxheUdyaWQpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zaW11bGF0b3IuY29uZmlnLmVuZ2luZS5wbG90dGVyLmlzXzNEKSB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGUoMTAwLCAxMCwgMCwgMCwgMCwgMjAsIDAsIC00MCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgeVMgPSBNYXRoLnJvdW5kKGhlaWdodCAvIHBsQ29uZi5zY2FsZS55IC8gMik7XHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB5UyA9IHBsQ29uZi5zY2FsZS55O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAtcGxDb25mLnNjYWxlLnggLSAxOyBpIDwgcGxDb25mLnNjYWxlLnggKyAxOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IC15UyAtIDE7IGogPCB5UyArIDE7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIucmVjdChpICsgcGxDb25mLm9mZnNldC54LCBqICsgcGxDb25mLm9mZnNldC55LCAxLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2UocGxDb25mLmdyaWRDb2xvci5yLCBwbENvbmYuZ3JpZENvbG9yLmcsIHBsQ29uZi5ncmlkQ29sb3IuYiwgcGxDb25mLmdyaWRDb2xvci5hICsgMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMilcclxuICAgICAgICAgICAgICAgICAgICAubGluZSgtcGxDb25mLnNjYWxlLnggKyBwbENvbmYub2Zmc2V0LnggLSAxLCAwLCBwbENvbmYuc2NhbGUueCArIHBsQ29uZi5vZmZzZXQueCArIDEsIDApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZighcGxDb25mLnNxdWFyZUJ5WClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlci5saW5lKDAsIC1wbENvbmYuc2NhbGUueSAtIDEsIDAsIHBsQ29uZi5zY2FsZS55ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIubGluZSgwLCAteVMgLSAxLCAwLCB5UyArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRyYXdlclxyXG4gICAgICAgICAgICAubm9GaWxsKClcclxuICAgICAgICAgICAgLnN0cm9rZShwbENvbmYuZ3JpZENvbG9yLnIsIHBsQ29uZi5ncmlkQ29sb3IuZywgcGxDb25mLmdyaWRDb2xvci5iLCBwbENvbmYuZ3JpZENvbG9yLmEpXHJcbiAgICAgICAgICAgIC5zdHJva2VXZWlnaHQoMC41KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb21wdXRlIHRoZSBYIGFuZCBZIHBpeGVsIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBkcmF3aW5nIHBhcmFtZXRlcnNcclxuICAgICogQHBhcmFtIHhSZWwgWCByZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geVJlbCBZIHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB6UmVsIFogcmVsYXRpdmUgcG9zaXRpb25cclxuICAgICogQHBhcmFtIHVzZU9mZnNldCBDYWxjdWxhdGUgd2l0aCBzaW11bGF0aW9uIG9mZnNldHMgKGRlZmF1bHQgOiB0cnVlKVxyXG4gICAgKiBAcmV0dXJuIHtYLCBZLCBafSBvYmplY3RcclxuICAgICovXHJcbiAgICBjb21wdXRlRm9yWFlaKHhSZWwsIHlSZWwsIHpSZWwsIHVzZU9mZnNldCA9IHRydWUpIHtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuc2ltdWxhdG9yLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuXHJcbiAgICAgICAgaWYoIXVzZU9mZnNldCAmJiAhYy5pc18zRCAmJiBjLnNxdWFyZUJ5WCkge1xyXG4gICAgICAgICAgICBsZXQgdjAgPSB0aGlzLmNvbXB1dGVGb3JYWVooMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHRoaXMuY29tcHV0ZUZvclhZWih4UmVsLCB5UmVsLCB6UmVsKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICAgICAgdjEueCAtIHYwLngsXHJcbiAgICAgICAgICAgICAgICB2MS55IC0gdjAueSxcclxuICAgICAgICAgICAgICAgIHYxLnogLSB2MC56XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFjLmlzXzNEKSB7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoeFJlbCAtIGMub2Zmc2V0LngpIC8gYy5zY2FsZS54ICsgMSkgKiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgKCh4UmVsICsgYy5vZmZzZXQueikgLyBjLnNjYWxlLnogKyAxKSAqIHdpZHRoIC8gMlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYoIWMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICAgICAgdi55ID0gKCgteVJlbCArIGMub2Zmc2V0LnkpIC8gYy5zY2FsZS55ICsgMSkgKiBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB2LnkgPSAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLngpICAgICAqIHdpZHRoICAvIDIgKyBoZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAzNjAgeCAzNjAgOiBncmlkIHNpemVcclxuICAgICAgICAgICAgbGV0IGZhYyA9IDE4MCAqIDAuMjg7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgICAgICgoIHhSZWwgKyBjLm9mZnNldC54KSAvIGMuc2NhbGUueCkgKiBmYWMsXHJcbiAgICAgICAgICAgICAgICAoKC15UmVsICsgYy5vZmZzZXQueSkgLyBjLnNjYWxlLnkpICogZmFjLFxyXG4gICAgICAgICAgICAgICAgKCggelJlbCArIGMub2Zmc2V0LnopIC8gYy5zY2FsZS56KSAqIGZhY1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQ29tcHV0ZSB0aGUgWCBhbmQgWSBwbG90IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBwaXhlbCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geFJlbCBYIHBpeGVsIHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSB5UmVsIFkgcGl4ZWwgcG9zaXRpb25cclxuICAgICogQHJldHVybiB7WCwgWX0gb2JqZWN0XHJcbiAgICAqL1xyXG4gICAgY29tcHV0ZUZvclhZRnJvbVBpeGVsKHgsIHkpIHtcclxuICAgICAgICBsZXQgYyA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUucGxvdHRlcjtcclxuICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IoKCh4ICogMikgLyB3aWR0aCAtIDEpICogYy5zY2FsZS54ICsgYy5vZmZzZXQueCk7XHJcblxyXG4gICAgICAgIGlmKGMuc3F1YXJlQnlYKVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoeSAqIDIpIC8gaGVpZ2h0IC0gMSkgICAgICAgICAgICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB2LnkgPSAtKCgoKHkgLSAyICogaGVpZ2h0KSAqIDIpIC8gd2lkdGgpICogYy5zY2FsZS55IC0gYy5vZmZzZXQueSk7XHJcblxyXG4gICAgICAgIHJldHVybiB2O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwU1Bsb3R0ZXI7XHJcbiIsImltcG9ydCBwU1Bsb3R0ZXIgIGZyb20gJy4vLi4vZHJhd2VyL1Bsb3R0ZXInO1xyXG5pbXBvcnQgcFNEcmF3ZXIgICBmcm9tICcuLy4uL2RyYXdlci9EcmF3ZXInO1xyXG5pbXBvcnQgcFMzRERyYXdlciBmcm9tICcuLy4uL2RyYXdlci8zRERyYXdlcic7XHJcblxyXG5jbGFzcyBwU2ltdWxhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnICAgICAgICAgPSB7fTtcclxuICAgICAgICB0aGlzLmJlZ2luVGltZSAgICAgID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmxhc3REcmF3VGltZSAgID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWcuZW5naW5lICA9IHRoaXMuZ2V0RGVmYXVsdEVuZ2luZUNvbmZpZygpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmN1c3RvbSAgPSB7fTtcclxuXHJcbiAgICAgICAgd2luZG93LmdldEN1c3RvbUNvbmZpZyA9IHRoaXMuZ2V0Q3VzdG9tQ29uZmlnO1xyXG4gICAgICAgIHdpbmRvdy5nZXRFbmdpbmVDb25maWcgPSB0aGlzLmdldEVuZ2luZUNvbmZpZztcclxuXHJcbiAgICAgICAgdGhpcy5kdE1veSAgICAgICAgID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWluaW1hbFVwZGF0ZUZQUztcclxuICAgICAgICB0aGlzLmR0VG90YWwgICAgICAgPSAwO1xyXG4gICAgICAgIHRoaXMuZHRDb3VudCAgICAgICA9IDA7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKiBJbnN0YW5jaWF0ZSB0aGUgcFNpbXVsYXRvciAqL1xyXG4gICAgaW5zdGFuY2lhdGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgd2luZG93LnByZVJ1blNpbXVsYXRvcih0aGlzKTsgLy8gcHJlbWFpbiBmdW5jdGlvblxyXG4gICAgICAgIH0gY2F0Y2goZSkge30gLy8gbm90IGZvdW5kXHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUDVJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmNvbmZpZy5lbmdpbmUucGxvdHRlci5pc18zRCkge1xyXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGVzKCdhbnRpYWxpYXMnLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyID0gbmV3IHBTUGxvdHRlcih0aGlzLCBuZXcgcFNEcmF3ZXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyID0gbmV3IHBTUGxvdHRlcih0aGlzLCBuZXcgcFMzRERyYXdlcigpKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG5cclxuICAgICAgICB3aW5kb3cucnVuU2ltdWxhdG9yKHRoaXMpOyAvLyBtYWluIGZ1bmN0aW9uXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBwNSBpbnN0YW5jZSBhbmQgY3JlYXRlcyBsb29wcyBmb3IgdGhlIHNpbXVsYXRpb24gKi9cclxuICAgIGNyZWF0ZVA1SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmdldENhbnZhc1Byb3BvcnRpb25zKHRoaXMuY29uZmlnLmVuZ2luZS53aW5kb3cucHJvcG9ydGlvbnMpO1xyXG5cclxuICAgICAgICBpZighdGhpcy5jb25maWcuZW5naW5lLnBsb3R0ZXIuaXNfM0QpXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHAudywgcC5oLCBXRUJHTCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudCh0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmRpdklkKTtcclxuXHJcbiAgICAgICAgbGV0IHJ1ID0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lcjtcclxuICAgICAgICBpZihydS5VUERBVEVfRlBTID49IHJ1LkRSQVdfRlBTKSBmcmFtZVJhdGUocnUuVVBEQVRFX0ZQUyk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLmVycm9yKCdUaGUgVXBkYXRlcyBGUFMgbXVzdCBiZSBzdXBlcmlvciBhcyB0aGUgRHJhd3MgRlBTLicpXHJcblxyXG5cclxuICAgICAgICAvLyBydW5zIGV2ZXJ5IHRpbWUgaXQncyBwb3NzaWJsZVxyXG4gICAgICAgIHdpbmRvdy5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzICAgICAgICAgICAgPSBfcFNpbXVsYXRpb25JbnN0YW5jZTtcclxuICAgICAgICBcdGxldCBjdXJyZW50VGltZSAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFx0bGV0IGR0ICAgICAgICAgICA9IChjdXJyZW50VGltZSAtIHMubGFzdFVwZGF0ZVRpbWUpIC8gMTAwMDtcclxuICAgICAgICAgICAgbGV0IGNyaXRpcUR0ICAgICA9IHMuZHRNb3kgKyBzLmR0TW95ICogcy5jb25maWcuZW5naW5lLnJ1bm5lci5yb2xsYmFja0NvbnRyb2wubWF4U3RhbmRhcmREZXZpYXRpb247XHJcblxyXG4gICAgICAgICAgICBzLm1vdXNlUG9zID0gcy5wbG90dGVyLmNvbXB1dGVGb3JYWUZyb21QaXhlbChtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgICAgICAgICBpZihkdCA+IGNyaXRpcUR0KVxyXG4gICAgICAgICAgICAgICAgZHQgPSBzLmR0TW95O1xyXG4gICAgICAgIFx0cy5sYXN0VXBkYXRlVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIFx0cy5wbG90dGVyLnVwZGF0ZShkdCAqIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIuc2ltdWxhdGlvblNwZWVkKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGN1cnJlbnRUaW1lIC0gcy5sYXN0RHJhd1RpbWUgPj0gMSAvIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIuRFJBV19GUFMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGR0IDw9IGNyaXRpcUR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5kdFRvdGFsICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgIHMuZHRDb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHMuZHRDb3VudCAlIHMuY29uZmlnLmVuZ2luZS5ydW5uZXIucm9sbGJhY2tDb250cm9sLmF2ZXJhZ2VUaW1lU2FtcGxlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5kdE1veSAgID0gcy5kdFRvdGFsIC8gcy5kdENvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmR0VG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmR0Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzLnBsb3R0ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgcy5sYXN0RHJhd1RpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJ1bnMgZXZlcnkgdGltZSB0aGUgd2luZG93IGlzIHJlc2l6ZWRcclxuICAgICAgICB3aW5kb3cud2luZG93UmVzaXplZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgcCA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLmdldENhbnZhc1Byb3BvcnRpb25zKF9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmUud2luZG93LnByb3BvcnRpb25zKTtcclxuICAgICAgICAgICAgcmVzaXplQ2FudmFzKHAudywgcC5oKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBydW4gZWFjaCB0aW1lIG1vdXNlIGlzIHByZXNzZWRcclxuICAgICAgICB3aW5kb3cubW91c2VEcmFnZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKCFfcFNpbXVsYXRpb25JbnN0YW5jZS5jb25maWcuZW5naW5lLnJ1bm5lci5tb3ZhYmxlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1vdXNlUG9zID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5jb21wdXRlRm9yWFlGcm9tUGl4ZWwobW91c2VYLCBtb3VzZVkpO1xyXG4gICAgICAgICAgICBpZighX3BTaW11bGF0aW9uSW5zdGFuY2UubW91c2VQb3MuZXF1YWxzKG1vdXNlUG9zKSkge1xyXG4gICAgICAgICAgICAgICAgX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLm9mZnNldC54IC09IG1vdXNlUG9zLnggLSBfcFNpbXVsYXRpb25JbnN0YW5jZS5tb3VzZVBvcy54O1xyXG4gICAgICAgICAgICAgICAgX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmVuZ2luZS5wbG90dGVyLm9mZnNldC55IC09IG1vdXNlUG9zLnkgLSBfcFNpbXVsYXRpb25JbnN0YW5jZS5tb3VzZVBvcy55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKiBAcmV0dXJuIHt3LCBofSBwcm9wb3J0aW9ucyBvZiB0aGUgY2FudmFzIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzICovXHJcbiAgICBnZXRDYW52YXNQcm9wb3J0aW9ucyhjUCkge1xyXG4gICAgICAgIGxldCB3LCBoO1xyXG5cclxuICAgICAgICBpZihjUC5pc1JlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgIHcgPSB3aW5kb3dXaWR0aCAgKiBjUC53aWR0aDtcclxuICAgICAgICAgICAgaCA9IHdpbmRvd0hlaWdodCAqIGNQLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHcgPSBjUC53aWR0aCAgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGggPSBjUC5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge3csIGh9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY3VzdG9tT2JqZWN0IHRoZSBPYmplY3QgdGhhdCBpcyBnb2luZyB0byBiZSBzaW11bGF0ZWQgKGNhbiBiZSBpbnN0YW5jaWF0ZWQgb3Igbm90KVxyXG4gICAgKiBAcGFyYW0gbnVtYmVyIE51bWJlciBvZiBvYmplY3RzIHRvIGJlIGluc3RhbmNpYXRlZFxyXG4gICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBwYXJhbWV0ZXJzIGluIHRoZSBmdW5jdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBhZGRPYmplY3RzKGN1c3RvbU9iamVjdCwgbnVtYmVyID0gMSwgLi4ucGFyYW1zKSB7XHJcbiAgICAgICAgaWYoY3VzdG9tT2JqZWN0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvcHlQYXJhbXNUZW1wID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcmFtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbal0gaW5zdGFuY2VvZiBBcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbXNbal1bMF0gIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHBhcmFtc1tqXVsxXSAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcGFyYW1zW2pdWzFdIGluc3RhbmNlb2YgRnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAgICAgKHBhcmFtc1tqXVswXSA9PSB0aGlzLmNvbmZpZy5lbmdpbmUucnVubmVyLmFkZGluZ09iamVjdHNDb25maWdLZXlXb3Jkcy5ydW5GdW5jdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKHBhcmFtc1tqXVsxXSguLi5wYXJhbXNbal0uc2xpY2UoMikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwYXJhbXNbal1bMF0gPT0gdGhpcy5jb25maWcuZW5naW5lLnJ1bm5lci5hZGRpbmdPYmplY3RzQ29uZmlnS2V5V29yZHMucnVuQ2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5UGFyYW1zVGVtcC5wdXNoKG5ldyBwYXJhbXNbal1bMV0oLi4ucGFyYW1zW2pdLnNsaWNlKDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVBhcmFtc1RlbXAucHVzaChwYXJhbXNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2gobmV3IGN1c3RvbU9iamVjdCguLi5jb3B5UGFyYW1zVGVtcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbG90dGVyLm9iamVjdHNMLnB1c2goY3VzdG9tT2JqZWN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEByZXR1cm4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvZiB0aGUgZW5naW5lICovXHJcbiAgICBnZXREZWZhdWx0RW5naW5lQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJ1bm5lciA6IHtcclxuICAgICAgICAgICAgICAgIGRpdklkIDogJ3NpbXVsYXRpb25Db250ZW50JyxcclxuICAgICAgICAgICAgICAgIFVQREFURV9GUFMgOiAxMjAsXHJcbiAgICAgICAgICAgICAgICBEUkFXX0ZQUyAgIDogNjAsXHJcbiAgICAgICAgICAgICAgICBzaW11bGF0aW9uU3BlZWQgOiAxLFxyXG4gICAgICAgICAgICAgICAgYWRkaW5nT2JqZWN0c0NvbmZpZ0tleVdvcmRzIDogeyAgLy8ga2V5d29yZHMgZm9yIHdoZW4gd2UgYWRkIG9iamVjdHMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBlbmdpbmVcclxuICAgICAgICAgICAgICAgICAgICBydW5GdW5jdGlvbnMgOiAnX1JVTl9GJywgLy8gcnVuIGEgZnVuY3Rpb24gd2l0aCAgICAgICBbJ19SVU5fRicsIGZ1bmN0aW9uTmFtZSwgcGFyYW0xLCBwYXJhbTIsIC4uLl0sXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuQ2xhc3MgICAgIDogJ19SVU5fQycgIC8vIGluc3RhbmNpYXRlcyBhIGNsYXNzIHdpdGggWydfUlVOX0MnLCBjbGFzc05hbWUgICAsIHBhcmFtMSwgcGFyYW0yLCAuLi5dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tDb250cm9sIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0YW5kYXJkRGV2aWF0aW9uIDogMC44LCAgLy8gbWF4aW11bSB0aWNrIGRldmlhdGlvbiBwZXJjZW50YWdlIGZvciB0aGUgc29mdHdhcmUgdG8gY29uc2lkZXIgYXMgYSByb2xsYmFjayAoaW4gc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICBhdmVyYWdlVGltZVNhbXBsZSAgICA6IDIwLCAgIC8vIHNhbXBsZSBzaXplIGZvciB0aWNrIGF2ZXJhZ2UgKGluIHNlY29uZHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbmltYWxVcGRhdGVGUFMgICAgIDogMC4xNSAgLy8gbWluaW1hbCB1cGRhdGUgZnJhbWVzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXNfbW92YWJsZSA6IGZhbHNlIC8vIGNhbiB0aGUgY3Vyc29yIG1vdmUgb24gdGhlIHNjcmVlblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3aW5kb3cgOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wb3J0aW9ucyA6IHsgIC8vIHdpbmRvdyBoZWlnaHQgYW5kIHdpZHRoIG9uIHJlbGF0aXZlIG9yIGFic29sdXRlIHNpemVzXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZWxhdGl2ZSA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggIDogMC45OSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgOiAwLjk5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXHRwbG90dGVyIDoge1xyXG4gICAgICAgIFx0XHRzY2FsZSA6IHsgIC8vIGRpc3BsYXlzIHggcmVsYXRpdmUgdW5pdHMgb24gZWFjaCBzaWRlXHJcbiAgICAgICAgXHRcdFx0eCA6IDEwLFxyXG4gICAgICAgIFx0XHRcdHkgOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICB6IDogMTBcclxuICAgICAgICBcdFx0fSxcclxuICAgICAgICBcdFx0b2Zmc2V0IDogeyAgLy8geCBhbmQgeSByZWxhdGl2ZSBvZmZzZXRcclxuICAgICAgICBcdFx0XHR4IDogMCxcclxuICAgICAgICBcdFx0XHR5IDogMCxcclxuICAgICAgICAgICAgICAgICAgICB6IDogMFxyXG4gICAgICAgIFx0XHR9LFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXcgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yIDogeyByIDogMCAsIGcgOiAwICwgYiA6IDAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNxdWFyZUJ5WCAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNfM0QgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBncmlkQ29sb3IgICAgICAgOiB7IHIgOiAyNTUsIGcgOiAyNTUsIGIgOiAyNTUsIGEgOiAwLjMgfSxcclxuICAgICAgICBcdFx0ZGlzcGxheUdyaWQgICAgIDogZmFsc2UgIC8vIHRydWUgOiBkaXNwbGF5IGdyYXBoIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICBcdH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnRnVuYyBUaGUgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICovXHJcbiAgICBzZXRQcmVFbmdpbmVDb25maWcoY29uZmlnRnVuYykge1xyXG4gICAgICAgIGNvbmZpZ0Z1bmModGhpcy5jb25maWcuZW5naW5lKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbmZpZ0Z1bmMgVGhlIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgZW5naW5lIGNvbmZpZ3VyYXRpb25cclxuICAgICogQHJldHVybiB0aGlzXHJcbiAgICAqL1xyXG4gICAgc2V0RW5naW5lQ29uZmlnKGNvbmZpZ0Z1bmMpIHtcclxuICAgICAgICBjb25maWdGdW5jKHRoaXMuY29uZmlnLmVuZ2luZSk7XHJcbiAgICAgICAgd2luZG93LndpbmRvd1Jlc2l6ZWQoKTsgLy8gaWYgcHJvcG9ydGlvbnMgY2hhbmdlZFxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0gY29uZmlnIFRoZSBmdW5jdGlvbiB0aGF0IG1vZGlmaWVzIGN1c3RvbSBjb25maWd1cmF0aW9uXHJcbiAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgKi9cclxuICAgIHNldEN1c3RvbUNvbmZpZyhjb25maWdGdW5jKSB7XHJcbiAgICAgICAgY29uZmlnRnVuYyh0aGlzLmNvbmZpZy5jdXN0b20pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJuIHRoZSBlbmdpbmUgY29uZmlndXJhdGlvblxyXG4gICAgKi9cclxuICAgIGdldEVuZ2luZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmNvbmZpZy5lbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm4gdGhlIGN1c3RvbSBjb25maWd1cmF0aW9uXHJcbiAgICAqL1xyXG4gICAgZ2V0Q3VzdG9tQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuX3BTaW11bGF0aW9uSW5zdGFuY2UuY29uZmlnLmN1c3RvbTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0UFNFbmdpbmVWYXIoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAVE9ET1xyXG4gICAgICAgICovXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTaW11bGF0b3I7XHJcbiIsImltcG9ydCBwU0RyYXdlciBmcm9tICcuL0RyYXdlcic7XHJcblxyXG5jbGFzcyBwUzNERHJhd2VyIHtcclxuICAgIC8qKiBDb25zdHJ1Y3QgdGhlIG1haW4gcFMzREVuZ2luZSBkcmF3ZXIgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBsb3R0ZXIpIHtcclxuICAgICAgICB0aGlzLnBsb3R0ZXIgID0gbnVsbDsgLy8gc2V0IHdoZW4gbG9hZGVkIGluIHRoZSBQbG90dGVyIGNsYXNzXHJcbiAgICAgICAgdGhpcy5kcmF3ZXIyRCA9IG5ldyBwU0RyYXdlcihwbG90dGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHJva2UgICAgICAgPSB0aGlzLmRyYXdlcjJELnN0cm9rZTtcclxuICAgICAgICB0aGlzLnN0cm9rZVdlaWdodCA9IHRoaXMuZHJhd2VyMkQuc3Ryb2tlV2VpZ2h0O1xyXG4gICAgICAgIHRoaXMuZmlsbCAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5maWxsO1xyXG4gICAgICAgIHRoaXMuYmVnaW5TaGFwZSAgID0gdGhpcy5kcmF3ZXIyRC5iZWdpblNoYXBlO1xyXG4gICAgICAgIHRoaXMuZW5kU2hhcGUgICAgID0gdGhpcy5kcmF3ZXIyRC5lbmRTaGFwZTtcclxuICAgICAgICB0aGlzLnZlcnRleCAgICAgICA9IHRoaXMuZHJhd2VyMkQudmVydGV4O1xyXG4gICAgICAgIHRoaXMucG9wICAgICAgICAgID0gdGhpcy5kcmF3ZXIyRC5wb3A7XHJcbiAgICAgICAgdGhpcy5wdXNoICAgICAgICAgPSB0aGlzLmRyYXdlcjJELnB1c2g7XHJcbiAgICAgICAgdGhpcy5ub1N0cm9rZSAgICAgPSB0aGlzLmRyYXdlcjJELm5vU3Ryb2tlO1xyXG4gICAgICAgIHRoaXMubm9GaWxsICAgICAgID0gdGhpcy5kcmF3ZXIyRC5ub0ZpbGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGluZSh4MCwgeTAsIHowLCB4MSwgeTEsIHoxKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDAsIHkwLCB6MCk7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeDEsIHkxLCB6MSk7XHJcblxyXG4gICAgICAgIGJlZ2luU2hhcGUoKTtcclxuICAgICAgICAgICAgdmVydGV4KHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICB2ZXJ0ZXgodjEueCwgdjEueSwgdjEueik7XHJcbiAgICAgICAgZW5kU2hhcGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3BoZXJlKHgsIHksIHosIHIpIHtcclxuICAgICAgICBsZXQgdjAgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWih4LCB5LCB6KTtcclxuICAgICAgICBsZXQgdjEgPSB0aGlzLnBsb3R0ZXIuY29tcHV0ZUZvclhZWihyLCAwLCAwKTtcclxuXHJcbiAgICAgICAgcHVzaCgpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUodjAueCwgdjAueSwgdjAueik7XHJcbiAgICAgICAgICAgIHNwaGVyZSh2MS54KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uZSh4LCB5LCB6LCByLCBoKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBjb25lKHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBib3goeCwgeSwgeiwgdywgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgYm94KHYxLngsIHYxLnkpO1xyXG4gICAgICAgIHBvcCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjeWxpbmRlcih4LCB5LCB6LCByLCBoKSB7XHJcbiAgICAgICAgbGV0IHYwID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVooeCwgeSwgeik7XHJcbiAgICAgICAgbGV0IHYxID0gdGhpcy5wbG90dGVyLmNvbXB1dGVGb3JYWVoociwgaCwgMCk7XHJcblxyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlKHYwLngsIHYwLnksIHYwLnopO1xyXG4gICAgICAgICAgICBjeWxpbmRlcih2MS54LCB2MS55KTtcclxuICAgICAgICBwb3AoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhbmUoeCwgeSwgeiwgdywgaCkge1xyXG4gICAgICAgIGxldCB2MCA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHgsIHksIHopO1xyXG4gICAgICAgIGxldCB2MSA9IHRoaXMucGxvdHRlci5jb21wdXRlRm9yWFlaKHcsIGgsIDApO1xyXG5cclxuICAgICAgICBwdXNoKCk7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSh2MC54LCB2MC55LCB2MC56KTtcclxuICAgICAgICAgICAgcGxhbmUodjEueCwgdjEueSk7XHJcbiAgICAgICAgcG9wKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHNjYWxlKHMpIHtcclxuICAgICAgICBzY2FsZShzKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBtb2RlbChtLCBubSkge1xyXG4gICAgICAgIHB1c2goKTtcclxuICAgICAgICAgICAgc2NhbGUoLTEpO1xyXG4gICAgICAgICAgICBpZiAobm0pXHJcbiAgICAgICAgICAgICAgICBub3JtYWxNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtb2RlbChtKTtcclxuICAgICAgICBwb3AoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm0oeCwgeSwgeikge1xyXG4gICAgICAgIHRyYW5zZm9ybSh4LCB5LCB6KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFMzRERyYXdlcjtcclxuIiwiaW1wb3J0ICcuLy4uLy4uL3V0aWxpdGllcy9WZWN0b3InO1xyXG5pbXBvcnQgJy4vLi4vQW5pbWF0aW9uJztcclxuaW1wb3J0ICcuL1RleHQnO1xyXG5cclxuXHJcbmNsYXNzIHBTUG9pbnQge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgUG9pbnRcclxuICAgICogQHBhcmFtIHggWCBwb2ludCBwb3NpdGlvblxyXG4gICAgKiBAcGFyYW0geSBZIHBvaW50IHBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSBjb2xvciBkcmF3aW5nIGNvbG9yIG9mIHRoZSBwb2ludFxyXG4gICAgKiBAcGFyYW0gcG9pbnROYW1lIG5hbWUgb2YgdGhlIHBvaW50IChpbiBMYVRlWClcclxuICAgICogQHBhcmFtIHBvaW50U2l6ZSBTaXplIG9mIHRoZSBwb2ludCAoZGVmYXVsdCA2KVxyXG4gICAgKiBAcGFyYW0gdmVjdG9yTmFtZSBOYW1lIG9mIHRoZSB2ZWN0b3JcclxuICAgICogQHBhcmFtIGRyYXdPcmlnaW5WZWN0b3IgdHJ1ZSA6IGRyYXcgdGhlIHZlY3RvciBmcm9tIHRoZSBvcmlnaW4gdG8gdGhpcyBwb2ludFxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGNvbG9yID0gJ3doaXRlJywgcG9pbnROYW1lLCBwb2ludFNpemUgPSA2LCB2ZWN0b3JOYW1lLCBkcmF3T3JpZ2luVmVjdG9yID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMucG9zID0gbmV3IFZlY3Rvcih4LCB5LCBjb2xvciwgdmVjdG9yTmFtZSk7XHJcblxyXG4gICAgICAgIGlmKHBvaW50TmFtZSAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMucG9pbnROYW1lID0gbmV3IHBTVGV4dChwb2ludE5hbWUsIHRoaXMucG9zLCAxOCwgY29sb3IpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdPcmlnaW5WZWN0b3IgPSBkcmF3T3JpZ2luVmVjdG9yO1xyXG4gICAgICAgIHRoaXMucG9pbnRTaXplICAgICAgICA9IHBvaW50U2l6ZTtcclxuICAgICAgICB0aGlzLnBvaW50U2l6ZURyYXdpbmcgPSBwb2ludFNpemU7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dFBhZGRpbmcgPSAwLjQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVwZGF0ZXMgdGhlIHBvaW50XHJcbiAgICAqIEBwYXJhbSBkdCBEZWx0YSB0aW1lIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKGR0KSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICogRHJhdyB0aGUgcG9pbnQgdG8gdGhlIHNjcmVlblxyXG4gICAgKi9cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IGRyYXdlciA9IF9wU2ltdWxhdGlvbkluc3RhbmNlLnBsb3R0ZXIuZHJhd2VyO1xyXG5cclxuICAgICAgICAvLyBQT0lOVCBMT0NBVElPTlxyXG4gICAgICAgIGRyYXdlclxyXG4gICAgICAgICAgICAuZmlsbChwYXJzZUludCh0aGlzLnBvcy5jb2xvclswXSAqIDAuNCksIHBhcnNlSW50KHRoaXMucG9zLmNvbG9yWzFdICogMC40KSwgcGFyc2VJbnQodGhpcy5wb3MuY29sb3JbMl0gKiAwLjQpKVxyXG4gICAgICAgICAgICAubm9TdHJva2UoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICAgICAgLnN0cm9rZSh0aGlzLnBvcy5jb2xvcilcclxuICAgICAgICAgICAgLnN0cm9rZVdlaWdodCgxLjEpXHJcbiAgICAgICAgICAgIC5ub0ZpbGwoKVxyXG4gICAgICAgICAgICAuZWxsaXBzZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLnBvaW50U2l6ZURyYXdpbmcsIHRoaXMucG9pbnRTaXplRHJhd2luZylcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8vIE9SSUdJTiBWRUNUT1JcclxuICAgICAgICBpZih0aGlzLnBvcy5uYW1lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmRyYXdPcmlnaW5WZWN0b3IpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLmRyYXcoKTtcclxuXHJcbiAgICAgICAgLy8gUE9JTlQgTkFNRVxyXG4gICAgICAgIGlmKHRoaXMucG9pbnROYW1lID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgdGhpcy50ZXh0UGFkZGluZyk7XHJcbiAgICAgICAgaWYodGhpcy5wb3MubmFtZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5kcmF3T3JpZ2luVmVjdG9yICYmIHRoaXMucG9zLnkgPCAwKVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TmFtZS5wb3MgPSAodGhpcy5wb3MuY29weSgpKS5hZGQoMCwgLXRoaXMudGV4dFBhZGRpbmcpO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50TmFtZS5kcmF3KGRyYXdlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTUG9pbnQ7XHJcbiIsImltcG9ydCAnLi8uLi8uLi91dGlsaXRpZXMvVmVjdG9yJztcclxuaW1wb3J0ICcuLy4uL0FuaW1hdGlvbic7XHJcbmltcG9ydCAnLi9UZXh0JztcclxuXHJcbmNsYXNzIHBTVHJpYW5nbGUge1xyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSBuZXcgVHJpYW5nbGVcclxuICAgICogQHBhcmFtIHAwIFZlY3RvciB0byB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlXHJcbiAgICAqIEBwYXJhbSBwMSBWZWN0b3IgdG8gdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gcDIgVmVjdG9yIHRvIHRoZSB0aGlyZCBwb2ludCBvZiB0aGUgdHJpYW5nbGUgKGRlZmF1bHQgKDAsIDApKVxyXG4gICAgKiBAcGFyYW0gZmlsbENvbG9yIFRoZSB0cmlhbmdsZSBmaWxsIGNvbG9yIChkZWZhdWx0IG5vbmUpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VDb2xvciBUaGUgdHJpYW5nbGUgc3Ryb2tlIGNvbG9yIChkZWZhdWx0IG5vbmUpXHJcbiAgICAqIEBwYXJhbSBzdHJva2VXZWlnaHQgVGhlIHRyaWFuZ2xlIHN0cm9rZVdlaWdodCAoZGVmYXVsdCAxKVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHAwLCBwMSA9IG5ldyBWZWN0b3IoKSwgcDIgPSBuZXcgVmVjdG9yKCksIGZpbGxDb2xvciA9ICd3aGl0ZScsIHN0cm9rZUNvbG9yID0gJ25vbmUnLCBzdHJva2VXZWlnaHQgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhwMCwgcDEsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gQ29sb3JzXHJcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgICAgPSBmaWxsQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VDb2xvciAgPSBzdHJva2VDb2xvcjtcclxuICAgICAgICB0aGlzLnN0cm9rZVdlaWdodCA9IHN0cm9rZVdlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBwMCBWZWN0b3IgdG8gdGhlIGZpcnN0IHBvaW50IG9mIHRoZSB0cmlhbmdsZVxyXG4gICAgKiBAcGFyYW0gcDEgVmVjdG9yIHRvIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIHRyaWFuZ2xlIChkZWZhdWx0IGxhc3QgcG9pbnQpXHJcbiAgICAqIEBwYXJhbSBwMiBWZWN0b3IgdG8gdGhlIHRoaXJkIHBvaW50IG9mIHRoZSB0cmlhbmdsZSAoZGVmYXVsdCBsYXN0IHBvaW50KVxyXG4gICAgKi9cclxuICAgIHNldENvb3JkaW5hdGVzKHAwLCBwMSwgcDIpIHtcclxuICAgICAgICB0aGlzLnAwID0gcDAgfHwgbmV3IFZlY3RvcihwMC54LCBwMC55KTtcclxuICAgICAgICB0aGlzLnAxID0gcDEgPT0gdW5kZWZpbmVkID8gdGhpcy5wMSA6IG5ldyBWZWN0b3IocDEueCwgcDEueSk7XHJcbiAgICAgICAgdGhpcy5wMiA9IHAyID09IHVuZGVmaW5lZCA/IHRoaXMucDIgOiBuZXcgVmVjdG9yKHAyLngsIHAyLnkpO1xyXG5cclxuICAgICAgICAvLyBUaGUgYmFyeWNlbnRlciwgb3IgY2VudGVyIG9mIG1hc3MuIFRoaXMgaXMgdGhlXHJcbiAgICAgICAgLy8gcG9pbnQgYXJvdW5kIHdoaWNoIHRoZSB0cmlhbmdsZSB3aWxsIHJvdGF0ZS5cclxuICAgICAgICB0aGlzLnBHID0gVmVjdG9yLmRpdihWZWN0b3IuYWRkKFZlY3Rvci5hZGQodGhpcy5wMCwgdGhpcy5wMSksIHRoaXMucDIpLCAzKTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHZlY3RvcnMgcG9pbnRpbmcgZnJvbSB0aGUgYmFyeWNlbnRlciB0byBQMCwgUDFcclxuICAgICAgICAvLyBhbmQgUDIuIFRoZXkgYXJlIHVzZWZ1bCB3aGVuIHJvdGF0aW5nIHRoZSB0cmlhbmdsZS5cclxuICAgICAgICB0aGlzLnYwID0gVmVjdG9yLnN1Yih0aGlzLnAwLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnYxID0gVmVjdG9yLnN1Yih0aGlzLnAxLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnYyID0gVmVjdG9yLnN1Yih0aGlzLnAyLCB0aGlzLnBHKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJvdGF0ZXMgdGhlIHRyaWFuZ2xlIGJ5IHRoZSBzcGVjaWZpZWQgYW5nbGUsIGFyb3VuZFxyXG4gICAgKiBpdHMgY2VudGVyIG9mIG1hc3MuXHJcbiAgICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBvZiByb3RhdGlvblxyXG4gICAgKi9cclxuICAgIHJvdGF0ZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMudjAucm90YXRlKGFuZ2xlKTtcclxuICAgICAgICB0aGlzLnYxLnJvdGF0ZShhbmdsZSk7XHJcbiAgICAgICAgdGhpcy52Mi5yb3RhdGUoYW5nbGUpO1xyXG5cclxuICAgICAgICB0aGlzLnAwID0gVmVjdG9yLmFkZCh0aGlzLnYwLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnAxID0gVmVjdG9yLmFkZCh0aGlzLnYxLCB0aGlzLnBHKTtcclxuICAgICAgICB0aGlzLnAyID0gVmVjdG9yLmFkZCh0aGlzLnYyLCB0aGlzLnBHKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyYW5zbGF0ZXMgdGhlIHRyaWFuZ2xlIGZyb20gaXRzIGJhcnljZW50ZXIgYnkgdGhlXHJcbiAgICAqIHNwZWNpZmllZCBkaXN0YW5jZSBpbiBYIGFuZCBZLlxyXG4gICAgKiBAcGFyYW0geCBUaGUgZGlzdGFuY2Ugb24gdGhlIFggYXhpcy5cclxuICAgICogQHBhcmFtIHkgVGhlIGRpc3RhbmNlIG9uIHRoZSBZIGF4aXMuXHJcbiAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKFxyXG4gICAgICAgICAgICAgICAgVmVjdG9yLmFkZCh0aGlzLnAwLCBuZXcgVmVjdG9yKHgsIHkpKSxcclxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQodGhpcy5wMSwgbmV3IFZlY3Rvcih4LCB5KSksXHJcbiAgICAgICAgICAgICAgICBWZWN0b3IuYWRkKHRoaXMucDIsIG5ldyBWZWN0b3IoeCwgeSkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVHJhbnNsYXRlcyB0aGUgdHJpYW5nbGUgZnJvbSBpdHMgYmFyeWNlbnRlciBieVxyXG4gICAgKiB0aGUgc3BlY2lmaWVkIHZlY3Rvci5cclxuICAgICogQHBhcmFtIHYgVGhlIHZlY3RvciB0byB0cmFuc2xhdGUgdGhlIHRyaWFuZ2xlLlxyXG4gICAgKi9cclxuICAgIHRyYW5zbGF0ZSh2KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGUodi54LCB2LnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogVXBkYXRlcyB0aGUgdHJpYW5nbGVcclxuICAgICogQHBhcmFtIGR0IERlbHRhIHRpbWUgc2luY2UgbGFzdCB1cGRhdGVcclxuICAgICovXHJcbiAgICB1cGRhdGUoZHQpIHt9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEcmF3cyB0aGUgdHJpYW5nbGUgb24gdGhlIHNjcmVlbi5cclxuICAgICovXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGxldCBkID0gX3BTaW11bGF0aW9uSW5zdGFuY2UucGxvdHRlci5kcmF3ZXI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZmlsbENvbG9yID09ICdub25lJylcclxuICAgICAgICAgICAgZC5ub0ZpbGwoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGQuZmlsbCh0aGlzLmZpbGxDb2xvcik7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3Ryb2tlQ29sb3IgPT0gJ25vbmUnKVxyXG4gICAgICAgICAgICBkLm5vU3Ryb2tlKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkLnN0cm9rZSh0aGlzLnN0cm9rZUNvbG9yKS5zdHJva2VXZWlnaHQodGhpcy5zdHJva2VXZWlnaHQpO1xyXG5cclxuICAgICAgICBkLnB1c2goKVxyXG4gICAgICAgICAgICAuYmVnaW5TaGFwZSgpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDAueCwgdGhpcy5wMC55KVxyXG4gICAgICAgICAgICAgICAgLnZlcnRleCh0aGlzLnAxLngsIHRoaXMucDEueSlcclxuICAgICAgICAgICAgICAgIC52ZXJ0ZXgodGhpcy5wMi54LCB0aGlzLnAyLnkpXHJcbiAgICAgICAgICAgICAgICAudmVydGV4KHRoaXMucDAueCwgdGhpcy5wMC55KVxyXG4gICAgICAgICAgICAuZW5kU2hhcGUoKVxyXG4gICAgICAgIC5wb3AoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcFNUcmlhbmdsZTtcclxuIiwiLy8gPT09PT09PT09PSBQU0VOR0lORSBWQVJJQUJMRVMgPT09PT09PT09PVxyXG4vLyA9PT09IENvcmUgPT09PVxyXG5pbXBvcnQgcFNpbXVsYXRvciBmcm9tICcuL2NvcmUvU2ltdWxhdG9yJztcclxuXHJcbi8vID09PT0gRHJhd2VyID09PT1cclxuLy8gT2JqZWN0c1xyXG5pbXBvcnQgcFNQb2ludCAgICBmcm9tICcuL2RyYXdlci9vYmplY3RzL1BvaW50JztcclxuaW1wb3J0IHBTVGV4dCAgICAgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9UZXh0JztcclxuaW1wb3J0IHBTVHJpYW5nbGUgZnJvbSAnLi9kcmF3ZXIvb2JqZWN0cy9UcmlhbmdsZSc7XHJcblxyXG4vLyBSb290XHJcbmltcG9ydCBBbmltYXRpb24gIGZyb20gJy4vZHJhd2VyL0FuaW1hdGlvbic7XHJcbmltcG9ydCBwU0RyYXdlciAgIGZyb20gJy4vZHJhd2VyL0RyYXdlcic7XHJcbmltcG9ydCBwUzNERHJhd2VyIGZyb20gJy4vZHJhd2VyLzNERHJhd2VyJztcclxuaW1wb3J0IHBTUGxvdHRlciAgZnJvbSAnLi9kcmF3ZXIvUGxvdHRlcic7XHJcblxyXG4vLyA9PT09IFV0aWxpdGllcyA9PT09XHJcbmltcG9ydCBWZWN0b3IgICAgIGZyb20gJy4vdXRpbGl0aWVzL1ZlY3Rvcic7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBHTE9CQUwgVkFSSUFCTEVTID09PT09PT09PT1cclxuLy8gPT09PSBEcmF3ZXIgPT09PVxyXG4vLyBPYmplY3RzXHJcbmdsb2JhbC5wU1BvaW50ICAgICA9IHBTUG9pbnQ7XHJcbmdsb2JhbC5wU1RleHQgICAgICA9IHBTVGV4dDtcclxuZ2xvYmFsLnBTVHJpYW5nbGUgID0gcFNUcmlhbmdsZTtcclxuXHJcbi8vIFJvb3RcclxuZ2xvYmFsLnBTQW5pbWF0aW9uID0gQW5pbWF0aW9uO1xyXG5cclxuLy8gPT09PSBVdGlsaXRpZXMgPT09PVxyXG5nbG9iYWwuVmVjdG9yICAgICAgPSBWZWN0b3I7XHJcblxyXG5cclxuLy8gPT09PT09PT09PSBQU0VOR0lORSBMQVVOQ0ggPT09PT09PT09PVxyXG5pbXBvcnQgJy4vY29yZS9pbml0JztcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHBTaW11bGF0b3IgZnJvbSAnLi9TaW11bGF0b3InO1xyXG5cclxuY2xhc3MgcFNFbmdpbmUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0aWYod2luZG93LnA1ID09IHVuZGVmaW5lZClcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHQnWW91IG11c3QgaW1wb3J0IHA1LmpzIGluIG9yZGVyIHRvIHJ1biB0aGUgUGh5c2ljcyBTaW11bGF0aW9uIEVuZ2luZS4nLFxyXG5cdFx0XHRcdCdNb3JlIGluZm9ybWF0aW9ucyBvbiB0aGUgcDUgd2Vic2l0ZSBodHRwczovL3A1anMub3JnLy4nXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gdXNlcyB0aGUgcDUgZnVuY3Rpb25zXHJcblx0XHR3aW5kb3cuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlID0gbmV3IHBTaW11bGF0b3IoKTtcclxuXHRcdFx0d2luZG93Ll9wU2ltdWxhdGlvbkluc3RhbmNlLmluc3RhbmNpYXRlKCk7XHJcblx0XHRcdHdpbmRvdy5wU0VuZ2luZSA9IHdpbmRvdy5fcFNpbXVsYXRpb25JbnN0YW5jZS5nZXRQU0VuZ2luZVZhcigpO1xyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iLCJpbXBvcnQgcFNFbmdpbmUgZnJvbSAnLi9tYWluJztcclxuXHJcbmNvbnN0IF9wU2dsb2JhbEVuZ2luZUluaXQgPSAoKSA9PiB7XHJcblx0bmV3IHBTRW5naW5lKCk7XHJcbn07XHJcblxyXG5jb25zdCB3YWl0Rm9yRG9jdW1lbnRSZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgLy8gY29tcGxldGVcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxud2FpdEZvckRvY3VtZW50UmVhZHkudGhlbihfcFNnbG9iYWxFbmdpbmVJbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBTRW5naW5lO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9